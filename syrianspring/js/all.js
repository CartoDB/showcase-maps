(function(){function h(c){for(var o=-1,a=c.length,e=[];++o<a;)e.push(c[o]);return e}function t(){}function b(){return this}function g(c,o,a){return function(){var e=a.apply(o,arguments);return arguments.length?c:e}}function l(c){return null!=c&&!isNaN(c)}function q(c){return c.length}function s(c){return null==c}function K(c){return c.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function C(){}function F(c){function o(){for(var o=a,e=-1,P=o.length,b;++e<P;)(b=o[e].on)&&b.apply(this,arguments);
return c}var a=[],e=new t;return o.on=function(o,b){var f=e.get(o),U;return 2>arguments.length?f&&f.on:(f&&(f.on=null,a=a.slice(0,U=a.indexOf(f)).concat(a.slice(U+1)),e.remove(o)),b&&a.push(e.set(o,{on:b})),c)},o}function J(c,o){return o-(c?1+Math.floor(Math.log(c+Math.pow(10,1+Math.floor(Math.log(c)/Math.LN10)-o))/Math.LN10):1)}function W(c){return c+""}function X(c){for(var o=c.lastIndexOf("."),a=0<=o?c.substring(o):(o=c.length,""),e=[];0<o;)e.push(c.substring(o-=3,o+3));return e.reverse().join(",")+
a}function oa(c){return function(o){return 0>=o?0:1<=o?1:c(o)}}function la(c){return function(o){return 1-c(1-o)}}function pa(c){return function(o){return 0.5*(0.5>o?c(2*o):2-c(2-2*o))}}function ba(c){return c}function V(c){return function(o){return Math.pow(o,c)}}function ia(c){return 1-Math.cos(c*Math.PI/2)}function r(c){return Math.pow(2,10*(c-1))}function x(c){return 1-Math.sqrt(1-c*c)}function m(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*
c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375}function H(){d3.event.stopPropagation();d3.event.preventDefault()}function Q(){for(var c=d3.event,o;o=c.sourceEvent;)c=o;return c}function Z(c){for(var o=new C,a=0,e=arguments.length;++a<e;)o[arguments[a]]=F(o);return o.of=function(a,B){return function(e){try{var P=e.sourceEvent=d3.event;e.target=c;d3.event=e;o[e.type].apply(a,B)}finally{d3.event=P}}},o}function ma(c,o){return o=o-(c=+c)?1/(o-c):0,function(a){return(a-c)*o}}function fa(c,o){return o=o-(c=
+c)?1/(o-c):0,function(a){return Math.max(0,Math.min(1,(a-c)*o))}}function z(c,o,a){return new aa(c,o,a)}function aa(c,o,a){this.r=c;this.g=o;this.b=a}function ja(c){return 16>c?"0"+Math.max(0,c).toString(16):Math.min(255,c).toString(16)}function f(c,o,a){var e=0,I=0,b=0,f,U,k;if(f=/([a-z]+)\((.*)\)/i.exec(c))switch(U=f[2].split(","),f[1]){case "hsl":return a(parseFloat(U[0]),parseFloat(U[1])/100,parseFloat(U[2])/100);case "rgb":return o(v(U[0]),v(U[1]),v(U[2]))}return(k=Nb.get(c))?o(k.r,k.g,k.b):
(null!=c&&"#"===c.charAt(0)&&(4===c.length?(e=c.charAt(1),e+=e,I=c.charAt(2),I+=I,b=c.charAt(3),b+=b):7===c.length&&(e=c.substring(1,3),I=c.substring(3,5),b=c.substring(5,7)),e=parseInt(e,16),I=parseInt(I,16),b=parseInt(b,16)),o(e,I,b))}function p(c,o,a){var e=Math.min(c/=255,o/=255,a/=255),b=Math.max(c,o,a),y=b-e,f,k,j=(b+e)/2;return y?(k=0.5>j?y/(b+e):y/(2-b-e),c==b?f=(o-a)/y+(o<a?6:0):o==b?f=(a-c)/y+2:f=(c-o)/y+4,f*=60):k=f=0,D(f,k,j)}function v(c){var o=parseFloat(c);return"%"===c.charAt(c.length-
1)?Math.round(2.55*o):o}function D(c,o,a){return new N(c,o,a)}function N(c,o,a){this.h=c;this.s=o;this.l=a}function M(c,o,a){function e(c){return 360<c?c-=360:0>c&&(c+=360),60>c?b+(y-b)*c/60:180>c?y:240>c?b+(y-b)*(240-c)/60:b}var b,y;return c%=360,0>c&&(c+=360),o=0>o?0:1<o?1:o,a=0>a?0:1<a?1:a,y=0.5>=a?a*(1+o):a+o-a*o,b=2*a-y,z(Math.round(255*e(c+120)),Math.round(255*e(c)),Math.round(255*e(c-120)))}function G(c){return zc(c,O),c}function da(c){return function(){return Ob(c,this)}}function Pb(c){return function(){return dd(c,
this)}}function Qb(c,o){function a(){if(o=this.classList)return o.add(c);var o=this.className,B=null!=o.baseVal,e=B?o.baseVal:o;y.lastIndex=0;y.test(e)||(e=K(e+" "+c),B?o.baseVal=e:this.className=e)}function e(){if(o=this.classList)return o.remove(c);var o=this.className,a=null!=o.baseVal,B=a?o.baseVal:o,B=K(B.replace(y," "));a?o.baseVal=B:this.className=B}function b(){(o.apply(this,arguments)?a:e).call(this)}var y=RegExp("(^|\\s+)"+d3.requote(c)+"(\\s+|$)","g");if(2>arguments.length){var f=this.node();
if(k=f.classList)return k.contains(c);var k=f.className;return y.lastIndex=0,y.test(null!=k.baseVal?k.baseVal:k)}return this.each("function"==typeof o?b:o?a:e)}function Ac(c){return function(){return ed(this,c)}}function Rb(c){return arguments.length||(c=d3.ascending),function(o,a){return c(o&&o.__data__,a&&a.__data__)}}function ab(c){return zc(c,Ba),c}function Y(c,o,a){zc(c,ha);var e=new t,b=d3.dispatch("start","end"),y=Sb;return c.id=o,c.time=a,c.tween=function(o,a){return 2>arguments.length?e.get(o):
(null==a?e.remove(o):e.set(o,a),c)},c.ease=function(o){return arguments.length?(y="function"==typeof o?o:d3.ease.apply(d3,arguments),c):y},c.each=function(o,a){return 2>arguments.length?bb.call(c,o):(b.on(o,a),c)},d3.timer(function(f){return c.each(function(k,j,g){function n(c){return m.active>o?l():(m.active=o,e.forEach(function(c,o){(tween=o.call(u,k,j))&&w.push(tween)}),b.start.call(u,k,j),h(c)||d3.timer(h,0,a),1)}function h(c){if(m.active!==o)return l();for(var c=(c-p)/r,a=y(c),B=w.length;0<B;)w[--B].call(u,
a);if(1<=c)return l(),Ca=o,b.end.call(u,k,j),Ca=0,1}function l(){return--m.count||delete u.__transition__,1}var w=[],u=this,p=c[g][j].delay,r=c[g][j].duration,m=u.__transition__||(u.__transition__={active:0,count:0});++m.count;p<=f?n(f):d3.timer(n,p,a)}),1},0,a),c}function Tb(c,o,a){return""!=a&&cb}function db(c,o){function a(c,B,e){c=o.call(this,c,B);return null==c?""!=e&&cb:e!=c&&b(e,c)}function e(c,a,B){return B!=o&&b(B,o)}var b="transform"==c?d3.interpolateTransform:d3.interpolate;return"function"==
typeof o?a:null==o?Tb:(o+="",e)}function bb(c){var o=Ca,a=Sb,e=Ub,b=Vb;Ca=this.id;Sb=this.ease();for(var y=0,f=this.length;y<f;y++)for(var k=this[y],j=0,g=k.length;j<g;j++){var n=k[j];n&&(Ub=this[y][j].delay,Vb=this[y][j].duration,c.call(n=n.node,n.__data__,j,y))}return Ca=o,Sb=a,Ub=e,Vb=b,this}function La(){for(var c,o=Date.now(),a=Da;a;)c=o-a.then,c>=a.delay&&(a.flush=a.callback(c)),a=a.next;c=Wb()-o;24<c?(isFinite(c)&&(clearTimeout(Xb),Xb=setTimeout(La,c)),Yb=0):(Yb=1,fd(La))}function Wb(){for(var c=
null,o=Da,a=Infinity;o;)o.flush?o=c?c.next=o.next:Da=o.next:(a=Math.min(a,o.then+o.delay),o=(c=o).next);return a}function Zb(c){var o=[c.a,c.b],a=[c.c,c.d],e=$b(o),b=o[0]*a[0]+o[1]*a[1],y=$b((a[0]+=-b*o[0],a[1]+=-b*o[1],a))||0;o[0]*a[1]<a[0]*o[1]&&(o[0]*=-1,o[1]*=-1,e*=-1,b*=-1);this.rotate=(e?Math.atan2(o[1],o[0]):Math.atan2(-a[0],a[1]))*gd;this.translate=[c.e,c.f];this.scale=[e,y];this.skew=y?Math.atan2(b,y)*gd:0}function $b(c){var o=Math.sqrt(c[0]*c[0]+c[1]*c[1]);return o&&(c[0]/=o,c[1]/=o),o}
function eb(c,o){var a=c.ownerSVGElement||c;if(a.createSVGPoint){var e=a.createSVGPoint();if(0>Bc&&(window.scrollX||window.scrollY)){var a=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0),b=a[0][0].getScreenCTM();Bc=!b.f&&!b.e;a.remove()}return Bc?(e.x=o.pageX,e.y=o.pageY):(e.x=o.clientX,e.y=o.clientY),e=e.matrixTransform(c.getScreenCTM().inverse()),[e.x,e.y]}a=c.getBoundingClientRect();return[o.clientX-a.left-c.clientLeft,o.clientY-a.top-c.clientTop]}
function Ea(c){var o=c[0],c=c[c.length-1];return o<c?[o,c]:[c,o]}function Ma(c){return c.rangeExtent?c.rangeExtent():Ea(c.range())}function Na(c,o){var a=0,e=c.length-1,b=c[a],y=c[e],f;y<b&&(f=a,a=e,e=f,f=b,b=y,y=f);if(f=y-b)o=o(f),c[a]=o.floor(b),c[e]=o.ceil(y);return c}function Cc(){return Math}function ac(c,o,a,e){function b(){var I=2<Math.min(c.length,o.length)?Dc:bc,j=e?fa:ma;return f=I(c,o,j,a),k=I(o,c,j,d3.interpolate),y}function y(c){return f(c)}var f,k;return y.invert=function(c){return k(c)},
y.domain=function(o){return arguments.length?(c=o.map(Number),b()):c},y.range=function(c){return arguments.length?(o=c,b()):o},y.rangeRound=function(c){return y.range(c).interpolate(d3.interpolateRound)},y.clamp=function(c){return arguments.length?(e=c,b()):e},y.interpolate=function(c){return arguments.length?(a=c,b()):a},y.ticks=function(o){return Oa(c,o)},y.tickFormat=function(o){return fb(c,o)},y.nice=function(){return Na(c,cc),b()},y.copy=function(){return ac(c,o,a,e)},b()}function dc(c,o){return d3.rebind(c,
o,"range","rangeRound","interpolate","clamp")}function cc(c){return c=Math.pow(10,Math.round(Math.log(c)/Math.LN10)-1),{floor:function(o){return Math.floor(o/c)*c},ceil:function(o){return Math.ceil(o/c)*c}}}function ec(c,o){var a=Ea(c),e=a[1]-a[0],b=Math.pow(10,Math.floor(Math.log(e/o)/Math.LN10)),e=o/e*b;return 0.15>=e?b*=10:0.35>=e?b*=5:0.75>=e&&(b*=2),a[0]=Math.ceil(a[0]/b)*b,a[1]=Math.floor(a[1]/b)*b+0.5*b,a[2]=b,a}function Oa(c,o){return d3.range.apply(d3,ec(c,o))}function fb(c,o){return d3.format(",."+
Math.max(0,-Math.floor(Math.log(ec(c,o)[2])/Math.LN10+0.01))+"f")}function bc(c,o,a,e){var b=a(c[0],c[1]),y=e(o[0],o[1]);return function(c){return y(b(c))}}function Dc(c,o,a,e){var b=[],y=[],f=0,k=Math.min(c.length,o.length)-1;for(c[k]<c[0]&&(c=c.slice().reverse(),o=o.slice().reverse());++f<=k;)b.push(a(c[f-1],c[f])),y.push(e(o[f-1],o[f]));return function(o){var a=d3.bisect(c,o,1,k)-1;return y[a](b[a](o))}}function Pa(c,o){function a(e){return c(o(e))}var e=o.pow;return a.invert=function(o){return e(c.invert(o))},
a.domain=function(b){return arguments.length?(o=0>b[0]?Fa:Qa,e=o.pow,c.domain(b.map(o)),a):c.domain().map(e)},a.nice=function(){return c.domain(Na(c.domain(),Cc)),a},a.ticks=function(){var a=Ea(c.domain()),B=[];if(a.every(isFinite)){var b=Math.floor(a[0]),f=Math.ceil(a[1]),k=e(a[0]),a=e(a[1]);if(o===Fa)for(B.push(e(b));b++<f;)for(var j=9;0<j;j--)B.push(e(b)*j);else{for(;b<f;b++)for(j=1;10>j;j++)B.push(e(b)*j);B.push(e(b))}for(b=0;B[b]<k;b++);for(f=B.length;B[f-1]>a;f--);B=B.slice(b,f)}return B},a.tickFormat=
function(c,b){2>arguments.length&&(b=Md);if(1>arguments.length)return b;var f=c/a.ticks().length,k=o===Fa?(j=-1.0E-12,Math.floor):(j=1.0E-12,Math.ceil),j;return function(c){return c/e(k(o(c)+j))<f?b(c):""}},a.copy=function(){return Pa(c.copy(),o)},dc(a,c)}function Qa(c){return Math.log(0>c?0:c)/Math.LN10}function Fa(c){return-Math.log(0<c?0:-c)/Math.LN10}function fc(c,o){function a(o){return c(e(o))}var e=Ra(o),b=Ra(1/o);return a.invert=function(o){return b(c.invert(o))},a.domain=function(o){return arguments.length?
(c.domain(o.map(e)),a):c.domain().map(b)},a.ticks=function(c){return Oa(a.domain(),c)},a.tickFormat=function(c){return fb(a.domain(),c)},a.nice=function(){return a.domain(Na(a.domain(),cc))},a.exponent=function(c){if(!arguments.length)return o;var f=a.domain();return e=Ra(o=c),b=Ra(1/o),a.domain(f)},a.copy=function(){return fc(c.copy(),o)},dc(a,c)}function Ra(c){return function(o){return 0>o?-Math.pow(-o,c):Math.pow(o,c)}}function gc(c,o){function a(o){return f[((b.get(o)||b.set(o,c.push(o)))-1)%
f.length]}function e(o,a){return d3.range(c.length).map(function(c){return o+a*c})}var b,f,k;return a.domain=function(e){if(!arguments.length)return c;c=[];b=new t;for(var P=-1,f=e.length,y;++P<f;)b.has(y=e[P])||b.set(y,c.push(y));return a[o.t](o.x,o.p)},a.range=function(c){return arguments.length?(f=c,k=0,o={t:"range",x:c},a):f},a.rangePoints=function(b,I){2>arguments.length&&(I=0);var j=b[0],g=b[1],n=(g-j)/(c.length-1+I);return f=e(2>c.length?(j+g)/2:j+n*I/2,n),k=0,o={t:"rangePoints",x:b,p:I},a},
a.rangeBands=function(b,I){2>arguments.length&&(I=0);var j=b[1]<b[0],g=b[j-0],n=(b[1-j]-g)/(c.length+I);return f=e(g+n*I,n),j&&f.reverse(),k=n*(1-I),o={t:"rangeBands",x:b,p:I},a},a.rangeRoundBands=function(b,I){2>arguments.length&&(I=0);var j=b[1]<b[0],g=b[j-0],n=b[1-j],h=Math.floor((n-g)/(c.length+I));return f=e(g+Math.round((n-g-(c.length-I)*h)/2),h),j&&f.reverse(),k=Math.round(h*(1-I)),o={t:"rangeRoundBands",x:b,p:I},a},a.rangeBand=function(){return k},a.rangeExtent=function(){return Ea(o.x)},
a.copy=function(){return gc(c,o)},a.domain(c)}function hc(c,o){function a(){var B=0,f=o.length;for(b=[];++B<f;)b[B-1]=d3.quantile(c,B/f);return e}function e(c){return isNaN(c=+c)?NaN:o[d3.bisect(b,c)]}var b;return e.domain=function(o){return arguments.length?(c=o.filter(function(c){return!isNaN(c)}).sort(d3.ascending),a()):c},e.range=function(c){return arguments.length?(o=c,a()):o},e.quantiles=function(){return b},e.copy=function(){return hc(c,o)},a()}function gb(c,o,a){function e(o){return a[Math.max(0,
Math.min(k,Math.floor(f*(o-c))))]}function b(){return f=a.length/(o-c),k=a.length-1,e}var f,k;return e.domain=function(a){return arguments.length?(c=+a[0],o=+a[a.length-1],b()):[c,o]},e.range=function(c){return arguments.length?(a=c,b()):a},e.copy=function(){return gb(c,o,a)},b()}function hb(c){function o(c){return+c}return o.invert=o,o.domain=o.range=function(a){return arguments.length?(c=a.map(o),o):c},o.ticks=function(o){return Oa(c,o)},o.tickFormat=function(o){return fb(c,o)},o.copy=function(){return hb(c)},
o}function Ec(c){return c.innerRadius}function Fc(c){return c.outerRadius}function S(c){return c.startAngle}function ib(c){return c.endAngle}function Sa(c){function o(o){return 1>o.length?null:"M"+f(c(jb(this,o,a,e)),k)}var a=kb,e=lb,b=Gc,f=mb.get(b),k=0.7;return o.x=function(c){return arguments.length?(a=c,o):a},o.y=function(c){return arguments.length?(e=c,o):e},o.interpolate=function(c){return arguments.length?(mb.has(c+="")||(c=Gc),f=mb.get(b=c),o):b},o.tension=function(c){return arguments.length?
(k=c,o):k},o}function jb(c,o,a,e){var b=[],f=-1,k=o.length,j="function"==typeof a,g="function"==typeof e,n;if(j&&g)for(;++f<k;)b.push([a.call(c,n=o[f],f),e.call(c,n,f)]);else if(j)for(;++f<k;)b.push([a.call(c,o[f],f),e]);else if(g)for(;++f<k;)b.push([a,e.call(c,o[f],f)]);else for(;++f<k;)b.push([a,e]);return b}function kb(c){return c[0]}function lb(c){return c[1]}function qa(c){for(var o=0,a=c.length,e=c[0],b=[e[0],",",e[1]];++o<a;)b.push("L",(e=c[o])[0],",",e[1]);return b.join("")}function nb(c){for(var o=
0,a=c.length,e=c[0],b=[e[0],",",e[1]];++o<a;)b.push("V",(e=c[o])[1],"H",e[0]);return b.join("")}function ob(c){for(var a=0,e=c.length,b=c[0],f=[b[0],",",b[1]];++a<e;)f.push("H",(b=c[a])[0],"V",b[1]);return f.join("")}function Ta(c,a){if(1>a.length||c.length!=a.length&&c.length!=a.length+2)return qa(c);var e=c.length!=a.length,b="",f=c[0],y=c[1],k=a[0],j=k,g=1;e&&(b+="Q"+(y[0]-2*k[0]/3)+","+(y[1]-2*k[1]/3)+","+y[0]+","+y[1],f=c[1],g=2);if(1<a.length){j=a[1];y=c[g];g++;b+="C"+(f[0]+k[0])+","+(f[1]+
k[1])+","+(y[0]-j[0])+","+(y[1]-j[1])+","+y[0]+","+y[1];for(f=2;f<a.length;f++,g++)y=c[g],j=a[f],b+="S"+(y[0]-j[0])+","+(y[1]-j[1])+","+y[0]+","+y[1]}e&&(e=c[g],b+="Q"+(y[0]+2*j[0]/3)+","+(y[1]+2*j[1]/3)+","+e[0]+","+e[1]);return b}function pb(c,a){for(var e=[],b=(1-a)/2,f,y=c[0],k=c[1],j=1,g=c.length;++j<g;)f=y,y=k,k=c[j],e.push([b*(k[0]-f[0]),b*(k[1]-f[1])]);return e}function ua(c){if(3>c.length)return qa(c);var a=1,e=c.length,b=c[0],f=b[0],k=b[1],j=[f,f,f,(b=c[1])[0]],U=[k,k,k,b[1]],f=[f,",",k];
for(ya(f,j,U);++a<e;)b=c[a],j.shift(),j.push(b[0]),U.shift(),U.push(b[1]),ya(f,j,U);for(a=-1;2>++a;)j.shift(),j.push(b[0]),U.shift(),U.push(b[1]),ya(f,j,U);return f.join("")}function ga(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]}function ya(c,a,e){c.push("C",ga(hd,a),",",ga(hd,e),",",ga(id,a),",",ga(id,e),",",ga(Ua,a),",",ga(Ua,e))}function qb(c,a){return(a[1]-c[1])/(a[0]-c[0])}function ic(c){for(var a,e=-1,b=c.length,f,k;++e<b;)a=c[e],f=a[0],k=a[1]+Ga,a[0]=f*Math.cos(k),a[1]=f*Math.sin(k);
return c}function rb(c){function a(o){if(1>o.length)return null;var j=jb(this,o,e,f),o=jb(this,o,e===b?Hc(j):b,f===k?Ic(j):k);return"M"+U(c(o),n)+"L"+g(c(j.reverse()),n)+"Z"}var e=kb,b=kb,f=0,k=lb,j,U,g,n=0.7;return a.x=function(c){return arguments.length?(e=b=c,a):b},a.x0=function(c){return arguments.length?(e=c,a):e},a.x1=function(c){return arguments.length?(b=c,a):b},a.y=function(c){return arguments.length?(f=k=c,a):k},a.y0=function(c){return arguments.length?(f=c,a):f},a.y1=function(c){return arguments.length?
(k=c,a):k},a.interpolate=function(c){return arguments.length?(mb.has(c+="")||(c=Gc),U=mb.get(j=c),g=U.reverse||U,a):j},a.tension=function(c){return arguments.length?(n=c,a):n},a.interpolate("linear")}function Hc(c){return function(a,e){return c[e][0]}}function Ic(c){return function(a,e){return c[e][1]}}function jc(c){return c.source}function kc(c){return c.target}function Jc(c){return c.radius}function sb(c){return[c.x,c.y]}function Kc(c){return function(){var a=c.apply(this,arguments),e=a[0],a=a[1]+
Ga;return[e*Math.cos(a),e*Math.sin(a)]}}function Lc(){return 64}function lc(){return"circle"}function mc(c){c=Math.sqrt(c/Math.PI);return"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z"}function tb(c,a){c.attr("transform",function(c){return"translate("+a(c)+",0)"})}function ub(c,a){c.attr("transform",function(c){return"translate(0,"+a(c)+")"})}function vb(c,a,e){b=[];if(e&&1<a.length){for(var c=Ea(c.domain()),b,f=-1,k=a.length,j=(a[1]-a[0])/++e,g,n;++f<k;)for(g=e;0<--g;)(n=+a[f]-g*
j)>=c[0]&&b.push(n);--f;for(g=0;++g<e&&(n=+a[f]+g*j)<c[1];)b.push(n)}return b}function nc(){wb||(wb=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var c=d3.event,a;try{wb.scrollTop=1E3,wb.dispatchEvent(c),a=1E3-wb.scrollTop}catch(e){a=c.wheelDelta||5*-c.detail}return a}function va(c){var a=c.source,c=c.target,e;var b=c;if(a===b)e=a;else{e=ra(a);for(var b=
ra(b),f=e.pop(),k=b.pop(),j=null;f===k;)j=f,f=e.pop(),k=b.pop();e=j}for(b=[a];a!==e;)a=a.parent,b.push(a);for(a=b.length;c!==e;)b.splice(a,0,c),c=c.parent;return b}function ra(c){for(var a=[],e=c.parent;null!=e;)a.push(c),c=e,e=e.parent;return a.push(c),a}function xb(c){c.fixed|=2}function jd(c){c!==Ha&&(c.fixed&=1)}function Mc(){Ha.fixed&=1;Nc=Ha=null}function Va(){Ha.px=d3.event.x;Ha.py=d3.event.y;Nc.resume()}function Wa(c,a,e){var b=0,f=0;c.charge=0;if(!c.leaf)for(var k=c.nodes,j=k.length,g=-1,
n;++g<j;)n=k[g],null!=n&&(Wa(n,a,e),c.charge+=n.charge,b+=n.charge*n.cx,f+=n.charge*n.cy);c.point&&(c.leaf||(c.point.x+=Math.random()-0.5,c.point.y+=Math.random()-0.5),a*=e[c.point.index],c.charge+=c.pointCharge=a,b+=a*c.point.x,f+=a*c.point.y);c.cx=b/c.charge;c.cy=f/c.charge}function Oc(){return 20}function za(){return 1}function yb(c){return c.x}function ka(c){return c.y}function Aa(c,a,e){c.y0=a;c.y=e}function zb(c){return d3.range(c.length)}function Ab(c){for(var a=-1,c=c[0].length,e=[];++a<c;)e[a]=
0;return e}function Xa(c){for(var a=1,e=0,b=c[0][1],f,k=c.length;a<k;++a)(f=c[a][1])>b&&(e=a,b=f);return e}function oc(c){return c.reduce(Ya,0)}function Ya(c,a){return c+a[1]}function Pc(c,a){return Bb(c,Math.ceil(Math.log(a.length)/Math.LN2+1))}function Bb(c,a){for(var e=-1,b=+c[0],f=(c[1]-b)/a,k=[];++e<=a;)k[e]=f*e+b;return k}function a(c){return[d3.min(c),d3.max(c)]}function e(c,a){return d3.rebind(c,a,"sort","children","value"),c.links=w,c.nodes=function(a){return Qc=!0,(c.nodes=c)(a)},c}function k(c){return c.children}
function j(c){return c.value}function n(c,a){return a.value-c.value}function w(c){return d3.merge(c.map(function(c){return(c.children||[]).map(function(a){return{source:c,target:a}})}))}function A(c,a){return c.value-a.value}function T(c,a){var e=c._pack_next;c._pack_next=a;a._pack_prev=c;a._pack_next=e;e._pack_prev=a}function Cb(c,a){c._pack_next=a;a._pack_prev=c}function pc(c,a){var e=a.x-c.x,b=a.y-c.y,f=c.r+a.r;return 0.0010<f*f-e*e-b*b}function Db(c){function a(c){e=Math.min(c.x-c.r,e);b=Math.max(c.x+
c.r,b);f=Math.min(c.y-c.r,f);k=Math.max(c.y+c.r,k)}var e=Infinity,b=-Infinity,f=Infinity,k=-Infinity,j=c.length,g,n,h,l,w;c.forEach(Eb);g=c[0];g.x=-g.r;g.y=0;a(g);if(1<j&&(n=c[1],n.x=n.r,n.y=0,a(n),2<j)){h=c[2];kd(g,n,h);a(h);T(g,h);g._pack_prev=h;T(h,n);n=g._pack_next;for(var u=3;u<j;u++){kd(g,n,h=c[u]);var p=0,m=1,r=1;for(l=n._pack_next;l!==n;l=l._pack_next,m++)if(pc(l,h)){p=1;break}if(1==p)for(w=g._pack_prev;w!==l._pack_prev&&!pc(w,h);w=w._pack_prev,r++);p?(m<r||m==r&&n.r<g.r?Cb(g,n=l):Cb(g=w,
n),u--):(T(g,h),n=h,a(h))}}g=(e+b)/2;n=(f+k)/2;for(u=h=0;u<j;u++)l=c[u],l.x-=g,l.y-=n,h=Math.max(h,l.r+Math.sqrt(l.x*l.x+l.y*l.y));return c.forEach(Nd),h}function Eb(c){c._pack_next=c._pack_prev=c}function Nd(c){delete c._pack_next;delete c._pack_prev}function Ia(c){var a=c.children;a&&a.length?(a.forEach(Ia),c.r=Db(a)):c.r=Math.sqrt(c.value)}function ld(c,a,e,b){var f=c.children;c.x=a+=b*c.x;c.y=e+=b*c.y;c.r*=b;if(f)for(var c=-1,k=f.length;++c<k;)ld(f[c],a,e,b)}function kd(c,a,e){var b=c.r+e.r,f=
a.x-c.x,k=a.y-c.y;if(b&&(f||k)){var j=a.r+e.r,a=Math.sqrt(f*f+k*k),g=Math.max(-1,Math.min(1,(b*b+a*a-j*j)/(2*b*a))),j=Math.acos(g),a=g*(b/=a),b=Math.sin(j)*b;e.x=c.x+a*f+b*k;e.y=c.y+a*k-b*f}else e.x=c.x+b,e.y=c.y}function Od(c){return 1+d3.max(c,function(c){return c.y})}function Pd(c){return c.reduce(function(c,a){return c+a.x},0)/c.length}function md(c){var a=c.children;return a&&a.length?md(a[0]):c}function nd(c){var a=c.children,e;return a&&(e=a.length)?nd(a[e-1]):c}function od(c,a){return c.parent==
a.parent?1:2}function Rc(c){var a=c.children;return a&&a.length?a[0]:c._tree.thread}function u(c){var a=c.children,e;return a&&(e=a.length)?a[e-1]:c._tree.thread}function E(c,a){var e=c.children;if(e&&(f=e.length))for(var b,f,k=-1;++k<f;)0<a(b=E(e[k],a),c)&&(c=b);return c}function Sc(c,a){return c.x-a.x}function Fb(c,a){return a.x-c.x}function Gb(c,a){return c.depth-a.depth}function sa(c,a){function e(c,b){var f=c.children;if(f&&(n=f.length))for(var k,j=null,g=-1,n;++g<n;)k=f[g],e(k,j),j=k;a(c,b)}
e(c,null)}function Za(c){return{x:c.x,y:c.y,dx:c.dx,dy:c.dy}}function Hb(c,a){var e=c.x+a[3],b=c.y+a[0],f=c.dx-a[1]-a[3],k=c.dy-a[0]-a[2];return 0>f&&(e+=f/2,f=0),0>k&&(b+=k/2,k=0),{x:e,y:b,dx:f,dy:k}}function qc(c){return c.map(R).join(",")}function R(c){return/[",\n]/.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}function rc(c,a){return function(e){return e&&c.hasOwnProperty(e.type)?c[e.type](e):a}}function Tc(c){return"m0,"+c+"a"+c+","+c+" 0 1,1 0,"+-2*c+"a"+c+","+c+" 0 1,1 0,"+2*c+"z"}function sc(c,
a){pd.hasOwnProperty(c.type)&&pd[c.type](c,a)}function qd(c,a){for(var e=c.coordinates,b=0,f=e.length;b<f;b++)a.apply(null,e[b])}function Qd(c){return c.source}function Rd(c){return c.target}function Ib(c,a){function e(c){var a=Math.sin(m-(c*=m))/r,o=Math.sin(c)/r,c=a*g*f+o*u*h,b=a*g*k+o*u*l,a=a*n+o*p;return[Math.atan2(b,c)/L,Math.atan2(a,Math.sqrt(c*c+b*b))/L]}var b=c[0]*L,f=Math.cos(b),k=Math.sin(b),j=c[1]*L,g=Math.cos(j),n=Math.sin(j),j=a[0]*L,h=Math.cos(j),l=Math.sin(j),w=a[1]*L,u=Math.cos(w),
p=Math.sin(w),m=e.d=Math.acos(Math.max(-1,Math.min(1,n*p+g*u*Math.cos(j-b)))),r=Math.sin(m);return e}function Sd(c,a,e,b){var f,k,j,g,n,h,l;return f=b[c],k=f[0],j=f[1],f=b[a],g=f[0],n=f[1],f=b[e],h=f[0],l=f[1],0<(l-j)*(g-k)-(n-j)*(h-k)}function Uc(c,a,e){return(e[0]-a[0])*(c[1]-a[1])<(e[1]-a[1])*(c[0]-a[0])}function rd(c,a,e,b){var f=c[0],k=e[0],c=c[1],j=e[1],e=a[0]-f,g=b[0]-k,a=a[1]-c,b=b[1]-j,k=(g*(c-j)-b*(f-k))/(b*e-g*a);return[f+k*e,c+k*a]}function sd(c,a){var e=c.map(function(c,a){return{index:a,
x:c[0],y:c[1]}}).sort(function(c,a){return c.y<a.y?-1:c.y>a.y?1:c.x<a.x?-1:c.x>a.x?1:0}),b=null,f={list:[],leftEnd:null,rightEnd:null,init:function(){f.leftEnd=f.createHalfEdge(null,"l");f.rightEnd=f.createHalfEdge(null,"l");f.leftEnd.r=f.rightEnd;f.rightEnd.l=f.leftEnd;f.list.unshift(f.leftEnd,f.rightEnd)},createHalfEdge:function(c,a){return{edge:c,side:a,vertex:null,l:null,r:null}},insert:function(c,a){a.l=c;a.r=c.r;c.r.l=a;c.r=a},leftBound:function(c){var a=f.leftEnd;do a=a.r;while(a!=f.rightEnd&&
k.rightOf(a,c));return a=a.l,a},del:function(c){c.l.r=c.r;c.r.l=c.l;c.edge=null},right:function(c){return c.r},left:function(c){return c.l},leftRegion:function(c){return null==c.edge?b:c.edge.region[c.side]},rightRegion:function(c){return null==c.edge?b:c.edge.region[Vc[c.side]]}},k={bisect:function(c,a){var e={region:{l:c,r:a},ep:{l:null,r:null}},o=a.x-c.x,b=a.y-c.y;return e.c=c.x*o+c.y*b+0.5*(o*o+b*b),(0<o?o:-o)>(0<b?b:-b)?(e.a=1,e.b=b/o,e.c/=o):(e.b=1,e.a=o/b,e.c/=b),e},intersect:function(c,a){var e=
c.edge,o=a.edge;if(!e||!o||e.region.r==o.region.r)return null;var b=e.a*o.b-e.b*o.a;if(1.0E-10>Math.abs(b))return null;var f=(e.c*o.b-o.c*e.b)/b,b=(o.c*e.a-e.c*o.a)/b,B=e.region.r,k=o.region.r,j,P;B.y<k.y||B.y==k.y&&B.x<k.x?(j=c,P=e):(j=a,P=o);return(e=f>=P.region.r.x)&&"l"===j.side||!e&&"r"===j.side?null:{x:f,y:b}},rightOf:function(c,a){var e=c.edge,o=e.region.r,b=a.x>o.x;if(b&&"l"===c.side)return 1;if(!b&&"r"===c.side)return 0;if(1===e.a){var f=a.y-o.y,B=a.x-o.x,k=0,j=0;!b&&0>e.b||b&&0<=e.b?j=k=
f>=e.b*B:(j=a.x+a.y*e.b>e.c,0>e.b&&(j=!j),j||(k=1));k||(o=o.x-e.region.l.x,j=e.b*(B*B-f*f)<o*f*(1+2*B/o+e.b*e.b),0>e.b&&(j=!j))}else B=e.c-e.a*a.x,e=a.y-B,f=a.x-o.x,o=B-o.y,j=e*e>f*f+o*o;return"l"===c.side?j:!j},endPoint:function(c,e,b){c.ep[e]=b;c.ep[Vc[e]]&&a(c)},distance:function(c,a){var e=c.x-a.x,o=c.y-a.y;return Math.sqrt(e*e+o*o)}},j={list:[],insert:function(c,a,e){c.vertex=a;c.ystar=a.y+e;for(var e=0,o=j.list,b=o.length;e<b;e++){var f=o[e];if(!(c.ystar>f.ystar||c.ystar==f.ystar&&a.x>f.vertex.x))break}o.splice(e,
0,c)},del:function(c){for(var a=0,e=j.list,o=e.length;a<o&&e[a]!=c;++a);e.splice(a,1)},empty:function(){return 0===j.list.length},nextEvent:function(c){for(var a=0,e=j.list,o=e.length;a<o;++a)if(e[a]==c)return e[a+1];return null},min:function(){var c=j.list[0];return{x:c.vertex.x,y:c.ystar}},extractMin:function(){return j.list.shift()}};f.init();for(var b=e.shift(),g=e.shift(),n,h,l,w,u,p,m,r,A,E;;)if(j.empty()||(n=j.min()),g&&(j.empty()||g.y<n.y||g.y==n.y&&g.x<n.x))h=f.leftBound(g),l=f.right(h),
m=f.rightRegion(h),E=k.bisect(m,g),p=f.createHalfEdge(E,"l"),f.insert(h,p),(A=k.intersect(h,p))&&(j.del(h),j.insert(h,A,k.distance(A,g))),h=p,p=f.createHalfEdge(E,"r"),f.insert(h,p),(A=k.intersect(p,l))&&j.insert(p,A,k.distance(A,g)),g=e.shift();else if(j.empty())break;else h=j.extractMin(),w=f.left(h),l=f.right(h),u=f.right(l),m=f.leftRegion(h),p=f.rightRegion(l),A=h.vertex,k.endPoint(h.edge,h.side,A),k.endPoint(l.edge,l.side,A),f.del(h),j.del(l),f.del(l),h="l",m.y>p.y&&(r=m,m=p,p=r,h="r"),E=k.bisect(m,
p),p=f.createHalfEdge(E,h),f.insert(w,p),k.endPoint(E,Vc[h],A),(A=k.intersect(w,p))&&(j.del(w),j.insert(w,A,k.distance(A,m))),(A=k.intersect(p,u))&&j.insert(p,A,k.distance(A,m));for(h=f.right(f.leftEnd);h!=f.rightEnd;h=f.right(h))a(h.edge)}function Jb(c,a,e,b,f,k){if(!c(a,e,b,f,k)){var j=0.5*(e+f),g=0.5*(b+k),a=a.nodes;a[0]&&Jb(c,a[0],e,b,j,g);a[1]&&Jb(c,a[1],j,b,f,g);a[2]&&Jb(c,a[2],e,g,j,k);a[3]&&Jb(c,a[3],j,g,f,k)}}function Td(c){return{x:c[0],y:c[1]}}function Ja(){this._=new Date(1<arguments.length?
Date.UTC.apply(this,arguments):arguments[0])}function tc(c,a,e,b){for(var f,k=0,j=a.length,g=e.length;k<j;){if(b>=g)return-1;f=a.charCodeAt(k++);if(37==f){if(f=Ud[a.charAt(k++)],!f||0>(b=f(c,e,b)))return-1}else if(f!=e.charCodeAt(b++))return-1}return b}function td(c,a,e){ea.lastIndex=0;return(a=ea.exec(a.substring(e,e+2)))?(c.d=+a[0],e+a[0].length):-1}function ud(c,a,e){ea.lastIndex=0;return(a=ea.exec(a.substring(e,e+2)))?(c.H=+a[0],e+a[0].length):-1}function Wc(c){return c.toISOString()}function Ka(c,
a,e){function b(a){var e=c(a),o=k(e,1);return a-e<o-a?e:o}function f(e){return a(e=c(new ca(e-1)),1),e}function k(c,e){return a(c=new ca(+c),e),c}function j(c,b,k){var c=f(c),P=[];if(1<k)for(;c<b;)e(c)%k||P.push(new Date(+c)),a(c,1);else for(;c<b;)P.push(new Date(+c)),a(c,1);return P}c.floor=c;c.round=b;c.ceil=f;c.offset=k;c.range=j;var g=c.utc=uc(c);return g.floor=g,g.round=uc(b),g.ceil=uc(f),g.offset=uc(k),g.range=function(c,a,e){try{ca=Ja;var b=new Ja;return b._=c,j(b,a,e)}finally{ca=Date}},c}
function uc(c){return function(a,e){try{ca=Ja;var b=new Ja;return b._=a,c(b,e)._}finally{ca=Date}}}function Xc(c,a,e){function b(a){return c(a)}return b.invert=function(a){return Yc(c.invert(a))},b.domain=function(a){return arguments.length?(c.domain(a),b):c.domain().map(Yc)},b.nice=function(c){var a=vd(b.domain());return b.domain([c.floor(a[0]),c.ceil(a[1])])},b.ticks=function(e,f){var k=vd(b.domain());if("function"!=typeof e){var B=(k[1]-k[0])/e,j=d3.bisect(vc,B);if(j==vc.length)return a.year(k,
e);if(!j)return c.ticks(e).map(Yc);Math.log(B/vc[j-1])<Math.log(vc[j]/B)&&--j;e=a[j];f=e[1];e=e[0].range}return e(k[0],new Date(+k[1]+1),f)},b.tickFormat=function(){return e},b.copy=function(){return Xc(c.copy(),a,e)},d3.rebind(b,c,"range","rangeRound","interpolate","clamp")}function vd(c){var a=c[0],c=c[c.length-1];return a<c?[a,c]:[c,a]}function Yc(c){return new Date(c)}function wd(c){return function(a){for(var e=c.length-1,b=c[e];!b[1](a);)b=c[--e];return b[0](a)}}function Zc(c){var a=new Date(c,
0,1);return a.setFullYear(c),a}function Vd(c){var a=c.getFullYear(),e=Zc(a),b=Zc(a+1);return a+(c-e)/(b-e)}function $c(c){var a=new Date(Date.UTC(c,0,1));return a.setUTCFullYear(c),a}function Wd(c){var a=c.getUTCFullYear(),e=$c(a),b=$c(a+1);return a+(c-e)/(b-e)}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(De){var xd=CSSStyleDeclaration.prototype,Xd=xd.setProperty;xd.setProperty=function(c,a,e){Xd.call(this,c,a+"",e)}}d3=
{version:"2.8.1"};var Kb=function(c){return Array.prototype.slice.call(c)};try{Kb(document.documentElement.childNodes)[0].nodeType}catch(Ee){Kb=h}var zc=[].__proto__?function(c,a){c.__proto__=a}:function(c,a){for(var e in a)c[e]=a[e]};d3.map=function(c){var a=new t,e;for(e in c)a.set(e,c[e]);return a};(function(c,a){try{for(var e in a)Object.defineProperty(c.prototype,e,{value:a[e],enumerable:!1})}catch(b){c.prototype=a}})(t,{has:function(c){return Lb+c in this},get:function(c){return this[Lb+c]},
set:function(c,a){return this[Lb+c]=a},remove:function(c){return c=Lb+c,c in this&&delete this[c]},keys:function(){var c=[];return this.forEach(function(a){c.push(a)}),c},values:function(){var c=[];return this.forEach(function(a,e){c.push(e)}),c},entries:function(){var c=[];return this.forEach(function(a,e){c.push({key:a,value:e})}),c},forEach:function(c){for(var a in this)a.charCodeAt(0)===Yd&&c.call(this,a.substring(1),this[a])}});var Lb="\x00",Yd=Lb.charCodeAt(0);d3.functor=function(c){return"function"==
typeof c?c:function(){return c}};d3.rebind=function(c,a){for(var e=1,b=arguments.length,f;++e<b;)c[f=arguments[e]]=g(c,a,a[f]);return c};d3.ascending=function(c,a){return c<a?-1:c>a?1:c>=a?0:NaN};d3.descending=function(c,a){return a<c?-1:a>c?1:a>=c?0:NaN};d3.mean=function(c,a){var e=c.length,b,f=0,k=-1,j=0;if(1===arguments.length)for(;++k<e;)l(b=c[k])&&(f+=(b-f)/++j);else for(;++k<e;)l(b=a.call(c,c[k],k))&&(f+=(b-f)/++j);return j?f:void 0};d3.median=function(c,a){return 1<arguments.length&&(c=c.map(a)),
c=c.filter(l),c.length?d3.quantile(c.sort(d3.ascending),0.5):void 0};d3.min=function(c,a){var e=-1,b=c.length,f,k;if(1===arguments.length){for(;++e<b&&(null==(f=c[e])||f!=f);)f=void 0;for(;++e<b;)null!=(k=c[e])&&f>k&&(f=k)}else{for(;++e<b&&(null==(f=a.call(c,c[e],e))||f!=f);)f=void 0;for(;++e<b;)null!=(k=a.call(c,c[e],e))&&f>k&&(f=k)}return f};d3.max=function(c,a){var e=-1,b=c.length,f,k;if(1===arguments.length){for(;++e<b&&(null==(f=c[e])||f!=f);)f=void 0;for(;++e<b;)null!=(k=c[e])&&k>f&&(f=k)}else{for(;++e<
b&&(null==(f=a.call(c,c[e],e))||f!=f);)f=void 0;for(;++e<b;)null!=(k=a.call(c,c[e],e))&&k>f&&(f=k)}return f};d3.extent=function(c,a){var e=-1,b=c.length,f,k,j;if(1===arguments.length){for(;++e<b&&(null==(f=j=c[e])||f!=f);)f=j=void 0;for(;++e<b;)null!=(k=c[e])&&(f>k&&(f=k),j<k&&(j=k))}else{for(;++e<b&&(null==(f=j=a.call(c,c[e],e))||f!=f);)f=void 0;for(;++e<b;)null!=(k=a.call(c,c[e],e))&&(f>k&&(f=k),j<k&&(j=k))}return[f,j]};d3.random={normal:function(c,a){return 2>arguments.length&&(a=1),1>arguments.length&&
(c=0),function(){var e,b;do e=2*Math.random()-1,b=2*Math.random()-1,b=e*e+b*b;while(!b||1<b);return c+a*e*Math.sqrt(-2*Math.log(b)/b)}}};d3.sum=function(c,a){var e=0,b=c.length,f,k=-1;if(1===arguments.length)for(;++k<b;)isNaN(f=+c[k])||(e+=f);else for(;++k<b;)isNaN(f=+a.call(c,c[k],k))||(e+=f);return e};d3.quantile=function(c,a){var e=(c.length-1)*a+1,b=Math.floor(e),f=c[b-1];return(e-=b)?f+e*(c[b]-f):f};d3.transpose=function(c){return d3.zip.apply(d3,c)};d3.zip=function(){if(!(f=arguments.length))return[];
for(var c=-1,a=d3.min(arguments,q),e=Array(a);++c<a;)for(var b=-1,f,k=e[c]=Array(f);++b<f;)k[b]=arguments[b][c];return e};d3.bisector=function(c){return{left:function(a,e,b,f){3>arguments.length&&(b=0);for(4>arguments.length&&(f=a.length);b<f;){var k=b+f>>1;c.call(a,a[k],k)<e?b=k+1:f=k}return b},right:function(a,e,b,f){3>arguments.length&&(b=0);for(4>arguments.length&&(f=a.length);b<f;){var k=b+f>>1;e<c.call(a,a[k],k)?f=k:b=k+1}return b}}};var yd=d3.bisector(function(c){return c});d3.bisectLeft=yd.left;
d3.bisect=d3.bisectRight=yd.right;d3.first=function(c,a){var e=0,b=c.length,f=c[0],k;for(1===arguments.length&&(a=d3.ascending);++e<b;)0<a.call(c,f,k=c[e])&&(f=k);return f};d3.last=function(c,a){var e=0,b=c.length,f=c[0],k;for(1===arguments.length&&(a=d3.ascending);++e<b;)0>=a.call(c,f,k=c[e])&&(f=k);return f};d3.nest=function(){function c(a,f){if(f>=b.length)return j?j.call(e,a):k?a.sort(k):a;for(var o=-1,g=a.length,n=b[f++],I,h,l=new t,w,u={};++o<g;)(w=l.get(I=n(h=a[o])))?w.push(h):l.set(I,[h]);
return l.forEach(function(a){u[a]=c(l.get(a),f)}),u}function a(c,e){if(e>=b.length)return c;var k=[],j=f[e++],B;for(B in c)k.push({key:B,values:a(c[B],e)});return j&&k.sort(function(c,a){return j(c.key,a.key)}),k}var e={},b=[],f=[],k,j;return e.map=function(a){return c(a,0)},e.entries=function(e){return a(c(e,0),0)},e.key=function(c){return b.push(c),e},e.sortKeys=function(c){return f[b.length-1]=c,e},e.sortValues=function(c){return k=c,e},e.rollup=function(c){return j=c,e},e};d3.keys=function(c){var a=
[],e;for(e in c)a.push(e);return a};d3.values=function(c){var a=[],e;for(e in c)a.push(c[e]);return a};d3.entries=function(c){var a=[],e;for(e in c)a.push({key:e,value:c[e]});return a};d3.permute=function(c,a){for(var e=[],b=-1,f=a.length;++b<f;)e[b]=c[a[b]];return e};d3.merge=function(c){return Array.prototype.concat.apply([],c)};d3.split=function(c,a){var e=[],b=[],f,k=-1,j=c.length;for(2>arguments.length&&(a=s);++k<j;)a.call(b,f=c[k],k)?b=[]:(b.length||e.push(b),b.push(f));return e};d3.range=function(c,
a,e){3>arguments.length&&(e=1,2>arguments.length&&(a=c,c=0));if(Infinity===(a-c)/e)throw Error("infinite range");var b=[],f;f=Math.abs(e);for(var k=1;f*k%1;)k*=10;f=k;var k=-1,j,c=c*f,a=a*f,e=e*f;if(0>e)for(;(j=c+e*++k)>a;)b.push(j/f);else for(;(j=c+e*++k)<a;)b.push(j/f);return b};d3.requote=function(c){return c.replace(Zd,"\\$&")};var Zd=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(c,a){return a?Math.round(c*(a=Math.pow(10,a)))/a:Math.round(c)};d3.xhr=function(c,a,e){var b=new XMLHttpRequest;
3>arguments.length?(e=a,a=null):a&&b.overrideMimeType&&b.overrideMimeType(a);b.open("GET",c,!0);a&&b.setRequestHeader("Accept",a);b.onreadystatechange=function(){4===b.readyState&&e(300>b.status?b:null)};b.send(null)};d3.text=function(c,a,e){3>arguments.length&&(e=a,a=null);d3.xhr(c,a,function(c){e(c&&c.responseText)})};d3.json=function(c,a){d3.text(c,"application/json",function(c){a(c?JSON.parse(c):null)})};d3.html=function(c,a){d3.text(c,"text/html",function(c){if(null!=c){var e=document.createRange();
e.selectNode(document.body);c=e.createContextualFragment(c)}a(c)})};d3.xml=function(c,a,e){3>arguments.length&&(e=a,a=null);d3.xhr(c,a,function(c){e(c&&c.responseXML)})};var ad={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:ad,qualify:function(c){var a=c.indexOf(":"),e=c;return 0<=a&&(e=c.substring(0,a),c=c.substring(a+1)),ad.hasOwnProperty(e)?
{space:ad[e],local:c}:c}};d3.dispatch=function(){for(var c=new C,a=-1,e=arguments.length;++a<e;)c[arguments[a]]=F(c);return c};C.prototype.on=function(c,a){var e=c.indexOf("."),b="";return 0<e&&(b=c.substring(e+1),c=c.substring(0,e)),2>arguments.length?this[c].on(b):this[c].on(b,a)};d3.format=function(c){var c=$d.exec(c),a=c[1]||" ",e=c[3]||"",b=c[5],f=+c[6],k=c[7],j=c[8],g=c[9],n=1,h="",l=!1;j&&(j=+j.substring(1));b&&(a="0",k&&(f-=Math.floor((f-1)/4)));switch(g){case "n":k=!0;g="g";break;case "%":n=
100;h="%";g="f";break;case "p":n=100;h="%";g="r";break;case "d":l=!0;j=0;break;case "s":n=-1,g="r"}return"r"==g&&!j&&(g="g"),g=ae.get(g)||W,function(c){if(l&&c%1)return"";var w=0>c&&(c=-c)?"\u2212":e;if(0>n){var u=d3.formatPrefix(c,j),c=c*u.scale;h=u.symbol}else c*=n;c=g(c,j);b?(u=c.length+w.length,u<f&&(c=Array(f-u+1).join(a)+c),k&&(c=X(c)),c=w+c):(k&&(c=X(c)),c=w+c,u=c.length,u<f&&(c=Array(f-u+1).join(a)+c));return c+h}};var $d=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,
ae=d3.map({g:function(c,a){return c.toPrecision(a)},e:function(c,a){return c.toExponential(a)},f:function(c,a){return c.toFixed(a)},r:function(c,a){return d3.round(c,a=J(c,a)).toFixed(Math.max(0,Math.min(20,a)))}}),be="y,z,a,f,p,n,\u03bc,m,,k,M,G,T,P,E,Z,Y".split(",").map(function(c,a){return{scale:Math.pow(10,3*(8-a)),symbol:c}});d3.formatPrefix=function(c,a){var e=0;return c&&(0>c&&(c*=-1),a&&(c=d3.round(c,J(c,a))),e=1+Math.floor(1.0E-12+Math.log(c)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=
e?e+1:e-1)/3)))),be[8+e/3]};var ce=V(2),de=V(3),zd=function(){return ba},ee=d3.map({linear:zd,poly:V,quad:function(){return ce},cubic:function(){return de},sin:function(){return ia},exp:function(){return r},circle:function(){return x},elastic:function(c,a){var e;return 2>arguments.length&&(a=0.45),1>arguments.length?(c=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/c),function(b){return 1+c*Math.pow(2,10*-b)*Math.sin(2*(b-e)*Math.PI/a)}},back:function(c){return c||(c=1.70158),function(a){return a*a*((c+1)*
a-c)}},bounce:function(){return m}}),fe=d3.map({"in":ba,out:la,"in-out":pa,"out-in":function(c){return pa(la(c))}});d3.ease=function(c){var a=c.indexOf("-"),e=0<=a?c.substring(0,a):c,a=0<=a?c.substring(a+1):"in";return e=ee.get(e)||zd,a=fe.get(a)||ba,oa(a(e.apply(null,Array.prototype.slice.call(arguments,1))))};d3.event=null;d3.interpolate=function(c,a){for(var e=d3.interpolators.length,b;0<=--e&&!(b=d3.interpolators[e](c,a)););return b};d3.interpolateNumber=function(c,a){return a-=c,function(e){return c+
a*e}};d3.interpolateRound=function(c,a){return a-=c,function(e){return Math.round(c+a*e)}};d3.interpolateString=function(c,a){var e,b,f=0,k=[],j=[],g,n;for(b=wc.lastIndex=0;e=wc.exec(a);++b)e.index&&k.push(a.substring(f,e.index)),j.push({i:k.length,x:e[0]}),k.push(null),f=wc.lastIndex;f<a.length&&k.push(a.substring(f));b=0;for(g=j.length;(e=wc.exec(c))&&b<g;++b)if(n=j[b],n.x==e[0]){if(n.i)if(null==k[n.i+1]){k[n.i-1]+=n.x;k.splice(n.i,1);for(e=b+1;e<g;++e)j[e].i--}else{k[n.i-1]+=n.x+k[n.i+1];k.splice(n.i,
2);for(e=b+1;e<g;++e)j[e].i-=2}else if(null==k[n.i+1])k[n.i]=n.x;else{k[n.i]=n.x+k[n.i+1];k.splice(n.i+1,1);for(e=b+1;e<g;++e)j[e].i--}j.splice(b,1);g--;b--}else n.x=d3.interpolateNumber(parseFloat(e[0]),parseFloat(n.x));for(;b<g;)n=j.pop(),null==k[n.i+1]?k[n.i]=n.x:(k[n.i]=n.x+k[n.i+1],k.splice(n.i+1,1)),g--;return 1===k.length?null==k[0]?j[0].x:function(){return a}:function(c){for(b=0;b<g;++b)k[(n=j[b]).i]=n.x(c);return k.join("")}};d3.interpolateTransform=function(c,a){var e=[],b=[],f,k=d3.transform(c),
j=d3.transform(a),g=k.translate,n=j.translate,h=k.rotate,l=j.rotate,w=k.skew,u=j.skew,k=k.scale,j=j.scale;return g[0]!=n[0]||g[1]!=n[1]?(e.push("translate(",null,",",null,")"),b.push({i:1,x:d3.interpolateNumber(g[0],n[0])},{i:3,x:d3.interpolateNumber(g[1],n[1])})):n[0]||n[1]?e.push("translate("+n+")"):e.push(""),h!=l?b.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(h,l)}):l&&e.push(e.pop()+"rotate("+l+")"),w!=u?b.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(w,
u)}):u&&e.push(e.pop()+"skewX("+u+")"),k[0]!=j[0]||k[1]!=j[1]?(f=e.push(e.pop()+"scale(",null,",",null,")"),b.push({i:f-4,x:d3.interpolateNumber(k[0],j[0])},{i:f-2,x:d3.interpolateNumber(k[1],j[1])})):(1!=j[0]||1!=j[1])&&e.push(e.pop()+"scale("+j+")"),f=b.length,function(c){for(var a=-1,k;++a<f;)e[(k=b[a]).i]=k.x(c);return e.join("")}};d3.interpolateRgb=function(c,a){var c=d3.rgb(c),a=d3.rgb(a),e=c.r,b=c.g,f=c.b,k=a.r-e,j=a.g-b,g=a.b-f;return function(c){return"#"+ja(Math.round(e+k*c))+ja(Math.round(b+
j*c))+ja(Math.round(f+g*c))}};d3.interpolateHsl=function(c,a){var c=d3.hsl(c),a=d3.hsl(a),e=c.h,b=c.s,f=c.l,k=a.h-e,j=a.s-b,g=a.l-f;return function(c){return M(e+k*c,b+j*c,f+g*c).toString()}};d3.interpolateArray=function(c,a){var e=[],b=[],f=c.length,k=a.length,j=Math.min(c.length,a.length),g;for(g=0;g<j;++g)e.push(d3.interpolate(c[g],a[g]));for(;g<f;++g)b[g]=c[g];for(;g<k;++g)b[g]=a[g];return function(c){for(g=0;g<j;++g)b[g]=e[g](c);return b}};d3.interpolateObject=function(c,a){var e={},b={},f;for(f in c)f in
a?e[f]=("transform"==f?d3.interpolateTransform:d3.interpolate)(c[f],a[f]):b[f]=c[f];for(f in a)f in c||(b[f]=a[f]);return function(c){for(f in e)b[f]=e[f](c);return b}};var wc=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(c,a){return a instanceof Array&&d3.interpolateArray(c,a)},function(c,a){return("string"==typeof c||"string"==typeof a)&&d3.interpolateString(c+"",a+"")},function(c,a){return("string"==typeof a?Nb.has(a)||/^(#|rgb\(|hsl\()/.test(a):a instanceof
aa||a instanceof N)&&d3.interpolateRgb(c,a)},function(c,a){return!isNaN(c=+c)&&!isNaN(a=+a)&&d3.interpolateNumber(c,a)}];d3.rgb=function(c,a,e){return 1===arguments.length?c instanceof aa?z(c.r,c.g,c.b):f(""+c,z,M):z(~~c,~~a,~~e)};aa.prototype.brighter=function(c){var c=Math.pow(0.7,arguments.length?c:1),a=this.r,e=this.g,b=this.b;return!a&&!e&&!b?z(30,30,30):(a&&30>a&&(a=30),e&&30>e&&(e=30),b&&30>b&&(b=30),z(Math.min(255,Math.floor(a/c)),Math.min(255,Math.floor(e/c)),Math.min(255,Math.floor(b/c))))};
aa.prototype.darker=function(c){return c=Math.pow(0.7,arguments.length?c:1),z(Math.floor(c*this.r),Math.floor(c*this.g),Math.floor(c*this.b))};aa.prototype.hsl=function(){return p(this.r,this.g,this.b)};aa.prototype.toString=function(){return"#"+ja(this.r)+ja(this.g)+ja(this.b)};var Nb=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",
burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",
darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",
lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",
mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",
papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",
turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});Nb.forEach(function(c,a){Nb.set(c,f(a,z,M))});d3.hsl=function(c,a,e){return 1===arguments.length?c instanceof N?D(c.h,c.s,c.l):f(""+c,p,D):D(+c,+a,+e)};N.prototype.brighter=function(c){return c=Math.pow(0.7,arguments.length?c:1),D(this.h,this.s,this.l/c)};N.prototype.darker=function(c){return c=Math.pow(0.7,arguments.length?c:1),D(this.h,this.s,c*this.l)};N.prototype.rgb=
function(){return M(this.h,this.s,this.l)};N.prototype.toString=function(){return this.rgb().toString()};var Ob=function(c,a){return a.querySelector(c)},dd=function(c,a){return a.querySelectorAll(c)},$a=document.documentElement,ge=$a.matchesSelector||$a.webkitMatchesSelector||$a.mozMatchesSelector||$a.msMatchesSelector||$a.oMatchesSelector,ed=function(c,a){return ge.call(c,a)};"function"==typeof Sizzle&&(Ob=function(c,a){return Sizzle(c,a)[0]},dd=function(c,a){return Sizzle.uniqueSort(Sizzle(c,a))},
ed=Sizzle.matchesSelector);var O=[];d3.selection=function(){return Mb};d3.selection.prototype=O;O.select=function(c){var a=[],e,b,f,k;"function"!=typeof c&&(c=da(c));for(var j=-1,g=this.length;++j<g;){a.push(e=[]);e.parentNode=(f=this[j]).parentNode;for(var n=-1,h=f.length;++n<h;)(k=f[n])?(e.push(b=c.call(k,k.__data__,n)),b&&"__data__"in k&&(b.__data__=k.__data__)):e.push(null)}return G(a)};O.selectAll=function(c){var a=[],e,b;"function"!=typeof c&&(c=Pb(c));for(var f=-1,k=this.length;++f<k;)for(var j=
this[f],g=-1,n=j.length;++g<n;)if(b=j[g])a.push(e=Kb(c.call(b,b.__data__,g))),e.parentNode=b;return G(a)};O.attr=function(c,a){function e(){this.removeAttribute(c)}function b(){this.removeAttributeNS(c.space,c.local)}function f(){this.setAttribute(c,a)}function k(){this.setAttributeNS(c.space,c.local,a)}function j(){var e=a.apply(this,arguments);null==e?this.removeAttribute(c):this.setAttribute(c,e)}function g(){var e=a.apply(this,arguments);null==e?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,
c.local,e)}c=d3.ns.qualify(c);if(2>arguments.length){var n=this.node();return c.local?n.getAttributeNS(c.space,c.local):n.getAttribute(c)}return this.each(null==a?c.local?b:e:"function"==typeof a?c.local?g:j:c.local?k:f)};O.classed=function(c,a){var e=c.split(he),b=e.length,f=-1;if(1<arguments.length){for(;++f<b;)Qb.call(this,e[f],a);return this}for(;++f<b;)if(!Qb.call(this,e[f]))return!1;return!0};var he=/\s+/g;O.style=function(c,a,e){function b(){this.style.removeProperty(c)}function f(){this.style.setProperty(c,
a,e)}function k(){var b=a.apply(this,arguments);null==b?this.style.removeProperty(c):this.style.setProperty(c,b,e)}return 3>arguments.length&&(e=""),2>arguments.length?window.getComputedStyle(this.node(),null).getPropertyValue(c):this.each(null==a?b:"function"==typeof a?k:f)};O.property=function(c,a){function e(){delete this[c]}function b(){this[c]=a}function f(){var e=a.apply(this,arguments);null==e?delete this[c]:this[c]=e}return 2>arguments.length?this.node()[c]:this.each(null==a?e:"function"==
typeof a?f:b)};O.text=function(c){return 1>arguments.length?this.node().textContent:this.each("function"==typeof c?function(){var a=c.apply(this,arguments);this.textContent=null==a?"":a}:null==c?function(){this.textContent=""}:function(){this.textContent=c})};O.html=function(c){return 1>arguments.length?this.node().innerHTML:this.each("function"==typeof c?function(){var a=c.apply(this,arguments);this.innerHTML=null==a?"":a}:null==c?function(){this.innerHTML=""}:function(){this.innerHTML=c})};O.append=
function(c){function a(){return this.appendChild(document.createElementNS(this.namespaceURI,c))}function e(){return this.appendChild(document.createElementNS(c.space,c.local))}return c=d3.ns.qualify(c),this.select(c.local?e:a)};O.insert=function(c,a){function e(){return this.insertBefore(document.createElementNS(this.namespaceURI,c),Ob(a,this))}function b(){return this.insertBefore(document.createElementNS(c.space,c.local),Ob(a,this))}return c=d3.ns.qualify(c),this.select(c.local?b:e)};O.remove=function(){return this.each(function(){var c=
this.parentNode;c&&c.removeChild(this)})};O.data=function(c,a){function e(c,b){var f,k=c.length,j=b.length,B=Math.min(k,j),y=Math.max(k,j),I=[],l=[],P=[],w,xa;if(a){var B=new t,y=[],u;xa=b.length;for(f=-1;++f<k;)u=a.call(w=c[f],w.__data__,f),B.has(u)?P[xa++]=w:B.set(u,w),y.push(u);for(f=-1;++f<j;)u=a.call(b,xa=b[f],f),B.has(u)?(I[f]=w=B.get(u),w.__data__=xa,l[f]=P[f]=null):(l[f]={__data__:xa},I[f]=P[f]=null),B.remove(u);for(f=-1;++f<k;)B.has(y[f])&&(P[f]=c[f])}else{for(f=-1;++f<B;)w=c[f],xa=b[f],
w?(w.__data__=xa,I[f]=w,l[f]=P[f]=null):(l[f]={__data__:xa},I[f]=P[f]=null);for(;f<j;++f)l[f]={__data__:b[f]},I[f]=P[f]=null;for(;f<y;++f)P[f]=c[f],l[f]=I[f]=null}l.update=I;l.parentNode=I.parentNode=P.parentNode=c.parentNode;g.push(l);n.push(I);h.push(P)}var b=-1,f=this.length,k,j;if(!arguments.length){for(c=Array(f=(k=this[0]).length);++b<f;)if(j=k[b])c[b]=j.__data__;return c}var g=ab([]),n=G([]),h=G([]);if("function"==typeof c)for(;++b<f;)e(k=this[b],c.call(k,k.parentNode.__data__,b));else for(;++b<
f;)e(k=this[b],c);return n.enter=function(){return g},n.exit=function(){return h},n};O.datum=O.map=function(c){return 1>arguments.length?this.property("__data__"):this.property("__data__",c)};O.filter=function(c){var a=[],e,b,f;"function"!=typeof c&&(c=Ac(c));for(var k=0,j=this.length;k<j;k++){a.push(e=[]);e.parentNode=(b=this[k]).parentNode;for(var g=0,n=b.length;g<n;g++)(f=b[g])&&c.call(f,f.__data__,g)&&e.push(f)}return G(a)};O.order=function(){for(var c=-1,a=this.length;++c<a;)for(var e=this[c],
b=e.length-1,f=e[b],k;0<=--b;)if(k=e[b])f&&f!==k.nextSibling&&f.parentNode.insertBefore(k,f),f=k;return this};O.sort=function(c){for(var c=Rb.apply(this,arguments),a=-1,e=this.length;++a<e;)this[a].sort(c);return this.order()};O.on=function(c,a,e){3>arguments.length&&(e=!1);var b="__on"+c,f=c.indexOf(".");return 0<f&&(c=c.substring(0,f)),2>arguments.length?(f=this.node()[b])&&f._:this.each(function(f,k){function j(c){var e=d3.event;d3.event=c;try{a.call(g,g.__data__,k)}finally{d3.event=e}}var g=this,
n=g[b];n&&(g.removeEventListener(c,n,n.$),delete g[b]);a&&(g.addEventListener(c,g[b]=j,j.$=e),j._=a)})};O.each=function(c){for(var a=-1,e=this.length;++a<e;)for(var b=this[a],f=-1,k=b.length;++f<k;){var j=b[f];j&&c.call(j,j.__data__,f,a)}return this};O.call=function(c){return c.apply(this,(arguments[0]=this,arguments)),this};O.empty=function(){return!this.node()};O.node=function(){for(var c=0,a=this.length;c<a;c++)for(var e=this[c],b=0,f=e.length;b<f;b++){var k=e[b];if(k)return k}return null};O.transition=
function(){for(var c=[],a,e,b=-1,f=this.length;++b<f;){c.push(a=[]);for(var k=this[b],j=-1,g=k.length;++j<g;)a.push((e=k[j])?{node:e,delay:Ub,duration:Vb}:null)}return Y(c,Ca||++ie,Date.now())};var Mb=G([[document]]);Mb[0].parentNode=$a;d3.select=function(c){return"string"==typeof c?Mb.select(c):G([[c]])};d3.selectAll=function(c){return"string"==typeof c?Mb.selectAll(c):G([Kb(c)])};var Ba=[];d3.selection.enter=ab;d3.selection.enter.prototype=Ba;Ba.append=O.append;Ba.insert=O.insert;Ba.empty=O.empty;
Ba.node=O.node;Ba.select=function(c){for(var a=[],e,b,f,k,j,g=-1,n=this.length;++g<n;){f=(k=this[g]).update;a.push(e=[]);e.parentNode=k.parentNode;for(var h=-1,l=k.length;++h<l;)(j=k[h])?(e.push(f[h]=b=c.call(k.parentNode,j.__data__,h)),b.__data__=j.__data__):e.push(null)}return G(a)};var cb={},ha=[],ie=0,Ca=0,Ub=0,Vb=250,Sb=d3.ease("cubic-in-out");ha.call=O.call;d3.transition=function(c){return arguments.length?Ca?c.transition():c:Mb.transition()};d3.transition.prototype=ha;ha.select=function(c){var a=
[],e,b,f;"function"!=typeof c&&(c=da(c));for(var k=-1,j=this.length;++k<j;){a.push(e=[]);for(var g=this[k],n=-1,h=g.length;++n<h;)(f=g[n])&&(b=c.call(f.node,f.node.__data__,n))?("__data__"in f.node&&(b.__data__=f.node.__data__),e.push({node:b,delay:f.delay,duration:f.duration})):e.push(null)}return Y(a,this.id,this.time).ease(this.ease())};ha.selectAll=function(c){var a=[],e,b,f;"function"!=typeof c&&(c=Pb(c));for(var k=-1,j=this.length;++k<j;)for(var g=this[k],n=-1,h=g.length;++n<h;)if(f=g[n]){b=
c.call(f.node,f.node.__data__,n);a.push(e=[]);for(var l=-1,w=b.length;++l<w;)e.push({node:b[l],delay:f.delay,duration:f.duration})}return Y(a,this.id,this.time).ease(this.ease())};ha.attr=function(c,a){return this.attrTween(c,db(c,a))};ha.attrTween=function(c,a){function e(c,b){var k=a.call(this,c,b,this.getAttribute(f));return k===cb?(this.removeAttribute(f),null):k&&function(c){this.setAttribute(f,k(c))}}function b(c,e){var k=a.call(this,c,e,this.getAttributeNS(f.space,f.local));return k===cb?(this.removeAttributeNS(f.space,
f.local),null):k&&function(c){this.setAttributeNS(f.space,f.local,k(c))}}var f=d3.ns.qualify(c);return this.tween("attr."+c,f.local?b:e)};ha.style=function(c,a,e){return 3>arguments.length&&(e=""),this.styleTween(c,db(c,a),e)};ha.styleTween=function(c,a,e){return 3>arguments.length&&(e=""),this.tween("style."+c,function(b,f){var k=a.call(this,b,f,window.getComputedStyle(this,null).getPropertyValue(c));return k===cb?(this.style.removeProperty(c),null):k&&function(a){this.style.setProperty(c,k(a),e)}})};
ha.text=function(c){return this.tween("text",function(a,e){this.textContent="function"==typeof c?c.call(this,a,e):c})};ha.remove=function(){return this.each("end.transition",function(){var c;!this.__transition__&&(c=this.parentNode)&&c.removeChild(this)})};ha.delay=function(c){var a=this;return a.each("function"==typeof c?function(e,b,f){a[f][b].delay=c.apply(this,arguments)|0}:(c|=0,function(e,b,f){a[f][b].delay=c}))};ha.duration=function(c){var a=this;return a.each("function"==typeof c?function(e,
b,f){a[f][b].duration=Math.max(1,c.apply(this,arguments)|0)}:(c=Math.max(1,c|0),function(e,b,f){a[f][b].duration=c}))};ha.transition=function(){return this.select(b)};var Da=null,Yb,Xb;d3.timer=function(c,a,e){var b=!1,f=Da;if(3>arguments.length){if(2>arguments.length)a=0;else if(!isFinite(a))return;e=Date.now()}for(;f;){if(f.callback===c){f.then=e;f.delay=a;b=!0;break}f=f.next}b||(Da={callback:c,then:e,delay:a,next:Da});Yb||(Xb=clearTimeout(Xb),Yb=1,fd(La))};d3.timer.flush=function(){for(var c,a=
Date.now(),e=Da;e;)c=a-e.then,e.delay||(e.flush=e.callback(c)),e=e.next;Wb()};var fd=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){setTimeout(c,17)};d3.transform=function(c){var a=document.createElementNS(d3.ns.prefix.svg,"g"),e={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(c){a.setAttribute("transform",c);c=a.transform.baseVal.consolidate();return new Zb(c?c.matrix:
e)})(c)};Zb.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gd=180/Math.PI;d3.mouse=function(c){return eb(c,Q())};var Bc=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(c,a){return 2>arguments.length&&(a=Q().touches),a?Kb(a).map(function(a){var e=eb(c,a);return e.identifier=a.identifier,e}):[]};d3.scale={};d3.scale.linear=function(){return ac([0,1],[0,1],d3.interpolate,!1)};d3.scale.log=function(){return Pa(d3.scale.linear(),
Qa)};var Md=d3.format(".0e");Qa.pow=function(c){return Math.pow(10,c)};Fa.pow=function(c){return-Math.pow(10,-c)};d3.scale.pow=function(){return fc(d3.scale.linear(),1)};d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)};d3.scale.ordinal=function(){return gc([],{t:"range",x:[]})};d3.scale.category10=function(){return d3.scale.ordinal().range(je)};d3.scale.category20=function(){return d3.scale.ordinal().range(ke)};d3.scale.category20b=function(){return d3.scale.ordinal().range(le)};d3.scale.category20c=
function(){return d3.scale.ordinal().range(me)};var je="#1f77b4,#ff7f0e,#2ca02c,#d62728,#9467bd,#8c564b,#e377c2,#7f7f7f,#bcbd22,#17becf".split(","),ke="#1f77b4,#aec7e8,#ff7f0e,#ffbb78,#2ca02c,#98df8a,#d62728,#ff9896,#9467bd,#c5b0d5,#8c564b,#c49c94,#e377c2,#f7b6d2,#7f7f7f,#c7c7c7,#bcbd22,#dbdb8d,#17becf,#9edae5".split(","),le="#393b79,#5254a3,#6b6ecf,#9c9ede,#637939,#8ca252,#b5cf6b,#cedb9c,#8c6d31,#bd9e39,#e7ba52,#e7cb94,#843c39,#ad494a,#d6616b,#e7969c,#7b4173,#a55194,#ce6dbd,#de9ed6".split(","),me=
"#3182bd,#6baed6,#9ecae1,#c6dbef,#e6550d,#fd8d3c,#fdae6b,#fdd0a2,#31a354,#74c476,#a1d99b,#c7e9c0,#756bb1,#9e9ac8,#bcbddc,#dadaeb,#636363,#969696,#bdbdbd,#d9d9d9".split(",");d3.scale.quantile=function(){return hc([],[])};d3.scale.quantize=function(){return gb(0,1,[0,1])};d3.scale.identity=function(){return hb([0,1])};d3.svg={};d3.svg.arc=function(){function c(){var c=a.apply(this,arguments),k=e.apply(this,arguments),j=b.apply(this,arguments)+Ga,g=f.apply(this,arguments)+Ga,n=(g<j&&(n=j,j=g,g=n),g-
j),h=n<Math.PI?"0":"1",l=Math.cos(j),j=Math.sin(j),w=Math.cos(g),g=Math.sin(g);return n>=ne?c?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+c+"A"+c+","+c+" 0 1,0 0,"+-c+"A"+c+","+c+" 0 1,0 0,"+c+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":c?"M"+k*l+","+k*j+"A"+k+","+k+" 0 "+h+",1 "+k*w+","+k*g+"L"+c*w+","+c*g+"A"+c+","+c+" 0 "+h+",0 "+c*l+","+c*j+"Z":"M"+k*l+","+k*j+"A"+k+","+k+" 0 "+h+",1 "+k*w+","+k*g+"L0,0Z"}var a=Ec,e=Fc,b=S,f=ib;return c.innerRadius=
function(e){return arguments.length?(a=d3.functor(e),c):a},c.outerRadius=function(a){return arguments.length?(e=d3.functor(a),c):e},c.startAngle=function(a){return arguments.length?(b=d3.functor(a),c):b},c.endAngle=function(a){return arguments.length?(f=d3.functor(a),c):f},c.centroid=function(){var c=(a.apply(this,arguments)+e.apply(this,arguments))/2,k=(b.apply(this,arguments)+f.apply(this,arguments))/2+Ga;return[Math.cos(k)*c,Math.sin(k)*c]},c};var Ga=-Math.PI/2,ne=2*Math.PI-1.0E-6;d3.svg.line=
function(){return Sa(Object)};var Gc="linear",mb=d3.map({linear:qa,"step-before":nb,"step-after":ob,basis:ua,"basis-open":function(c){if(4>c.length)return qa(c);for(var a=[],e=-1,b=c.length,f,k=[0],j=[0];3>++e;)f=c[e],k.push(f[0]),j.push(f[1]);a.push(ga(Ua,k)+","+ga(Ua,j));for(--e;++e<b;)f=c[e],k.shift(),k.push(f[0]),j.shift(),j.push(f[1]),ya(a,k,j);return a.join("")},"basis-closed":function(c){for(var a,e=-1,b=c.length,f=b+4,k,j=[],g=[];4>++e;)k=c[e%b],j.push(k[0]),g.push(k[1]);a=[ga(Ua,j),",",ga(Ua,
g)];for(--e;++e<f;)k=c[e%b],j.shift(),j.push(k[0]),g.shift(),g.push(k[1]),ya(a,j,g);return a.join("")},bundle:function(c,a){for(var e=c.length-1,b=c[0][0],f=c[0][1],k=c[e][0]-b,j=c[e][1]-f,g=-1,n,h;++g<=e;)n=c[g],h=g/e,n[0]=a*n[0]+(1-a)*(b+h*k),n[1]=a*n[1]+(1-a)*(f+h*j);return ua(c)},cardinal:function(c,a){return 3>c.length?qa(c):c[0]+Ta(c,pb(c,a))},"cardinal-open":function(c,a){return 4>c.length?qa(c):c[1]+Ta(c.slice(1,c.length-1),pb(c,a))},"cardinal-closed":function(c,a){return 3>c.length?qa(c):
c[0]+Ta((c.push(c[0]),c),pb([c[c.length-2]].concat(c,[c[1]]),a))},monotone:function(c){if(3>c.length)c=qa(c);else{var a=c[0],e=[],b,f,k,j,g;b=0;g=c.length-1;for(var n=[],h=c[1],l=n[0]=qb(c[0],h);++b<g;)n[b]=l+(l=qb(h,h=c[b+1]));g=(n[b]=l,n);n=-1;for(h=c.length-1;++n<h;)b=qb(c[n],c[n+1]),1.0E-6>Math.abs(b)?g[n]=g[n+1]=0:(f=g[n]/b,k=g[n+1]/b,j=f*f+k*k,9<j&&(j=3*b/Math.sqrt(j),g[n]=j*f,g[n+1]=j*k));for(n=-1;++n<=h;)j=(c[Math.min(h,n+1)][0]-c[Math.max(0,n-1)][0])/(6*(1+g[n]*g[n])),e.push([j||0,g[n]*j||
0]);c=a+Ta(c,e)}return c}}),hd=[0,2/3,1/3,0],id=[0,1/3,2/3,0],Ua=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var c=Sa(ic);return c.radius=c.x,delete c.x,c.angle=c.y,delete c.y,c};nb.reverse=ob;ob.reverse=nb;d3.svg.area=function(){return rb(Object)};d3.svg.area.radial=function(){var c=rb(ic);return c.radius=c.x,delete c.x,c.innerRadius=c.x0,delete c.x0,c.outerRadius=c.x1,delete c.x1,c.angle=c.y,delete c.y,c.startAngle=c.y0,delete c.y0,c.endAngle=c.y1,delete c.y1,c};d3.svg.chord=function(){function c(c,
f){var k=a(this,e,c,f),j=a(this,b,c,f);return"M"+k.p0+("A"+k.r+","+k.r+" 0 "+ +(k.a1-k.a0>Math.PI)+",1 "+k.p1)+(k.a0==j.a0&&k.a1==j.a1?"Q 0,0 "+k.p0:"Q 0,0 "+j.p0+("A"+j.r+","+j.r+" 0 "+ +(j.a1-j.a0>Math.PI)+",1 "+j.p1)+("Q 0,0 "+k.p0))+"Z"}function a(c,e,b,o){var g=e.call(c,b,o),e=f.call(c,g,o),b=k.call(c,g,o)+Ga,c=j.call(c,g,o)+Ga;return{r:e,a0:b,a1:c,p0:[e*Math.cos(b),e*Math.sin(b)],p1:[e*Math.cos(c),e*Math.sin(c)]}}var e=jc,b=kc,f=Jc,k=S,j=ib;return c.radius=function(a){return arguments.length?
(f=d3.functor(a),c):f},c.source=function(a){return arguments.length?(e=d3.functor(a),c):e},c.target=function(a){return arguments.length?(b=d3.functor(a),c):b},c.startAngle=function(a){return arguments.length?(k=d3.functor(a),c):k},c.endAngle=function(a){return arguments.length?(j=d3.functor(a),c):j},c};d3.svg.diagonal=function(){function c(c,f){var k=a.call(this,c,f),j=e.call(this,c,f),g=(k.y+j.y)/2,k=[k,{x:k.x,y:g},{x:j.x,y:g},j];return k=k.map(b),"M"+k[0]+"C"+k[1]+" "+k[2]+" "+k[3]}var a=jc,e=kc,
b=sb;return c.source=function(e){return arguments.length?(a=d3.functor(e),c):a},c.target=function(a){return arguments.length?(e=d3.functor(a),c):e},c.projection=function(a){return arguments.length?(b=a,c):b},c};d3.svg.diagonal.radial=function(){var c=d3.svg.diagonal(),a=sb,e=c.projection;return c.projection=function(c){return arguments.length?e(Kc(a=c)):a},c};d3.svg.mouse=d3.mouse;d3.svg.touches=d3.touches;d3.svg.symbol=function(){function c(c,b){return(Ad.get(a.call(this,c,b))||mc)(e.call(this,c,
b))}var a=lc,e=Lc;return c.type=function(e){return arguments.length?(a=d3.functor(e),c):a},c.size=function(a){return arguments.length?(e=d3.functor(a),c):e},c};var Ad=d3.map({circle:mc,cross:function(c){c=Math.sqrt(c/5)/2;return"M"+-3*c+","+-c+"H"+-c+"V"+-3*c+"H"+c+"V"+-c+"H"+3*c+"V"+c+"H"+c+"V"+3*c+"H"+-c+"V"+c+"H"+-3*c+"Z"},diamond:function(c){var c=Math.sqrt(c/(2*Bd)),a=c*Bd;return"M0,"+-c+"L"+a+",0 0,"+c+" "+-a+",0Z"},square:function(c){c=Math.sqrt(c)/2;return"M"+-c+","+-c+"L"+c+","+-c+" "+c+
","+c+" "+-c+","+c+"Z"},"triangle-down":function(c){var c=Math.sqrt(c/xc),a=c*xc/2;return"M0,"+a+"L"+c+","+-a+" "+-c+","+-a+"Z"},"triangle-up":function(c){var c=Math.sqrt(c/xc),a=c*xc/2;return"M0,"+-a+"L"+c+","+a+" "+-c+","+a+"Z"}});d3.svg.symbolTypes=Ad.keys();var xc=Math.sqrt(3),Bd=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function c(c){c.each(function(){var c=d3.select(this),w=null==n?a.ticks?a.ticks.apply(a,g):a.domain():n,u=null==h?a.tickFormat?a.tickFormat.apply(a,g):String:h,p=vb(a,w,
l),m=c.selectAll(".minor").data(p,String),p=m.enter().insert("line","g").attr("class","tick minor").style("opacity",1.0E-6),r=d3.transition(m.exit()).style("opacity",1.0E-6).remove(),m=d3.transition(m).style("opacity",1),A=c.selectAll("g").data(w,String),w=A.enter().insert("g","path").style("opacity",1.0E-6),Ld=d3.transition(A.exit()).style("opacity",1.0E-6).remove(),A=d3.transition(A).style("opacity",1),E,R=Ma(a),c=c.selectAll(".domain").data([0]);c.enter().append("path").attr("class","domain");
var c=d3.transition(c),T=a.copy(),v=this.__chart__||T;this.__chart__=T;w.append("line").attr("class","tick");w.append("text");A.select("text").text(u);switch(e){case "bottom":E=tb;p.attr("y2",f);m.attr("x2",0).attr("y2",f);w.select("line").attr("y2",b);w.select("text").attr("y",Math.max(b,0)+j);A.select("line").attr("x2",0).attr("y2",b);A.select("text").attr("x",0).attr("y",Math.max(b,0)+j).attr("dy",".71em").attr("text-anchor","middle");c.attr("d","M"+R[0]+","+k+"V0H"+R[1]+"V"+k);break;case "top":E=
tb;p.attr("y2",-f);m.attr("x2",0).attr("y2",-f);w.select("line").attr("y2",-b);w.select("text").attr("y",-(Math.max(b,0)+j));A.select("line").attr("x2",0).attr("y2",-b);A.select("text").attr("x",0).attr("y",-(Math.max(b,0)+j)).attr("dy","0em").attr("text-anchor","middle");c.attr("d","M"+R[0]+","+-k+"V0H"+R[1]+"V"+-k);break;case "left":E=ub;p.attr("x2",-f);m.attr("x2",-f).attr("y2",0);w.select("line").attr("x2",-b);w.select("text").attr("x",-(Math.max(b,0)+j));A.select("line").attr("x2",-b).attr("y2",
0);A.select("text").attr("x",-(Math.max(b,0)+j)).attr("y",0).attr("dy",".32em").attr("text-anchor","end");c.attr("d","M"+-k+","+R[0]+"H0V"+R[1]+"H"+-k);break;case "right":E=ub,p.attr("x2",f),m.attr("x2",f).attr("y2",0),w.select("line").attr("x2",b),w.select("text").attr("x",Math.max(b,0)+j),A.select("line").attr("x2",b).attr("y2",0),A.select("text").attr("x",Math.max(b,0)+j).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),c.attr("d","M"+k+","+R[0]+"H0V"+R[1]+"H"+k)}if(a.ticks)w.call(E,
v),A.call(E,T),Ld.call(E,T),p.call(E,v),m.call(E,T),r.call(E,T);else{var q=T.rangeBand()/2,u=function(c){return T(c)+q};w.call(E,u);A.call(E,u)}})}var a=d3.scale.linear(),e="bottom",b=6,f=6,k=6,j=3,g=[10],n=null,h,l=0;return c.scale=function(e){return arguments.length?(a=e,c):a},c.orient=function(a){return arguments.length?(e=a,c):e},c.ticks=function(){return arguments.length?(g=arguments,c):g},c.tickValues=function(a){return arguments.length?(n=a,c):n},c.tickFormat=function(a){return arguments.length?
(h=a,c):h},c.tickSize=function(a,e,j){if(!arguments.length)return b;var g=arguments.length-1;return b=+a,f=1<g?+e:b,k=0<g?+arguments[g]:b,c},c.tickPadding=function(a){return arguments.length?(j=+a,c):j},c.tickSubdivide=function(a){return arguments.length?(l=+a,c):l},c};d3.svg.brush=function(){function c(k){k.each(function(){var k=d3.select(this),h=k.selectAll(".background").data([0]),l=k.selectAll(".extent").data([0]),w=k.selectAll(".resize").data(n,String),u;k.style("pointer-events","all").on("mousedown.brush",
f).on("touchstart.brush",f);h.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");l.enter().append("rect").attr("class","extent").style("cursor","move");w.enter().append("g").attr("class",function(c){return"resize "+c}).style("cursor",function(c){return oe[c]}).append("rect").attr("x",function(c){return/[ew]$/.test(c)?-3:null}).attr("y",function(c){return/^[ns]/.test(c)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");w.style("display",
c.empty()?"none":null);w.exit().remove();j&&(u=Ma(j),h.attr("x",u[0]).attr("width",u[1]-u[0]),e(k));g&&(u=Ma(g),h.attr("y",u[0]).attr("height",u[1]-u[0]),b(k));a(k)})}function a(c){c.selectAll(".resize").attr("transform",function(c){return"translate("+h[+/e$/.test(c)][0]+","+h[+/^s/.test(c)][1]+")"})}function e(c){c.select(".extent").attr("x",h[0][0]);c.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1][0]-h[0][0])}function b(c){c.select(".extent").attr("y",h[0][1]);c.selectAll(".extent,.e>rect,.w>rect").attr("height",
h[1][1]-h[0][1])}function f(){function n(){var c=d3.event.changedTouches;return c?d3.touches(m,c)[0]:d3.mouse(m)}function w(){var c=n(),f=!1;x&&(c[0]+=x[0],c[1]+=x[1]);v||(d3.event.altKey?(ta||(ta=[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]),q[0]=h[+(c[0]<ta[0])][0],q[1]=h[+(c[1]<ta[1])][1]):ta=null);R&&u(c,j,0)&&(e(I),f=!0);T&&u(c,g,1)&&(b(I),f=!0);f&&(a(I),r({type:"brush",mode:v?"move":"resize"}))}function u(c,a,e){var b=Ma(a),a=b[0],b=b[1],f=q[e],k=h[1][e]-h[0][e],j;v&&(a-=f,b-=k+f);c=Math.max(a,
Math.min(b,c[e]));v?j=(c+=f)+k:(ta&&(f=Math.max(a,Math.min(b,2*ta[e]-c))),f<c?(j=c,c=f):j=f);if(h[0][e]!==c||h[1][e]!==j)return l=null,h[0][e]=c,h[1][e]=j,!0}function p(){w();I.style("pointer-events","all").selectAll(".resize").style("display",c.empty()?"none":null);d3.select("body").style("cursor",null);pc.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);r({type:"brushend"});H()}var m=this,A=d3.select(d3.event.target),
r=k.of(m,arguments),I=d3.select(m),E=A.datum(),R=!/^(n|s)$/.test(E)&&j,T=!/^(e|w)$/.test(E)&&g,v=A.classed("extent"),ta,q=n(),x,pc=d3.select(window).on("mousemove.brush",w).on("mouseup.brush",p).on("touchmove.brush",w).on("touchend.brush",p).on("keydown.brush",function(){32==d3.event.keyCode&&(v||(ta=null,q[0]-=h[1][0],q[1]-=h[1][1],v=2),H())}).on("keyup.brush",function(){32==d3.event.keyCode&&2==v&&(q[0]+=h[1][0],q[1]+=h[1][1],v=0,H())});if(v)q[0]=h[0][0]-q[0],q[1]=h[0][1]-q[1];else if(E){var Cb=
+/w$/.test(E),E=+/^n/.test(E);x=[h[1-Cb][0]-q[0],h[1-E][1]-q[1]];q[0]=h[Cb][0];q[1]=h[E][1]}else d3.event.altKey&&(ta=q.slice());I.style("pointer-events","none").selectAll(".resize").style("display",null);d3.select("body").style("cursor",A.style("cursor"));r({type:"brushstart"});w();H()}var k=Z(c,"brushstart","brush","brushend"),j=null,g=null,n=bd[0],h=[[0,0],[0,0]],l;return c.x=function(a){return arguments.length?(j=a,n=bd[!j<<1|!g],c):j},c.y=function(a){return arguments.length?(g=a,n=bd[!j<<1|!g],
c):g},c.extent=function(a){var e,b,f,k,o;return arguments.length?(l=[[0,0],[0,0]],j&&(e=a[0],b=a[1],g&&(e=e[0],b=b[0]),l[0][0]=e,l[1][0]=b,j.invert&&(e=j(e),b=j(b)),b<e&&(o=e,e=b,b=o),h[0][0]=e|0,h[1][0]=b|0),g&&(f=a[0],k=a[1],j&&(f=f[1],k=k[1]),l[0][1]=f,l[1][1]=k,g.invert&&(f=g(f),k=g(k)),k<f&&(o=f,f=k,k=o),h[0][1]=f|0,h[1][1]=k|0),c):(a=l||h,j&&(e=a[0][0],b=a[1][0],l||(e=h[0][0],b=h[1][0],j.invert&&(e=j.invert(e),b=j.invert(b)),b<e&&(o=e,e=b,b=o))),g&&(f=a[0][1],k=a[1][1],l||(f=h[0][1],k=h[1][1],
g.invert&&(f=g.invert(f),k=g.invert(k)),k<f&&(o=f,f=k,k=o))),j&&g?[[e,f],[b,k]]:j?[e,b]:g&&[f,k])},c.clear=function(){return l=null,h[0][0]=h[0][1]=h[1][0]=h[1][1]=0,c},c.empty=function(){return j&&h[0][0]===h[1][0]||g&&h[0][1]===h[1][1]},d3.rebind(c,k,"on")};var oe={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bd=["n,e,s,w,nw,ne,se,sw".split(","),["e","w"],["n","s"],[]];d3.behavior={};d3.behavior.drag=function(){function c(){this.on("mousedown.drag",
a).on("touchstart.drag",a)}function a(){function c(){var a=g.parentNode,e=d3.event.changedTouches;return e?d3.touches(a,e)[0]:d3.mouse(a)}function f(){if(!g.parentNode)return k();var a=c(),e=a[0]-l[0],b=a[1]-l[1];w|=e|b;l=a;H();o({type:"drag",x:a[0]+h[0],y:a[1]+h[1],dx:e,dy:b})}function k(){o({type:"dragend"});w&&(H(),d3.event.target===n&&u.on("click.drag",j,!0));u.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function j(){H();u.on("click.drag",
null)}var g=this,o=e.of(g,arguments),n=d3.event.target,h,l=c(),w=0,u=d3.select(window).on("mousemove.drag",f).on("touchmove.drag",f).on("mouseup.drag",k,!0).on("touchend.drag",k,!0);b?(h=b.apply(g,arguments),h=[h.x-l[0],h.y-l[1]]):h=[0,0];o({type:"dragstart"})}var e=Z(c,"drag","dragstart","dragend"),b=null;return c.origin=function(a){return arguments.length?(b=a,c):b},d3.rebind(c,e,"on")};d3.behavior.zoom=function(){function c(){this.on("mousedown.zoom",k).on("mousewheel.zoom",j).on("mousemove.zoom",
g).on("DOMMouseScroll.zoom",j).on("dblclick.zoom",n).on("touchstart.zoom",h).on("touchmove.zoom",l).on("touchend.zoom",h)}function a(c){return[(c[0]-w[0])/p,(c[1]-w[1])/p]}function e(c){p=Math.max(A[0],Math.min(A[1],c))}function b(c,a){a=[a[0]*p+w[0],a[1]*p+w[1]];w[0]+=c[0]-a[0];w[1]+=c[1]-a[1]}function f(c){R&&R.domain(E.range().map(function(c){return(c-w[0])/p}).map(E.invert));v&&v.domain(T.range().map(function(c){return(c-w[1])/p}).map(T.invert));d3.event.preventDefault();c({type:"zoom",scale:p,
translate:w})}function k(){function c(){H();h.on("click.zoom",null)}var e=this,j=r.of(e,arguments),g=d3.event.target,n=0,h=d3.select(window).on("mousemove.zoom",function(){n=1;b(d3.mouse(e),l);f(j)}).on("mouseup.zoom",function(){n&&H();h.on("mousemove.zoom",null).on("mouseup.zoom",null);n&&d3.event.target===g&&h.on("click.zoom",c)}),l=a(d3.mouse(e));window.focus();H()}function j(){u||(u=a(d3.mouse(this)));e(Math.pow(2,0.0020*nc())*p);b(d3.mouse(this),u);f(r.of(this,arguments))}function g(){u=null}
function n(){var c=d3.mouse(this),k=a(c);e(d3.event.shiftKey?p/2:2*p);b(c,k);f(r.of(this,arguments))}function h(){var c=d3.touches(this),k=Date.now();m=p;u={};c.forEach(function(c){u[c.identifier]=a(c)});H();if(1===c.length&&500>k-q){var j=c[0],c=a(c[0]);e(2*p);b(j,c);f(r.of(this,arguments))}q=k}function l(){var c=d3.touches(this),a=c[0],k=u[a.identifier];if(c=c[1]){var j=u[c.identifier],a=[(a[0]+c[0])/2,(a[1]+c[1])/2],k=[(k[0]+j[0])/2,(k[1]+j[1])/2];e(d3.event.scale*m)}b(a,k);f(r.of(this,arguments))}
var w=[0,0],u,p=1,m,A=Cd,r=Z(c,"zoom"),E,R,T,v,q;return c.translate=function(a){return arguments.length?(w=a.map(Number),c):w},c.scale=function(a){return arguments.length?(p=+a,c):p},c.scaleExtent=function(a){return arguments.length?(A=null==a?Cd:a.map(Number),c):A},c.x=function(a){return arguments.length?(R=a,E=a.copy(),c):R},c.y=function(a){return arguments.length?(v=a,T=a.copy(),c):v},d3.rebind(c,r,"on")};var wb,Cd=[0,Infinity];d3.layout={};d3.layout.bundle=function(){return function(c){for(var a=
[],e=-1,b=c.length;++e<b;)a.push(va(c[e]));return a}};d3.layout.chord=function(){function c(){var c={},e=[],w=d3.range(j),u=[],p,B,m,A,r;b=[];f=[];p=0;for(A=-1;++A<j;){B=0;for(r=-1;++r<j;)B+=k[A][r];e.push(B);u.push(d3.range(j));p+=B}n&&w.sort(function(c,a){return n(e[c],e[a])});h&&u.forEach(function(c,a){c.sort(function(c,e){return h(k[a][c],k[a][e])})});p=(2*Math.PI-g*j)/p;B=0;for(A=-1;++A<j;){m=B;for(r=-1;++r<j;){var E=w[A],R=u[E][r],T=k[E][R],v=B,q=B+=T*p;c[E+"-"+R]={index:E,subindex:R,startAngle:v,
endAngle:q,value:T}}f.push({index:E,startAngle:m,endAngle:B,value:(B-m)/p});B+=g}for(A=-1;++A<j;)for(r=A-1;++r<j;)w=c[A+"-"+r],u=c[r+"-"+A],(w.value||u.value)&&b.push(w.value<u.value?{source:u,target:w}:{source:w,target:u});l&&a()}function a(){b.sort(function(c,a){return l((c.source.value+c.target.value)/2,(a.source.value+a.target.value)/2)})}var e={},b,f,k,j,g=0,n,h,l;return e.matrix=function(c){return arguments.length?(j=(k=c)&&k.length,b=f=null,e):k},e.padding=function(c){return arguments.length?
(g=c,b=f=null,e):g},e.sortGroups=function(c){return arguments.length?(n=c,b=f=null,e):n},e.sortSubgroups=function(c){return arguments.length?(h=c,b=null,e):h},e.sortChords=function(c){return arguments.length?(l=c,b&&a(),e):l},e.chords=function(){return b||c(),b},e.groups=function(){return f||c(),f},e};d3.layout.force=function(){function c(c){return function(a,e,b,f){if(a.point!==c){var b=a.cx-c.x,k=a.cy-c.y,j=1/Math.sqrt(b*b+k*k);if((f-e)*j<u)return e=a.charge*j*j,c.px-=b*e,c.py-=k*e,!0;a.point&&
isFinite(j)&&(e=a.pointCharge*j*j,c.px-=b*e,c.py-=k*e)}return!a.charge}}function a(c){xb(Ha=c);Nc=e}var e={},b=d3.dispatch("start","tick","end"),f=[1,1],k,j,g=0.9,n=Oc,h=za,l=-30,w=0.1,u=0.8,p=[],m=[],A,r,E;return e.tick=function(){if(0.0050>(j*=0.99))return b.end({type:"end",alpha:j=0}),!0;var a=p.length,e=m.length,k,o,n,h,u,B,y;for(k=0;k<e;++k)if(o=m[k],n=o.source,h=o.target,B=h.x-n.x,y=h.y-n.y,u=B*B+y*y)u=j*r[k]*((u=Math.sqrt(u))-A[k])/u,B*=u,y*=u,h.x-=B*(u=n.weight/(h.weight+n.weight)),h.y-=y*
u,n.x+=B*(u=1-u),n.y+=y*u;if(u=j*w)if(B=f[0]/2,y=f[1]/2,k=-1,u)for(;++k<a;)o=p[k],o.x+=(B-o.x)*u,o.y+=(y-o.y)*u;if(l){Wa(e=d3.geom.quadtree(p),j,E);for(k=-1;++k<a;)(o=p[k]).fixed||e.visit(c(o))}for(k=-1;++k<a;)o=p[k],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*g,o.y-=(o.py-(o.py=o.y))*g);b.tick({type:"tick",alpha:j})},e.nodes=function(c){return arguments.length?(p=c,e):p},e.links=function(c){return arguments.length?(m=c,e):m},e.size=function(c){return arguments.length?(f=c,e):f},e.linkDistance=
function(c){return arguments.length?(n=d3.functor(c),e):n},e.distance=e.linkDistance,e.linkStrength=function(c){return arguments.length?(h=d3.functor(c),e):h},e.friction=function(c){return arguments.length?(g=c,e):g},e.charge=function(c){return arguments.length?(l="function"==typeof c?c:+c,e):l},e.gravity=function(c){return arguments.length?(w=c,e):w},e.theta=function(c){return arguments.length?(u=c,e):u},e.alpha=function(c){return arguments.length?(j?0<c?j=c:j=0:0<c&&(b.start({type:"start",alpha:j=
c}),d3.timer(e.tick)),e):j},e.start=function(){function c(e,f){var g;if(!w){w=[];for(b=0;b<k;++b)w[b]=[];for(b=0;b<j;++b)g=m[b],w[g.source.index].push(g.target),w[g.target.index].push(g.source)}g=w[a];for(var o=-1,n=g.length,h;++o<n;)if(!isNaN(h=g[o][e]))return h;return Math.random()*f}var a,b,k=p.length,j=m.length,g=f[0],o=f[1],w,u;for(a=0;a<k;++a)(u=p[a]).index=a,u.weight=0;A=[];r=[];for(a=0;a<j;++a)u=m[a],"number"==typeof u.source&&(u.source=p[u.source]),"number"==typeof u.target&&(u.target=p[u.target]),
A[a]=n.call(this,u,a),r[a]=h.call(this,u,a),++u.source.weight,++u.target.weight;for(a=0;a<k;++a)u=p[a],isNaN(u.x)&&(u.x=c("x",g)),isNaN(u.y)&&(u.y=c("y",o)),isNaN(u.px)&&(u.px=u.x),isNaN(u.py)&&(u.py=u.y);E=[];if("function"==typeof l)for(a=0;a<k;++a)E[a]=+l.call(this,p[a],a);else for(a=0;a<k;++a)E[a]=l;return e.resume()},e.resume=function(){return e.alpha(0.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){k||(k=d3.behavior.drag().origin(Object).on("dragstart",a).on("drag",Va).on("dragend",
Mc));this.on("mouseover.force",xb).on("mouseout.force",jd).call(k)},d3.rebind(e,b,"on")};var Nc,Ha;d3.layout.partition=function(){function c(a,e,b,f){var k=a.children;a.x=e;a.y=a.depth*f;a.dx=b;a.dy=f;if(k&&(g=k.length))for(var j=-1,g,o,b=a.value?b/a.value:0;++j<g;)c(o=k[j],e,a=o.value*b,f),e+=a}function a(c){var c=c.children,e=0;if(c&&(f=c.length))for(var b=-1,f;++b<f;)e=Math.max(e,a(c[b]));return 1+e}function b(e,j){var g=f.call(this,e,j);return c(g[0],0,k[0],k[1]/a(g[0])),g}var f=d3.layout.hierarchy(),
k=[1,1];return b.size=function(c){return arguments.length?(k=c,b):k},e(b,f)};d3.layout.pie=function(){function c(k,j){var g=k.map(function(e,b){return+a.call(c,e,b)}),n=+("function"==typeof b?b.apply(this,arguments):b),h=(("function"==typeof f?f.apply(this,arguments):f)-b)/d3.sum(g),u=d3.range(k.length);null!=e&&u.sort(e===Dd?function(c,a){return g[a]-g[c]}:function(c,a){return e(k[c],k[a])});var l=[];return u.forEach(function(c){l[c]={data:k[c],value:d=g[c],startAngle:n,endAngle:n+=d*h}}),l}var a=
Number,e=Dd,b=0,f=2*Math.PI;return c.value=function(e){return arguments.length?(a=e,c):a},c.sort=function(a){return arguments.length?(e=a,c):e},c.startAngle=function(a){return arguments.length?(b=a,c):b},c.endAngle=function(a){return arguments.length?(f=a,c):f},c};var Dd={};d3.layout.stack=function(){function c(g,n){var h=g.map(function(e,b){return a.call(c,e,b)}),u=h.map(function(a){return a.map(function(a,e){return[k.call(c,a,e),j.call(c,a,e)]})}),l=e.call(c,u,n),h=d3.permute(h,l),u=d3.permute(u,
l),l=b.call(c,u,n),w=h.length,p=h[0].length,m,A,r;for(A=0;A<p;++A){f.call(c,h[0][A],r=l[A],u[0][A][1]);for(m=1;m<w;++m)f.call(c,h[m][A],r+=u[m-1][A][1],u[m][A][1])}return g}var a=Object,e=zb,b=Ab,f=Aa,k=yb,j=ka;return c.values=function(e){return arguments.length?(a=e,c):a},c.order=function(a){return arguments.length?(e="function"==typeof a?a:pe.get(a)||zb,c):e},c.offset=function(a){return arguments.length?(b="function"==typeof a?a:qe.get(a)||Ab,c):b},c.x=function(a){return arguments.length?(k=a,c):
k},c.y=function(a){return arguments.length?(j=a,c):j},c.out=function(a){return arguments.length?(f=a,c):f},c};var pe=d3.map({"inside-out":function(c){for(var a=c.length,e,b=c.map(Xa),f=c.map(oc),k=d3.range(a).sort(function(c,a){return b[c]-b[a]}),j=0,g=0,n=[],h=[],c=0;c<a;++c)e=k[c],j<g?(j+=f[e],n.push(e)):(g+=f[e],h.push(e));return h.reverse().concat(n)},reverse:function(c){return d3.range(c.length).reverse()},"default":zb}),qe=d3.map({silhouette:function(c){var a=c.length,e=c[0].length,b=[],f=0,
k,j,g,n=[];for(j=0;j<e;++j){for(g=k=0;k<a;k++)g+=c[k][j][1];g>f&&(f=g);b.push(g)}for(j=0;j<e;++j)n[j]=(f-b[j])/2;return n},wiggle:function(c){var a=c.length,e=c[0],b=e.length,f,k,j,g,n,h,u,l,w,p=[];p[0]=l=w=0;for(k=1;k<b;++k){for(g=f=0;f<a;++f)g+=c[f][k][1];n=f=0;for(u=e[k][0]-e[k-1][0];f<a;++f){j=0;for(h=(c[f][k][1]-c[f][k-1][1])/(2*u);j<f;++j)h+=(c[j][k][1]-c[j][k-1][1])/u;n+=h*c[f][k][1]}p[k]=l-=g?n/g*u:0;l<w&&(w=l)}for(k=0;k<b;++k)p[k]-=w;return p},expand:function(c){var a=c.length,e=c[0].length,
b=1/a,f,k,j,g=[];for(k=0;k<e;++k){for(j=f=0;f<a;f++)j+=c[f][k][1];if(j)for(f=0;f<a;f++)c[f][k][1]/=j;else for(f=0;f<a;f++)c[f][k][1]=b}for(k=0;k<e;++k)g[k]=0;return g},zero:Ab});d3.layout.histogram=function(){function c(c,a){for(var j=[],g=c.map(b,this),n=f.call(this,g,a),h=k.call(this,n,g,a),u,a=-1,l=g.length,w=h.length-1,p=e?1:1/l,m;++a<w;)u=j[a]=[],u.dx=h[a+1]-(u.x=h[a]),u.y=0;for(a=-1;++a<l;)m=g[a],m>=n[0]&&m<=n[1]&&(u=j[d3.bisect(h,m,1,w)-1],u.y+=p,u.push(c[a]));return j}var e=!0,b=Number,f=
a,k=Pc;return c.value=function(a){return arguments.length?(b=a,c):b},c.range=function(a){return arguments.length?(f=d3.functor(a),c):f},c.bins=function(a){return arguments.length?(k="number"==typeof a?function(c){return Bb(c,a)}:d3.functor(a),c):k},c.frequency=function(a){return arguments.length?(e=!!a,c):e},c};d3.layout.hierarchy=function(){function c(a,k,j){var n=f.call(e,a,k),o=Qc?a:{data:a};o.depth=k;j.push(o);if(n&&(h=n.length)){for(var a=-1,h,u=o.children=[],l=0,k=k+1;++a<h;)d=c(n[a],k,j),d.parent=
o,u.push(d),l+=d.value;b&&u.sort(b);g&&(o.value=l)}else g&&(o.value=+g.call(e,a,k)||0);return o}function a(c,b){var f=c.children,k=0;if(f&&(n=f.length))for(var j=-1,n,h=b+1;++j<n;)k+=a(f[j],h);else g&&(k=+g.call(e,Qc?c:c.data,b)||0);return g&&(c.value=k),k}function e(a){var b=[];return c(a,0,b),b}var b=n,f=k,g=j;return e.sort=function(c){return arguments.length?(b=c,e):b},e.children=function(c){return arguments.length?(f=c,e):f},e.value=function(c){return arguments.length?(g=c,e):g},e.revalue=function(c){return a(c,
0),c},e};var Qc=!1;d3.layout.pack=function(){function c(c,e){var f=a.call(this,c,e),k=f[0];k.x=0;k.y=0;Ia(k);var j=b[0],g=b[1],n=1/Math.max(2*k.r/j,2*k.r/g);return ld(k,j/2,g/2,n),f}var a=d3.layout.hierarchy().sort(A),b=[1,1];return c.size=function(a){return arguments.length?(b=a,c):b},e(c,a)};d3.layout.cluster=function(){function c(c,e){var k=a.call(this,c,e),j=k[0],g,n=0;sa(j,function(c){var a=c.children;a&&a.length?(c.x=Pd(a),c.y=Od(a)):(c.x=g?n+=b(c,g):0,c.y=0,g=c)});var h=md(j),u=nd(j),l=h.x-
b(h,u)/2,w=u.x+b(u,h)/2;return sa(j,function(c){c.x=(c.x-l)/(w-l)*f[0];c.y=(1-(j.y?c.y/j.y:1))*f[1]}),k}var a=d3.layout.hierarchy().sort(null).value(null),b=od,f=[1,1];return c.separation=function(a){return arguments.length?(b=a,c):b},c.size=function(a){return arguments.length?(f=a,c):f},e(c,a)};d3.layout.tree=function(){function c(c,e){function k(c,a){var e=c.children,f=c._tree;if(e&&(j=e.length)){for(var j,g=e[0],n,o=g,h,l=-1;++l<j;){h=e[l];k(h,n);var w=h;if(n){for(var p=w,m=w,A=w.parent.children[0],
r=p._tree.mod,E=m._tree.mod,R=n._tree.mod,T=A._tree.mod,y=void 0;n=u(n),p=Rc(p),n&&p;){A=Rc(A);m=u(m);m._tree.ancestor=w;y=n._tree.prelim+R-p._tree.prelim-r+b(n,p);if(0<y){var v=n._tree.ancestor.parent==w.parent?n._tree.ancestor:o,q=w,I=y,v=v._tree,q=q._tree,P=I/(q.number-v.number);v.change+=P;q.change-=P;q.shift+=I;q.prelim+=I;q.mod+=I;r+=y;E+=y}R+=n._tree.mod;r+=p._tree.mod;T+=A._tree.mod;E+=m._tree.mod}n&&!u(m)&&(m._tree.thread=n,m._tree.mod+=R-E);p&&!Rc(A)&&(A._tree.thread=p,A._tree.mod+=r-T,
o=w)}n=h}j=e=0;l=c.children;for(w=l.length;0<=--w;)o=l[w]._tree,o.prelim+=e,o.mod+=e,e+=o.shift+(j+=o.change);g=0.5*(g._tree.prelim+h._tree.prelim);a?(f.prelim=a._tree.prelim+b(c,a),f.mod=f.prelim-g):f.prelim=g}else a&&(f.prelim=a._tree.prelim+b(c,a))}function j(c,a){c.x=c._tree.prelim+a;var e=c.children;if(e&&(f=e.length))for(var b=-1,f,a=a+c._tree.mod;++b<f;)j(e[b],a)}var g=a.call(this,c,e),n=g[0];sa(n,function(c,a){c._tree={ancestor:c,prelim:0,mod:0,change:0,shift:0,number:a?a._tree.number+1:0}});
k(n);j(n,-n._tree.prelim);var h=E(n,Fb),l=E(n,Sc),w=E(n,Gb),p=h.x-b(h,l)/2,m=l.x+b(l,h)/2,A=w.depth||1;return sa(n,function(c){c.x=(c.x-p)/(m-p)*f[0];c.y=c.depth/A*f[1];delete c._tree}),g}var a=d3.layout.hierarchy().sort(null).value(null),b=od,f=[1,1];return c.separation=function(a){return arguments.length?(b=a,c):b},c.size=function(a){return arguments.length?(f=a,c):f},e(c,a)};d3.layout.treemap=function(){function c(c,a){for(var e=-1,b=c.length,f,k;++e<b;)k=(f=c[e]).value*(0>a?0:a),f.area=isNaN(k)||
0>=k?0:k}function a(e){var b=e.children;if(b&&b.length){var k=u(e),j=[],g=b.slice(),n=Infinity,h,l=Math.min(k.dx,k.dy);c(g,k.dx*k.dy/e.value);for(j.area=0;0<(e=g.length);){j.push(e=g[e-1]);j.area+=e.area;for(var e=l,w=j.area,m=void 0,A=0,r=Infinity,E=-1,B=j.length;++E<B;)if(m=j[E].area)m<r&&(r=m),m>A&&(A=m);(h=(w*=w,e*=e,w?Math.max(e*A*p/w,w/(e*r*p)):Infinity))<=n?(g.pop(),n=h):(j.area-=j.pop().area,f(j,l,k,!1),l=Math.min(k.dx,k.dy),j.length=j.area=0,n=Infinity)}j.length&&(f(j,l,k,!0),j.length=j.area=
0);b.forEach(a)}}function b(a){var e=a.children;if(e&&e.length){var k=u(a),j=e.slice(),g=[];c(j,k.dx*k.dy/a.value);for(g.area=0;a=j.pop();)g.push(a),g.area+=a.area,null!=a.z&&(f(g,a.z?k.dx:k.dy,k,!j.length),g.length=g.area=0);e.forEach(b)}}function f(c,a,e,b){var k=-1,j=c.length,n=e.x,o=e.y,h=a?g(c.area/a):0,l;if(a==e.dx){if(b||h>e.dy)h=e.dy;for(;++k<j;)l=c[k],l.x=n,l.y=o,l.dy=h,n+=l.dx=Math.min(e.x+e.dx-n,h?g(l.area/h):0);l.z=!0;l.dx+=e.x+e.dx-n;e.y+=h;e.dy-=h}else{if(b||h>e.dx)h=e.dx;for(;++k<j;)l=
c[k],l.x=n,l.y=o,l.dx=h,o+=l.dy=Math.min(e.y+e.dy-o,h?g(l.area/h):0);l.z=!1;l.dy+=e.y+e.dy-o;e.x+=h;e.dx-=h}}function k(e){var e=w||j(e),f=e[0];return f.x=0,f.y=0,f.dx=n[0],f.dy=n[1],w&&j.revalue(f),c([f],f.dx*f.dy/f.value),(w?b:a)(f),l&&(w=e),e}var j=d3.layout.hierarchy(),g=Math.round,n=[1,1],h=null,u=Za,l=!1,w,p=0.5*(1+Math.sqrt(5));return k.size=function(c){return arguments.length?(n=c,k):n},k.padding=function(c){function a(e){var b=c.call(k,e,e.depth);return null==b?Za(e):Hb(e,"number"==typeof b?
[b,b,b,b]:b)}function e(a){return Hb(a,c)}if(!arguments.length)return h;var b;return u=null==(h=c)?Za:"function"===(b=typeof c)?a:"number"===b?(c=[c,c,c,c],e):e,k},k.round=function(c){return arguments.length?(g=c?Math.round:Number,k):g!=Number},k.sticky=function(c){return arguments.length?(l=c,w=null,k):l},k.ratio=function(c){return arguments.length?(p=c,k):p},e(k,j)};d3.csv=function(c,a){d3.text(c,"text/csv",function(c){a(c&&d3.csv.parse(c))})};d3.csv.parse=function(c){var a;return d3.csv.parseRows(c,
function(c,e){if(e){for(var b={},f=-1,k=a.length;++f<k;)b[a[f]]=c[f];return b}return a=c,null})};d3.csv.parseRows=function(c,a){function e(){if(j.lastIndex>=c.length)return f;if(h)return h=!1,b;var a=j.lastIndex;if(34===c.charCodeAt(a)){for(var k=a;k++<c.length;)if(34===c.charCodeAt(k)){if(34!==c.charCodeAt(k+1))break;k++}j.lastIndex=k+2;var g=c.charCodeAt(k+1);return 13===g?(h=!0,10===c.charCodeAt(k+2)&&j.lastIndex++):10===g&&(h=!0),c.substring(a+1,k).replace(/""/g,'"')}return(k=j.exec(c))?(h=44!==
k[0].charCodeAt(0),c.substring(a,k.index)):(j.lastIndex=c.length,c.substring(a))}var b={},f={},k=[],j=/\r\n|[,\r\n]/g,g=0,n,h;for(j.lastIndex=0;(n=e())!==f;){for(var l=[];n!==b&&n!==f;)l.push(n),n=e();(!a||(l=a(l,g++)))&&k.push(l)}return k};d3.csv.format=function(c){return c.map(qc).join("\n")};d3.geo={};var L=Math.PI/180;d3.geo.azimuthal=function(){function c(c){var e=c[0]*L-k,j=c[1]*L,c=Math.cos(e),e=Math.sin(e),h=Math.cos(j),j=Math.sin(j),l="orthographic"!==a?n*j+g*h*c:null,u,l="stereographic"===
a?1/(1+l):"gnomonic"===a?1/l:"equidistant"===a?(u=Math.acos(l),u?u/Math.sin(u):0):"equalarea"===a?Math.sqrt(2/(1+l)):1;return[b*l*h*e+f[0],b*l*(n*h*c-g*j)+f[1]]}var a="orthographic",e,b=200,f=[480,250],k,j,g,n;return c.invert=function(c){var e=(c[0]-f[0])/b,c=(c[1]-f[1])/b,j=Math.sqrt(e*e+c*c),h="stereographic"===a?2*Math.atan(j):"gnomonic"===a?Math.atan(j):"equidistant"===a?j:"equalarea"===a?2*Math.asin(0.5*j):Math.asin(j),l=Math.sin(h),h=Math.cos(h);return[(k+Math.atan2(e*l,j*g*h+c*n*l))/L,Math.asin(h*
n-(j?c*l*g/j:0))/L]},c.mode=function(e){return arguments.length?(a=e+"",c):a},c.origin=function(a){return arguments.length?(e=a,k=e[0]*L,j=e[1]*L,g=Math.cos(j),n=Math.sin(j),c):e},c.scale=function(a){return arguments.length?(b=+a,c):b},c.translate=function(a){return arguments.length?(f=[+a[0],+a[1]],c):f},c.origin([0,0])};d3.geo.albers=function(){function c(c){var a=g*(L*c[0]-j),c=Math.sqrt(n-2*g*Math.sin(L*c[1]))/g;return[f*c*Math.sin(a)+k[0],f*(c*Math.cos(a)-h)+k[1]]}function a(){var f=L*b[0],k=
L*b[1],o=L*e[1],l=Math.sin(f),f=Math.cos(f);return j=L*e[0],g=0.5*(l+Math.sin(k)),n=f*f+2*g*l,h=Math.sqrt(n-2*g*Math.sin(o))/g,c}var e=[-98,38],b=[29.5,45.5],f=1E3,k=[480,250],j,g,n,h;return c.invert=function(c){var a=(c[0]-k[0])/f,e=h+(c[1]-k[1])/f,c=Math.atan2(a,e),a=Math.sqrt(a*a+e*e);return[(j+c/g)/L,Math.asin((n-a*a*g*g)/(2*g))/L]},c.origin=function(c){return arguments.length?(e=[+c[0],+c[1]],a()):e},c.parallels=function(c){return arguments.length?(b=[+c[0],+c[1]],a()):b},c.scale=function(a){return arguments.length?
(f=+a,c):f},c.translate=function(a){return arguments.length?(k=[+a[0],+a[1]],c):k},a()};d3.geo.albersUsa=function(){function c(c){var k=c[0],j=c[1];return(50<j?e:-140>k?b:21>j?f:a)(c)}var a=d3.geo.albers(),e=d3.geo.albers().origin([-160,60]).parallels([55,65]),b=d3.geo.albers().origin([-160,20]).parallels([8,18]),f=d3.geo.albers().origin([-60,10]).parallels([8,18]);return c.scale=function(k){return arguments.length?(a.scale(k),e.scale(0.6*k),b.scale(k),f.scale(1.5*k),c.translate(a.translate())):a.scale()},
c.translate=function(k){if(!arguments.length)return a.translate();var j=a.scale()/1E3,g=k[0],n=k[1];return a.translate(k),e.translate([g-400*j,n+170*j]),b.translate([g-190*j,n+200*j]),f.translate([g+580*j,n+430*j]),c},c.scale(a.scale())};d3.geo.bonne=function(){function c(c){var g=c[0]*L-b,n=c[1]*L-f;k?(c=j+k-n,n=g*Math.cos(n)/c,g=c*Math.sin(n),n=c*Math.cos(n)-j):(g*=Math.cos(n),n*=-1);return[a*g+e[0],a*n+e[1]]}var a=200,e=[480,250],b,f,k,j;return c.invert=function(c){var f=(c[0]-e[0])/a,c=(c[1]-
e[1])/a;if(k)var g=j+c,n=Math.sqrt(f*f+g*g),c=j+k-n,f=b+n*Math.atan2(f,g)/Math.cos(c);else c*=-1,f/=Math.cos(c);return[f/L,c/L]},c.parallel=function(a){return arguments.length?(j=1/Math.tan(k=a*L),c):k/L},c.origin=function(a){return arguments.length?(b=a[0]*L,f=a[1]*L,c):[b/L,f/L]},c.scale=function(e){return arguments.length?(a=+e,c):a},c.translate=function(a){return arguments.length?(e=[+a[0],+a[1]],c):e},c.origin([0,0]).parallel(45)};d3.geo.equirectangular=function(){function c(c){return[a*(c[0]/
360)+e[0],a*(-c[1]/360)+e[1]]}var a=500,e=[480,250];return c.invert=function(c){return[360*((c[0]-e[0])/a),-360*((c[1]-e[1])/a)]},c.scale=function(e){return arguments.length?(a=+e,c):a},c.translate=function(a){return arguments.length?(e=[+a[0],+a[1]],c):e},c};d3.geo.mercator=function(){function c(c){var b=c[0]/360,c=-(Math.log(Math.tan(Math.PI/4+c[1]*L/2))/L)/360;return[a*b+e[0],a*Math.max(-0.5,Math.min(0.5,c))+e[1]]}var a=500,e=[480,250];return c.invert=function(c){return[360*((c[0]-e[0])/a),2*Math.atan(Math.exp(-360*
((c[1]-e[1])/a)*L))/L-90]},c.scale=function(e){return arguments.length?(a=+e,c):a},c.translate=function(a){return arguments.length?(e=[+a[0],+a[1]],c):e},c};d3.geo.path=function(){function c(c,a){return"function"==typeof f&&(k=Tc(f.apply(this,arguments))),g(c)||null}function a(c){return j(c).join(",")}function e(c){for(var a=Math.abs(d3.geom.polygon(c[0].map(j)).area()),b=0,f=c.length;++b<f;)a-=Math.abs(d3.geom.polygon(c[b].map(j)).area());return a}function b(c){for(var a=d3.geom.polygon(c[0].map(j)),
e=a.area(),a=a.centroid(0>e?(e*=-1,1):-1),f=a[0],k=a[1],g=e,n=0,h=c.length;++n<h;)a=d3.geom.polygon(c[n].map(j)),e=a.area(),a=a.centroid(0>e?(e*=-1,1):-1),f-=a[0],k-=a[1],g-=e;return[f,k,6*g]}var f=4.5,k=Tc(f),j=d3.geo.albersUsa(),g=rc({FeatureCollection:function(c){for(var a=[],c=c.features,e=-1,b=c.length;++e<b;)a.push(g(c[e].geometry));return a.join("")},Feature:function(c){return g(c.geometry)},Point:function(c){return"M"+a(c.coordinates)+k},MultiPoint:function(c){for(var e=[],c=c.coordinates,
b=-1,f=c.length;++b<f;)e.push("M",a(c[b]),k);return e.join("")},LineString:function(c){for(var e=["M"],c=c.coordinates,b=-1,f=c.length;++b<f;)e.push(a(c[b]),"L");return e.pop(),e.join("")},MultiLineString:function(c){for(var e=[],c=c.coordinates,b=-1,f=c.length,k,j,g;++b<f;){k=c[b];j=-1;g=k.length;for(e.push("M");++j<g;)e.push(a(k[j]),"L");e.pop()}return e.join("")},Polygon:function(c){for(var e=[],c=c.coordinates,b=-1,f=c.length,k,j,g;++b<f;)if(k=c[b],j=-1,0<(g=k.length-1)){for(e.push("M");++j<g;)e.push(a(k[j]),
"L");e[e.length-1]="Z"}return e.join("")},MultiPolygon:function(c){for(var e=[],c=c.coordinates,b=-1,f=c.length,k,j,g,n,h,l;++b<f;){k=c[b];j=-1;for(g=k.length;++j<g;)if(n=k[j],h=-1,0<(l=n.length-1)){for(e.push("M");++h<l;)e.push(a(n[h]),"L");e[e.length-1]="Z"}}return e.join("")},GeometryCollection:function(c){for(var a=[],c=c.geometries,e=-1,b=c.length;++e<b;)a.push(g(c[e]));return a.join("")}}),n=c.area=rc({FeatureCollection:function(c){for(var a=0,c=c.features,e=-1,b=c.length;++e<b;)a+=n(c[e]);
return a},Feature:function(c){return n(c.geometry)},Polygon:function(c){return e(c.coordinates)},MultiPolygon:function(c){for(var a=0,c=c.coordinates,b=-1,f=c.length;++b<f;)a+=e(c[b]);return a},GeometryCollection:function(c){for(var a=0,c=c.geometries,e=-1,b=c.length;++e<b;)a+=n(c[e]);return a}},0),h=c.centroid=rc({Feature:function(c){return h(c.geometry)},Polygon:function(c){c=b(c.coordinates);return[c[0]/c[2],c[1]/c[2]]},MultiPolygon:function(c){for(var c=c.coordinates,a,e=0,f=0,k=0,j=-1,g=c.length;++j<
g;)a=b(c[j]),e+=a[0],f+=a[1],k+=a[2];return[e/k,f/k]}});return c.projection=function(a){return j=a,c},c.pointRadius=function(a){return"function"==typeof a?f=a:(f=+a,k=Tc(f)),c},c};d3.geo.bounds=function(c){var a=Infinity,e=Infinity,b=-Infinity,f=-Infinity;return sc(c,function(c,k){c<a&&(a=c);c>b&&(b=c);k<e&&(e=k);k>f&&(f=k)}),[[a,e],[b,f]]};var pd={Feature:function(c,a){sc(c.geometry,a)},FeatureCollection:function(c,a){for(var e=c.features,b=0,f=e.length;b<f;b++)sc(e[b].geometry,a)},GeometryCollection:function(c,
a){for(var e=c.geometries,b=0,f=e.length;b<f;b++)sc(e[b],a)},LineString:qd,MultiLineString:function(c,a){for(var e=c.coordinates,b=0,f=e.length;b<f;b++)for(var k=e[b],j=0,g=k.length;j<g;j++)a.apply(null,k[j])},MultiPoint:qd,MultiPolygon:function(c,a){for(var e=c.coordinates,b=0,f=e.length;b<f;b++)for(var k=e[b][0],j=0,g=k.length;j<g;j++)a.apply(null,k[j])},Point:function(c,a){a.apply(null,c.coordinates)},Polygon:function(c,a){for(var e=c.coordinates[0],b=0,f=e.length;b<f;b++)a.apply(null,e[b])}};
d3.geo.circle=function(){function c(){}function a(c){return j.distance(c)<k}function e(c){for(var a=-1,b=c.length,f=[],g,n,h,o,l;++a<b;)l=j.distance(h=c[a]),l<k?(n&&f.push(Ib(n,h)((o-k)/(o-l))),f.push(h),g=n=null):(n=h,!g&&f.length&&(f.push(Ib(f[f.length-1],n)((k-o)/(l-o))),g=n)),o=l;n&&f.length&&(l=j.distance(h=f[0]),f.push(Ib(n,h)((o-k)/(o-l))));c=0;n=(a=f.length)?[f[0]]:f;for(o=j.source();++c<a;){h=j.source(f[c-1])(f[c]).coordinates;b=0;for(g=h.length;++b<g;)n.push(h[b])}return j.source(o),n}var b=
[0,0],f=89.99,k=f*L,j=d3.geo.greatArc().target(Object);c.clip=function(c){return j.source("function"==typeof b?b.apply(this,arguments):b),g(c)};var g=rc({FeatureCollection:function(c){var a=c.features.map(g).filter(Object);return a&&(c=Object.create(c),c.features=a,c)},Feature:function(c){var a=g(c.geometry);return a&&(c=Object.create(c),c.geometry=a,c)},Point:function(c){return a(c.coordinates)&&c},MultiPoint:function(c){var e=c.coordinates.filter(a);return e.length&&{type:c.type,coordinates:e}},
LineString:function(c){var a=e(c.coordinates);return a.length&&(c=Object.create(c),c.coordinates=a,c)},MultiLineString:function(c){var a=c.coordinates.map(e).filter(function(c){return c.length});return a.length&&(c=Object.create(c),c.coordinates=a,c)},Polygon:function(c){var a=c.coordinates.map(e);return a[0].length&&(c=Object.create(c),c.coordinates=a,c)},MultiPolygon:function(c){var a=c.coordinates.map(function(c){return c.map(e)}).filter(function(c){return c[0].length});return a.length&&(c=Object.create(c),
c.coordinates=a,c)},GeometryCollection:function(c){var a=c.geometries.map(g).filter(Object);return a.length&&(c=Object.create(c),c.geometries=a,c)}});return c.origin=function(a){return arguments.length?(b=a,c):b},c.angle=function(a){return arguments.length?(k=(f=+a)*L,c):f},c.precision=function(a){return arguments.length?(j.precision(a),c):j.precision()},c};d3.geo.greatArc=function(){function c(){for(var c="function"==typeof a?a.apply(this,arguments):a,f="function"==typeof e?e.apply(this,arguments):
e,k=Ib(c,f),j=b/k.d,g=0,c=[c];1>(g+=j);)c.push(k(g));return c.push(f),{type:"LineString",coordinates:c}}var a=Qd,e=Rd,b=6*L;return c.distance=function(){var c="function"==typeof a?a.apply(this,arguments):a,b="function"==typeof e?e.apply(this,arguments):e;return Ib(c,b).d},c.source=function(e){return arguments.length?(a=e,c):a},c.target=function(a){return arguments.length?(e=a,c):e},c.precision=function(a){return arguments.length?(b=a*L,c):b/L},c};d3.geo.greatCircle=d3.geo.circle;d3.geom={};d3.geom.contour=
function(c,a){var e;if(!(e=a))a:{for(var b=e=0;;){if(c(e,b)){e=[e,b];break a}0===e?(e=b+1,b=0):(e-=1,b+=1)}e=void 0}var b=[],f=e[0],k=e[1],j=0,g=0,n=NaN,h=NaN,l=0;do l=0,c(f-1,k-1)&&(l+=1),c(f,k-1)&&(l+=2),c(f-1,k)&&(l+=4),c(f,k)&&(l+=8),6===l?(j=-1===h?-1:1,g=0):9===l?(j=0,g=1===n?-1:1):(j=re[l],g=se[l]),j!=n&&g!=h&&(b.push([f,k]),n=j,h=g),f+=j,k+=g;while(e[0]!=f||e[1]!=k);return b};var re=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],se=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(c){if(3>
c.length)return[];var a=c.length,e=a-1,b=[],f=[],k,j=0,g,n,h,l,u,w,p;for(k=1;k<a;++k)c[k][1]<c[j][1]?j=k:c[k][1]==c[j][1]&&(j=c[k][0]<c[j][0]?k:j);for(k=0;k<a;++k)k!==j&&(n=c[k][1]-c[j][1],g=c[k][0]-c[j][0],b.push({angle:Math.atan2(n,g),index:k}));b.sort(function(c,a){return c.angle-a.angle});p=b[0].angle;w=b[0].index;u=0;for(k=1;k<e;++k)a=b[k].index,p==b[k].angle?(g=c[w][0]-c[j][0],n=c[w][1]-c[j][1],h=c[a][0]-c[j][0],l=c[a][1]-c[j][1],g*g+n*n>=h*h+l*l?b[k].index=-1:(b[u].index=-1,p=b[k].angle,u=
k,w=a)):(p=b[k].angle,u=k,w=a);f.push(j);for(a=k=0;2>k;++a)-1!==b[a].index&&(f.push(b[a].index),k++);for(j=f.length;a<e;++a)if(-1!==b[a].index){for(;!Sd(f[j-2],f[j-1],b[a].index,c);)--j;f[j++]=b[a].index}e=[];for(k=0;k<j;++k)e.push(c[f[k]]);return e};d3.geom.polygon=function(c){return c.area=function(){for(var a=0,e=c.length,b=c[e-1][0]*c[0][1],f=c[e-1][1]*c[0][0];++a<e;)b+=c[a-1][0]*c[a][1],f+=c[a-1][1]*c[a][0];return 0.5*(f-b)},c.centroid=function(a){var e=-1,b=c.length,f=0,k=0,j,g=c[b-1],n;for(arguments.length||
(a=-1/(6*c.area()));++e<b;)j=g,g=c[e],n=j[0]*g[1]-g[0]*j[1],f+=(j[0]+g[0])*n,k+=(j[1]+g[1])*n;return[f*a,k*a]},c.clip=function(a){for(var e,b=-1,f=c.length,k,j,g=c[f-1],n,h,l;++b<f;){e=a.slice();a.length=0;n=c[b];h=e[(j=e.length)-1];for(k=-1;++k<j;)l=e[k],Uc(l,g,n)?(Uc(h,g,n)||a.push(rd(h,l,g,n)),a.push(l)):Uc(h,g,n)&&a.push(rd(h,l,g,n)),h=l;g=n}return a},c};d3.geom.voronoi=function(c){var a=c.map(function(){return[]});return sd(c,function(c){var e,b,f,k,j,g;1===c.a&&0<=c.b?(e=c.ep.r,b=c.ep.l):(e=
c.ep.l,b=c.ep.r);1===c.a?(j=e?e.y:-1E6,f=c.c-c.b*j,g=b?b.y:1E6,k=c.c-c.b*g):(f=e?e.x:-1E6,j=c.c-c.a*f,k=b?b.x:1E6,g=c.c-c.a*k);e=[f,j];k=[k,g];a[c.region.l.index].push(e,k);a[c.region.r.index].push(e,k)}),a.map(function(a,e){var b=c[e][0],f=c[e][1];return a.forEach(function(c){c.angle=Math.atan2(c[0]-b,c[1]-f)}),a.sort(function(c,a){return c.angle-a.angle}).filter(function(c,e){return!e||1.0E-10<c.angle-a[e-1].angle})})};var Vc={l:"r",r:"l"};d3.geom.delaunay=function(c){var a=c.map(function(){return[]}),
e=[];return sd(c,function(e){a[e.region.l.index].push(c[e.region.r.index])}),a.forEach(function(a,b){var f=c[b],k=f[0],j=f[1];a.forEach(function(c){c.angle=Math.atan2(c[0]-k,c[1]-j)});a.sort(function(c,a){return c.angle-a.angle});for(var g=0,n=a.length-1;g<n;g++)e.push([f,a[g],a[g+1]])}),e};d3.geom.quadtree=function(c,a,e,b,f){function k(c,a,e,b,f,g){if(!isNaN(a.x)&&!isNaN(a.y))if(c.leaf){var n=c.point;n?0.01>Math.abs(n.x-a.x)+Math.abs(n.y-a.y)?j(c,a,e,b,f,g):(c.point=null,j(c,n,e,b,f,g),j(c,a,e,
b,f,g)):c.point=a}else j(c,a,e,b,f,g)}function j(c,a,e,b,f,g){var n=0.5*(e+f),h=0.5*(b+g),l=a.x>=n,o=a.y>=h,u=(o<<1)+l;c.leaf=!1;c=c.nodes[u]||(c.nodes[u]={leaf:!0,nodes:[],point:null});l?e=n:f=n;o?b=h:g=h;k(c,a,e,b,f,g)}var g,n=-1,h=c.length;h&&isNaN(c[0].x)&&(c=c.map(Td));if(5>arguments.length)if(3===arguments.length)f=b=e,e=a;else{a=e=Infinity;for(b=f=-Infinity;++n<h;)g=c[n],g.x<a&&(a=g.x),g.y<e&&(e=g.y),g.x>b&&(b=g.x),g.y>f&&(f=g.y);g=b-a;n=f-e;g>n?f=e+g:b=a+n}var l={leaf:!0,nodes:[],point:null};
return l.add=function(c){k(l,c,a,e,b,f)},l.visit=function(c){Jb(c,l,a,e,b,f)},c.forEach(l.add),l};d3.time={};var ca=Date;Ja.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},
getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){wa.setUTCDate.apply(this._,arguments)},setDay:function(){wa.setUTCDay.apply(this._,arguments)},setFullYear:function(){wa.setUTCFullYear.apply(this._,arguments)},setHours:function(){wa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){wa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){wa.setUTCMinutes.apply(this._,arguments)},
setMonth:function(){wa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){wa.setUTCSeconds.apply(this._,arguments)},setTime:function(){wa.setTime.apply(this._,arguments)}};var wa=Date.prototype;d3.time.format=function(c){function a(b){for(var f=[],k=-1,j=0,g,n;++k<e;)37==c.charCodeAt(k)&&(f.push(c.substring(j,k),(n=yc[g=c.charAt(++k)])?n(b):g),j=k+1);return f.push(c.substring(j,k)),f.join("")}var e=c.length;return a.parse=function(a){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(tc(e,c,a,0)!=
a.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);a=new ca;return a.setFullYear(e.y,e.m,e.d),a.setHours(e.H,e.M,e.S,e.L),a},a.toString=function(){return c},a};var na=d3.format("02d"),Ed=d3.format("03d"),te=d3.format("04d"),ue=d3.format("2d"),yc={a:function(c){return d3_time_weekdays[c.getDay()].substring(0,3)},A:function(c){return d3_time_weekdays[c.getDay()]},b:function(c){return Fd[c.getMonth()].substring(0,3)},B:function(c){return Fd[c.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(c){return na(c.getDate())},
e:function(c){return ue(c.getDate())},H:function(c){return na(c.getHours())},I:function(c){return na(c.getHours()%12||12)},j:function(c){return Ed(1+d3.time.dayOfYear(c))},L:function(c){return Ed(c.getMilliseconds())},m:function(c){return na(c.getMonth()+1)},M:function(c){return na(c.getMinutes())},p:function(c){return 12<=c.getHours()?"PM":"AM"},S:function(c){return na(c.getSeconds())},U:function(c){return na(d3.time.sundayOfYear(c))},w:function(c){return c.getDay()},W:function(c){return na(d3.time.mondayOfYear(c))},
x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(c){return na(c.getFullYear()%100)},Y:function(c){return te(c.getFullYear()%1E4)},Z:function(c){var a=c.getTimezoneOffset(),c=0<a?"-":"+",e=~~(Math.abs(a)/60),a=Math.abs(a)%60;return c+na(e)+na(a)},"%":function(){return"%"}},Ud={a:function(c,a,e){return ve.test(a.substring(e,e+=3))?e:-1},A:function(c,a,e){Gd.lastIndex=0;return(c=Gd.exec(a.substring(e,e+10)))?e+c[0].length:-1},b:function(c,a,e){a=we.get(a.substring(e,e+=3).toLowerCase());
return null==a?-1:(c.m=a,e)},B:function(c,a,e){Hd.lastIndex=0;return(a=Hd.exec(a.substring(e,e+12)))?(c.m=xe.get(a[0].toLowerCase()),e+a[0].length):-1},c:function(c,a,e){return tc(c,yc.c.toString(),a,e)},d:td,e:td,H:ud,I:ud,L:function(c,a,e){ea.lastIndex=0;return(a=ea.exec(a.substring(e,e+3)))?(c.L=+a[0],e+a[0].length):-1},m:function(c,a,e){ea.lastIndex=0;return(a=ea.exec(a.substring(e,e+2)))?(c.m=a[0]-1,e+a[0].length):-1},M:function(c,a,e){ea.lastIndex=0;return(a=ea.exec(a.substring(e,e+2)))?(c.M=
+a[0],e+a[0].length):-1},p:function(c,a,e){a=ye.get(a.substring(e,e+=2).toLowerCase());return null==a?-1:(c.p=a,e)},S:function(a,e,b){ea.lastIndex=0;return(e=ea.exec(e.substring(b,b+2)))?(a.S=+e[0],b+e[0].length):-1},x:function(a,e,b){return tc(a,yc.x.toString(),e,b)},X:function(a,e,b){return tc(a,yc.X.toString(),e,b)},y:function(a,e,b){ea.lastIndex=0;return(e=ea.exec(e.substring(b,b+2)))?(a.y=1E3*~~((new Date).getFullYear()/1E3)+ +e[0],b+e[0].length):-1},Y:function(a,e,b){ea.lastIndex=0;return(e=
ea.exec(e.substring(b,b+4)))?(a.y=+e[0],b+e[0].length):-1}},ve=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,Gd=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i;d3_time_weekdays="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",");var we=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),Hd=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,xe=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,
july:6,august:7,september:8,october:9,november:10,december:11}),Fd="January,February,March,April,May,June,July,August,September,October,November,December".split(","),ea=/\s*\d+/,ye=d3.map({am:0,pm:1});d3.time.format.utc=function(a){function e(a){try{ca=Ja;var c=new ca;return c._=a,b(c)}finally{ca=Date}}var b=d3.time.format(a);return e.parse=function(a){try{ca=Ja;var c=b.parse(a);return c&&c._}finally{ca=Date}},e.toString=b.toString,e};var Id=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=
Date.prototype.toISOString?Wc:Id;Wc.parse=function(a){return new Date(a)};Wc.toString=Id.toString;d3.time.second=Ka(function(a){return new ca(1E3*Math.floor(a/1E3))},function(a,e){a.setTime(a.getTime()+1E3*Math.floor(e))},function(a){return a.getSeconds()});d3.time.seconds=d3.time.second.range;d3.time.seconds.utc=d3.time.second.utc.range;d3.time.minute=Ka(function(a){return new ca(6E4*Math.floor(a/6E4))},function(a,e){a.setTime(a.getTime()+6E4*Math.floor(e))},function(a){return a.getMinutes()});d3.time.minutes=
d3.time.minute.range;d3.time.minutes.utc=d3.time.minute.utc.range;d3.time.hour=Ka(function(a){var e=a.getTimezoneOffset()/60;return new ca(36E5*(Math.floor(a/36E5-e)+e))},function(a,e){a.setTime(a.getTime()+36E5*Math.floor(e))},function(a){return a.getHours()});d3.time.hours=d3.time.hour.range;d3.time.hours.utc=d3.time.hour.utc.range;d3.time.day=Ka(function(a){return new ca(a.getFullYear(),a.getMonth(),a.getDate())},function(a,e){a.setDate(a.getDate()+e)},function(a){return a.getDate()-1});d3.time.days=
d3.time.day.range;d3.time.days.utc=d3.time.day.utc.range;d3.time.dayOfYear=function(a){var e=d3.time.year(a);return Math.floor((a-e)/864E5-(a.getTimezoneOffset()-e.getTimezoneOffset())/1440)};d3_time_weekdays.forEach(function(a,e){var a=a.toLowerCase(),e=7-e,b=d3.time[a]=Ka(function(a){return(a=d3.time.day(a)).setDate(a.getDate()-(a.getDay()+e)%7),a},function(a,c){a.setDate(a.getDate()+7*Math.floor(c))},function(a){var c=d3.time.year(a).getDay();return Math.floor((d3.time.dayOfYear(a)+(c+e)%7)/7)-
(c!==e)});d3.time[a+"s"]=b.range;d3.time[a+"s"].utc=b.utc.range;d3.time[a+"OfYear"]=function(a){var c=d3.time.year(a).getDay();return Math.floor((d3.time.dayOfYear(a)+(c+e)%7)/7)}});d3.time.week=d3.time.sunday;d3.time.weeks=d3.time.sunday.range;d3.time.weeks.utc=d3.time.sunday.utc.range;d3.time.weekOfYear=d3.time.sundayOfYear;d3.time.month=Ka(function(a){return new ca(a.getFullYear(),a.getMonth(),1)},function(a,e){a.setMonth(a.getMonth()+e)},function(a){return a.getMonth()});d3.time.months=d3.time.month.range;
d3.time.months.utc=d3.time.month.utc.range;d3.time.year=Ka(function(a){return new ca(a.getFullYear(),0,1)},function(a,e){a.setFullYear(a.getFullYear()+e)},function(a){return a.getFullYear()});d3.time.years=d3.time.year.range;d3.time.years.utc=d3.time.year.utc.range;var vc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],cd=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,
15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ze=[[d3.time.format("%Y"),function(){return!0}],[d3.time.format("%B"),function(a){return a.getMonth()}],[d3.time.format("%b %d"),function(a){return 1!=a.getDate()}],[d3.time.format("%a %d"),function(a){return a.getDay()&&1!=a.getDate()}],[d3.time.format("%I %p"),function(a){return a.getHours()}],[d3.time.format("%I:%M"),
function(a){return a.getMinutes()}],[d3.time.format(":%S"),function(a){return a.getSeconds()}],[d3.time.format(".%L"),function(a){return a.getMilliseconds()}]],Jd=d3.scale.linear(),Ae=wd(ze);cd.year=function(a,e){return Jd.domain(a.map(Vd)).ticks(e).map(Zc)};d3.time.scale=function(){return Xc(d3.scale.linear(),cd,Ae)};var Kd=cd.map(function(a){return[a[0].utc,a[1]]}),Be=[[d3.time.format.utc("%Y"),function(){return!0}],[d3.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[d3.time.format.utc("%b %d"),
function(a){return 1!=a.getUTCDate()}],[d3.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],[d3.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],Ce=wd(Be);Kd.year=function(a,e){return Jd.domain(a.map(Wd)).ticks(e).map($c)};d3.time.scale.utc=function(){return Xc(d3.scale.linear(),
Kd,Ce)}})();(function(h,t){function b(a){return f.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function g(a){if(!yb[a]){var e=z.body,b=f("<"+a+">").appendTo(e),j=b.css("display");b.remove();if("none"===j||""===j){ka||(ka=z.createElement("iframe"),ka.frameBorder=ka.width=ka.height=0);e.appendChild(ka);if(!Aa||!ka.createElement)Aa=(ka.contentWindow||ka.contentDocument).document,Aa.write(("CSS1Compat"===z.compatMode?"<!doctype html>":"")+"<html><body>"),Aa.close();b=Aa.createElement(a);Aa.body.appendChild(b);
j=f.css(b,"display");e.removeChild(ka)}yb[a]=j}return yb[a]}function l(a,e){var b={};f.each(oc.concat.apply([],oc.slice(0,e)),function(){b[this]=a});return b}function q(){Ya=t}function s(){setTimeout(q,0);return Ya=f.now()}function K(){try{return new h.XMLHttpRequest}catch(a){}}function C(a,e,b,j){if(f.isArray(e))f.each(e,function(e,g){b||ic.test(a)?j(a,g):C(a+"["+("object"==typeof g||f.isArray(g)?e:"")+"]",g,b,j)});else if(!b&&null!=e&&"object"==typeof e)for(var g in e)C(a+"["+g+"]",e[g],b,j);else j(a,
e)}function F(a,e){var b,j,g=f.ajaxSettings.flatOptions||{};for(b in e)e[b]!==t&&((g[b]?a:j||(j={}))[b]=e[b]);j&&f.extend(!0,a,j)}function J(a,e,b,f,g,h){g=g||e.dataTypes[0];h=h||{};h[g]=!0;for(var g=a[g],l=0,p=g?g.length:0,m=a===vb,r;l<p&&(m||!r);l++)r=g[l](e,b,f),"string"==typeof r&&(!m||h[r]?r=t:(e.dataTypes.unshift(r),r=J(a,e,b,f,r,h)));(m||!r)&&!h["*"]&&(r=J(a,e,b,f,"*",h));return r}function W(a){return function(e,b){"string"!=typeof e&&(b=e,e="*");if(f.isFunction(b))for(var j=e.toLowerCase().split(lc),
g=0,h=j.length,l,p;g<h;g++)l=j[g],(p=/^\+/.test(l))&&(l=l.substr(1)||"*"),l=a[l]=a[l]||[],l[p?"unshift":"push"](b)}}function X(a,e,b){var j="width"===e?a.offsetWidth:a.offsetHeight,g="width"===e?Ta:pb,h=0,l=g.length;if(0<j){if("border"!==b)for(;h<l;h++)b||(j-=parseFloat(f.css(a,"padding"+g[h]))||0),"margin"===b?j+=parseFloat(f.css(a,b+g[h]))||0:j-=parseFloat(f.css(a,"border"+g[h]+"Width"))||0;return j+"px"}j=ua(a,e,e);if(0>j||null==j)j=a.style[e]||0;j=parseFloat(j)||0;if(b)for(;h<l;h++)j+=parseFloat(f.css(a,
"padding"+g[h]))||0,"padding"!==b&&(j+=parseFloat(f.css(a,"border"+g[h]+"Width"))||0),"margin"===b&&(j+=parseFloat(f.css(a,b+g[h]))||0);return j+"px"}function oa(a,e){e.src?f.ajax({url:e.src,async:!1,dataType:"script"}):f.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Fc,"/*$0*/"));e.parentNode&&e.parentNode.removeChild(e)}function la(a){var e=(a.nodeName||"").toLowerCase();"input"===e?pa(a):"script"!==e&&"undefined"!=typeof a.getElementsByTagName&&f.grep(a.getElementsByTagName("input"),
pa)}function pa(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function ba(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function V(a,e){var b;if(1===e.nodeType){e.clearAttributes&&e.clearAttributes();e.mergeAttributes&&e.mergeAttributes(a);b=e.nodeName.toLowerCase();if("object"===b)e.outerHTML=a.outerHTML;else if("input"!==b||"checkbox"!==a.type&&"radio"!==a.type)if("option"===
b)e.selected=a.defaultSelected;else{if("input"===b||"textarea"===b)e.defaultValue=a.defaultValue}else a.checked&&(e.defaultChecked=e.checked=a.checked),e.value!==a.value&&(e.value=a.value);e.removeAttribute(f.expando)}}function ia(a,e){if(1===e.nodeType&&f.hasData(a)){var b,j,g;j=f._data(a);var h=f._data(e,j),l=j.events;if(l)for(b in delete h.handle,h.events={},l){j=0;for(g=l[b].length;j<g;j++)f.event.add(e,b+(l[b][j].namespace?".":"")+l[b][j].namespace,l[b][j],l[b][j].data)}h.data&&(h.data=f.extend({},
h.data))}}function r(a){var e=bc.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;e.length;)a.createElement(e.pop());return a}function x(a,e,b){e=e||0;if(f.isFunction(e))return f.grep(a,function(a,f){return!!e.call(a,f,a)===b});if(e.nodeType)return f.grep(a,function(a){return a===e===b});if("string"==typeof e){var j=f.grep(a,function(a){return 1===a.nodeType});if(cc.test(e))return f.filter(e,j,!b);e=f.filter(e,j)}return f.grep(a,function(a){return 0<=f.inArray(a,e)===b})}function m(){return!0}
function H(){return!1}function Q(a,e,b){var j=e+"defer",g=e+"queue",h=e+"mark",l=f._data(a,j);l&&("queue"===b||!f._data(a,g))&&("mark"===b||!f._data(a,h))&&setTimeout(function(){!f._data(a,g)&&!f._data(a,h)&&(f.removeData(a,j,!0),l.fire())},0)}function Z(a){for(var e in a)if(!("data"===e&&f.isEmptyObject(a[e]))&&"toJSON"!==e)return!1;return!0}function ma(a,e,b){if(b===t&&1===a.nodeType)if(b="data-"+e.replace(N,"-$1").toLowerCase(),b=a.getAttribute(b),"string"==typeof b){try{b="true"===b?!0:"false"===
b?!1:"null"===b?null:f.isNumeric(b)?parseFloat(b):D.test(b)?f.parseJSON(b):b}catch(j){}f.data(a,e,b)}else b=t;return b}function fa(a){var e=p[a]={},b,f,a=a.split(/\s+/);b=0;for(f=a.length;b<f;b++)e[a[b]]=!0;return e}var z=h.document,aa=h.navigator,ja=h.location,f=function(){function a(){if(!e.isReady){try{z.documentElement.doScroll("left")}catch(b){setTimeout(a,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,g)},b=h.jQuery,f=h.$,g,l=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,p=/\S/,
m=/^\s+/,r=/\s+$/,q=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,v=/^[\],:{}\s]*$/,x=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,D=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,N=/(webkit)[ \/]([\w.]+)/,H=/(opera)(?:.*version)?[ \/]([\w.]+)/,K=/(msie) ([\w.]+)/,M=/(mozilla)(?:.*? rv:([\w.]+))?/,C=/-([a-z]|[0-9])/ig,G=/^-ms-/,F=function(a,e){return(e+"").toUpperCase()},da=aa.userAgent,u,E,Sc=Object.prototype.toString,Fb=Object.prototype.hasOwnProperty,Gb=Array.prototype.push,
sa=Array.prototype.slice,Za=String.prototype.trim,Hb=Array.prototype.indexOf,qc={};e.fn=e.prototype={constructor:e,init:function(a,b,f){var k,j;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!b&&z.body)return this.context=z,this[0]=z.body,this.selector=a,this.length=1,this;if("string"==typeof a){"<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||3>a.length?k=l.exec(a):k=[null,a,null];if(k&&(k[1]||!b)){if(k[1])return j=(b=b instanceof e?b[0]:b)?b.ownerDocument||
b:z,(f=q.exec(a))?e.isPlainObject(b)?(a=[z.createElement(f[1])],e.fn.attr.call(a,b,!0)):a=[j.createElement(f[1])]:(f=e.buildFragment([k[1]],[j]),a=(f.cacheable?e.clone(f.fragment):f.fragment).childNodes),e.merge(this,a);if((b=z.getElementById(k[2]))&&b.parentNode){if(b.id!==k[2])return f.find(a);this.length=1;this[0]=b}this.context=z;this.selector=a;return this}return!b||b.jquery?(b||f).find(a):this.constructor(b).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==t&&(this.selector=a.selector,
this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return sa.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,f){var k=this.constructor();e.isArray(a)?Gb.apply(k,a):e.merge(k,a);k.prevObject=this;k.context=this.context;"find"===b?k.selector=this.selector+(this.selector?" ":"")+f:b&&(k.selector=this.selector+"."+b+"("+f+")");return k},each:function(a,
b){return e.each(this,a,b)},ready:function(a){e.bindReady();u.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(sa.apply(this,arguments),"slice",sa.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(e,b){return a.call(e,b,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Gb,sort:[].sort,splice:[].splice};
e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var a,b,f,k,j,g,n=arguments[0]||{},h=1,l=arguments.length,u=!1;"boolean"==typeof n&&(u=n,n=arguments[1]||{},h=2);"object"!=typeof n&&!e.isFunction(n)&&(n={});for(l===h&&(n=this,--h);h<l;h++)if(null!=(a=arguments[h]))for(b in a)f=n[b],k=a[b],n!==k&&(u&&k&&(e.isPlainObject(k)||(j=e.isArray(k)))?(j?(j=!1,g=f&&e.isArray(f)?f:[]):g=f&&e.isPlainObject(f)?f:{},n[b]=e.extend(u,g,k)):k!==t&&(n[b]=k));return n};e.extend({noConflict:function(a){h.$===
e&&(h.$=f);a&&h.jQuery===e&&(h.jQuery=b);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(!0===a&&!--e.readyWait||!0!==a&&!e.isReady){if(!z.body)return setTimeout(e.ready,1);e.isReady=!0;!0!==a&&0<--e.readyWait||(u.fireWith(z,[e]),e.fn.trigger&&e(z).trigger("ready").off("ready"))}},bindReady:function(){if(!u){u=e.Callbacks("once memory");if("complete"===z.readyState)return setTimeout(e.ready,1);if(z.addEventListener)z.addEventListener("DOMContentLoaded",
E,!1),h.addEventListener("load",e.ready,!1);else if(z.attachEvent){z.attachEvent("onreadystatechange",E);h.attachEvent("onload",e.ready);var b=!1;try{b=null==h.frameElement}catch(f){}z.documentElement.doScroll&&b&&a()}}},isFunction:function(a){return"function"===e.type(a)},isArray:Array.isArray||function(a){return"array"===e.type(a)},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?
""+a:qc[Sc.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==e.type(a)||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!Fb.call(a,"constructor")&&!Fb.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var f in a);return f===t||Fb.call(a,f)},isEmptyObject:function(a){for(var e in a)return!1;return!0},error:function(a){throw Error(a);},parseJSON:function(a){if("string"!=typeof a||!a)return null;a=e.trim(a);if(h.JSON&&h.JSON.parse)return h.JSON.parse(a);
if(v.test(a.replace(x,"@").replace(D,"]").replace(s,"")))return(new Function("return "+a))();e.error("Invalid JSON: "+a)},parseXML:function(a){var b,f;try{h.DOMParser?(f=new DOMParser,b=f.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(k){b=t}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&p.test(a)&&(h.execScript||function(a){h.eval.call(h,
a)})(a)},camelCase:function(a){return a.replace(G,"ms-").replace(C,F)},nodeName:function(a,e){return a.nodeName&&a.nodeName.toUpperCase()===e.toUpperCase()},each:function(a,b,f){var k,j=0,g=a.length,n=g===t||e.isFunction(a);if(f)if(n)for(k in a){if(!1===b.apply(a[k],f))break}else for(;j<g&&!1!==b.apply(a[j++],f););else if(n)for(k in a){if(!1===b.call(a[k],k,a[k]))break}else for(;j<g&&!1!==b.call(a[j],j,a[j++]););return a},trim:Za?function(a){return null==a?"":Za.call(a)}:function(a){return null==
a?"":(a+"").replace(m,"").replace(r,"")},makeArray:function(a,b){var f=b||[];if(null!=a){var k=e.type(a);null==a.length||"string"===k||"function"===k||"regexp"===k||e.isWindow(a)?Gb.call(f,a):e.merge(f,a)}return f},inArray:function(a,e,b){var f;if(e){if(Hb)return Hb.call(e,a,b);f=e.length;for(b=b?0>b?Math.max(0,f+b):b:0;b<f;b++)if(b in e&&e[b]===a)return b}return-1},merge:function(a,e){var b=a.length,f=0;if("number"==typeof e.length)for(var k=e.length;f<k;f++)a[b++]=e[f];else for(;e[f]!==t;)a[b++]=
e[f++];a.length=b;return a},grep:function(a,e,b){for(var f=[],k,b=!!b,j=0,g=a.length;j<g;j++)k=!!e(a[j],j),b!==k&&f.push(a[j]);return f},map:function(a,b,f){var k,j,g=[],n=0,h=a.length;if(a instanceof e||h!==t&&"number"==typeof h&&(0<h&&a[0]&&a[h-1]||0===h||e.isArray(a)))for(;n<h;n++)k=b(a[n],n,f),null!=k&&(g[g.length]=k);else for(j in a)k=b(a[j],j,f),null!=k&&(g[g.length]=k);return g.concat.apply([],g)},guid:1,proxy:function(a,b){if("string"==typeof b)var f=a[b],b=a,a=f;if(!e.isFunction(a))return t;
var k=sa.call(arguments,2),f=function(){return a.apply(b,k.concat(sa.call(arguments)))};f.guid=a.guid=a.guid||f.guid||e.guid++;return f},access:function(a,b,f,k,j,g){var n=a.length;if("object"==typeof b){for(var h in b)e.access(a,h,b[h],k,j,f);return a}if(f!==t){k=!g&&k&&e.isFunction(f);for(h=0;h<n;h++)j(a[h],b,k?f.call(a[h],h,j(a[h],b)):f,g);return a}return n?j(a[0],b):t},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=N.exec(a)||H.exec(a)||K.exec(a)||0>a.indexOf("compatible")&&
M.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(e,b){return new a.fn.init(e,b)}e.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(f,k){k&&k instanceof e&&!(k instanceof a)&&(k=a(k));return e.fn.init.call(this,f,k,b)};a.fn.init.prototype=a.fn;var b=a(z);return a},browser:{}});e.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(a,e){qc["[object "+e+"]"]=e.toLowerCase()});
da=e.uaMatch(da);da.browser&&(e.browser[da.browser]=!0,e.browser.version=da.version);e.browser.webkit&&(e.browser.safari=!0);p.test("\u00a0")&&(m=/^[\s\xA0]+/,r=/[\s\xA0]+$/);g=e(z);z.addEventListener?E=function(){z.removeEventListener("DOMContentLoaded",E,!1);e.ready()}:z.attachEvent&&(E=function(){"complete"===z.readyState&&(z.detachEvent("onreadystatechange",E),e.ready())});return e}(),p={};f.Callbacks=function(a){var a=a?p[a]||fa(a):{},e=[],b=[],j,g,h,l,m,r=function(b){var k,j,g,n;k=0;for(j=b.length;k<
j;k++)g=b[k],n=f.type(g),"array"===n?r(g):"function"===n&&(!a.unique||!v.has(g))&&e.push(g)},q=function(f,p){p=p||[];j=!a.memory||[f,p];g=!0;m=h||0;h=0;for(l=e.length;e&&m<l;m++)if(!1===e[m].apply(f,p)&&a.stopOnFalse){j=!0;break}g=!1;e&&(a.once?!0===j?v.disable():e=[]:b&&b.length&&(j=b.shift(),v.fireWith(j[0],j[1])))},v={add:function(){if(e){var a=e.length;r(arguments);g?l=e.length:j&&!0!==j&&(h=a,q(j[0],j[1]))}return this},remove:function(){if(e)for(var b=arguments,f=0,k=b.length;f<k;f++)for(var j=
0;j<e.length&&!(b[f]===e[j]&&(g&&j<=l&&(l--,j<=m&&m--),e.splice(j--,1),a.unique));j++);return this},has:function(a){if(e)for(var b=0,f=e.length;b<f;b++)if(a===e[b])return!0;return!1},empty:function(){e=[];return this},disable:function(){e=b=j=t;return this},disabled:function(){return!e},lock:function(){b=t;(!j||!0===j)&&v.disable();return this},locked:function(){return!b},fireWith:function(e,f){b&&(g?a.once||b.push([e,f]):(!a.once||!j)&&q(e,f));return this},fire:function(){v.fireWith(this,arguments);
return this},fired:function(){return!!j}};return v};var v=[].slice;f.extend({Deferred:function(a){var e=f.Callbacks("once memory"),b=f.Callbacks("once memory"),j=f.Callbacks("memory"),g="pending",h={resolve:e,reject:b,notify:j},l={done:e.add,fail:b.add,progress:j.add,state:function(){return g},isResolved:e.fired,isRejected:b.fired,then:function(a,e,b){p.done(a).fail(e).progress(b);return this},always:function(){p.done.apply(p,arguments).fail.apply(p,arguments);return this},pipe:function(a,e,b){return f.Deferred(function(k){f.each({done:[a,
"resolve"],fail:[e,"reject"],progress:[b,"notify"]},function(a,e){var b=e[0],j=e[1],g;f.isFunction(b)?p[a](function(){(g=b.apply(this,arguments))&&f.isFunction(g.promise)?g.promise().then(k.resolve,k.reject,k.notify):k[j+"With"](this===p?k:this,[g])}):p[a](k[j])})}).promise()},promise:function(a){if(null==a)a=l;else for(var e in l)a[e]=l[e];return a}},p=l.promise({}),m;for(m in h)p[m]=h[m].fire,p[m+"With"]=h[m].fireWith;p.done(function(){g="resolved"},b.disable,j.lock).fail(function(){g="rejected"},
e.disable,j.lock);a&&a.call(p,p);return p},when:function(a){function e(a){return function(e){l[a]=1<arguments.length?v.call(arguments,0):e;m.notifyWith(r,l)}}function b(a){return function(e){j[a]=1<arguments.length?v.call(arguments,0):e;--p||m.resolveWith(m,j)}}var j=v.call(arguments,0),g=0,h=j.length,l=Array(h),p=h,m=1>=h&&a&&f.isFunction(a.promise)?a:f.Deferred(),r=m.promise();if(1<h){for(;g<h;g++)j[g]&&j[g].promise&&f.isFunction(j[g].promise)?j[g].promise().then(b(g),m.reject,e(g)):--p;p||m.resolveWith(m,
j)}else m!==a&&m.resolveWith(m,h?[a]:[]);return r}});f.support=function(){var a,e,b,j,g,l,p,m,r,v=z.createElement("div");v.setAttribute("className","t");v.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";e=v.getElementsByTagName("*");b=v.getElementsByTagName("a")[0];if(!e||!e.length||!b)return{};j=z.createElement("select");g=j.appendChild(z.createElement("option"));e=v.getElementsByTagName("input")[0];a={leadingWhitespace:3===
v.firstChild.nodeType,tbody:!v.getElementsByTagName("tbody").length,htmlSerialize:!!v.getElementsByTagName("link").length,style:/top/.test(b.getAttribute("style")),hrefNormalized:"/a"===b.getAttribute("href"),opacity:/^0.55/.test(b.style.opacity),cssFloat:!!b.style.cssFloat,checkOn:"on"===e.value,optSelected:g.selected,getSetAttribute:"t"!==v.className,enctype:!!z.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,
focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};e.checked=!0;a.noCloneChecked=e.cloneNode(!0).checked;j.disabled=!0;a.optDisabled=!g.disabled;try{delete v.test}catch(q){a.deleteExpando=!1}!v.addEventListener&&v.attachEvent&&v.fireEvent&&(v.attachEvent("onclick",function(){a.noCloneEvent=!1}),v.cloneNode(!0).fireEvent("onclick"));e=z.createElement("input");e.value="t";e.setAttribute("type","radio");a.radioValue="t"===e.value;
e.setAttribute("checked","checked");v.appendChild(e);b=z.createDocumentFragment();b.appendChild(v.lastChild);a.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=e.checked;b.removeChild(e);b.appendChild(v);v.innerHTML="";h.getComputedStyle&&(l=z.createElement("div"),l.style.width="0",l.style.marginRight="0",v.style.width="2px",v.appendChild(l),a.reliableMarginRight=0===(parseInt((h.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0));if(v.attachEvent)for(m in{submit:1,
change:1,focusin:1})l="on"+m,(r=l in v)||(v.setAttribute(l,"return;"),r="function"==typeof v[l]),a[m+"Bubbles"]=r;b.removeChild(v);b=j=g=l=v=e=null;f(function(){var e,b,k,j,g,n=z.getElementsByTagName("body")[0];!n||(e=z.createElement("div"),e.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",n.insertBefore(e,n.firstChild),v=z.createElement("div"),e.appendChild(v),v.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",
p=v.getElementsByTagName("td"),r=0===p[0].offsetHeight,p[0].style.display="",p[1].style.display="none",a.reliableHiddenOffsets=r&&0===p[0].offsetHeight,v.innerHTML="",v.style.width=v.style.paddingLeft="1px",f.boxModel=a.boxModel=2===v.offsetWidth,"undefined"!=typeof v.style.zoom&&(v.style.display="inline",v.style.zoom=1,a.inlineBlockNeedsLayout=2===v.offsetWidth,v.style.display="",v.innerHTML="<div style='width:4px;'></div>",a.shrinkWrapBlocks=2!==v.offsetWidth),v.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;",
v.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",b=v.firstChild,k=b.firstChild,j=b.nextSibling.firstChild.firstChild,g={doesNotAddBorder:5!==k.offsetTop,doesAddBorderForTableAndCells:5===j.offsetTop},k.style.position="fixed",k.style.top="20px",
g.fixedPosition=20===k.offsetTop||15===k.offsetTop,k.style.position=k.style.top="",b.style.overflow="hidden",b.style.position="relative",g.subtractsBorderForOverflowNotVisible=-5===k.offsetTop,g.doesNotIncludeMarginInBodyOffset=1!==n.offsetTop,n.removeChild(e),v=null,f.extend(a,g))});return a}();var D=/^(?:\{.*\}|\[.*\])$/,N=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},
hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!Z(a)},data:function(a,e,b,j){if(f.acceptData(a)){var g,h;g=f.expando;var l="string"==typeof e,p=a.nodeType,m=p?f.cache:a,r=p?a[g]:a[g]&&g,v="events"===e;if(r&&m[r]&&(v||j||m[r].data)||!(l&&b===t)){r||(p?a[g]=r=++f.uuid:r=g);m[r]||(m[r]={},p||(m[r].toJSON=f.noop));if("object"==typeof e||"function"==typeof e)j?m[r]=f.extend(m[r],e):m[r].data=f.extend(m[r].data,e);a=g=m[r];j||(g.data||(g.data={}),g=g.data);b!==t&&(g[f.camelCase(e)]=
b);if(v&&!g[e])return a.events;l?(h=g[e],null==h&&(h=g[f.camelCase(e)])):h=g;return h}}},removeData:function(a,e,b){if(f.acceptData(a)){var j,g,h,l=f.expando,p=a.nodeType,m=p?f.cache:a,r=p?a[l]:l;if(m[r]){if(e&&(j=b?m[r]:m[r].data)){f.isArray(e)||(e in j?e=[e]:(e=f.camelCase(e),e in j?e=[e]:e=e.split(" ")));g=0;for(h=e.length;g<h;g++)delete j[e[g]];if(!(b?Z:f.isEmptyObject)(j))return}if(!b&&(delete m[r].data,!Z(m[r])))return;f.support.deleteExpando||!m.setInterval?delete m[r]:m[r]=null;p&&(f.support.deleteExpando?
delete a[l]:a.removeAttribute?a.removeAttribute(l):a[l]=null)}}},_data:function(a,e,b){return f.data(a,e,b,!0)},acceptData:function(a){if(a.nodeName){var e=f.noData[a.nodeName.toLowerCase()];if(e)return!0!==e&&a.getAttribute("classid")===e}return!0}});f.fn.extend({data:function(a,e){var b,j,g,h=null;if("undefined"==typeof a){if(this.length&&(h=f.data(this[0]),1===this[0].nodeType&&!f._data(this[0],"parsedAttrs"))){j=this[0].attributes;for(var l=0,p=j.length;l<p;l++)g=j[l].name,0===g.indexOf("data-")&&
(g=f.camelCase(g.substring(5)),ma(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}return h}if("object"==typeof a)return this.each(function(){f.data(this,a)});b=a.split(".");b[1]=b[1]?"."+b[1]:"";return e===t?(h=this.triggerHandler("getData"+b[1]+"!",[b[0]]),h===t&&this.length&&(h=f.data(this[0],a),h=ma(this[0],a,h)),h===t&&b[1]?this.data(b[0]):h):this.each(function(){var j=f(this),g=[b[0],e];j.triggerHandler("setData"+b[1]+"!",g);f.data(this,a,e);j.triggerHandler("changeData"+b[1]+"!",g)})},removeData:function(a){return this.each(function(){f.removeData(this,
a)})}});f.extend({_mark:function(a,e){a&&(e=(e||"fx")+"mark",f._data(a,e,(f._data(a,e)||0)+1))},_unmark:function(a,e,b){!0!==a&&(b=e,e=a,a=!1);if(e){var b=b||"fx",j=b+"mark";(a=a?0:(f._data(e,j)||1)-1)?f._data(e,j,a):(f.removeData(e,j,!0),Q(e,b,"mark"))}},queue:function(a,e,b){var j;if(a)return e=(e||"fx")+"queue",j=f._data(a,e),b&&(!j||f.isArray(b)?j=f._data(a,e,f.makeArray(b)):j.push(b)),j||[]},dequeue:function(a,e){var e=e||"fx",b=f.queue(a,e),j=b.shift(),g={};"inprogress"===j&&(j=b.shift());j&&
("fx"===e&&b.unshift("inprogress"),f._data(a,e+".run",g),j.call(a,function(){f.dequeue(a,e)},g));b.length||(f.removeData(a,e+"queue "+e+".run",!0),Q(a,e,"queue"))}});f.fn.extend({queue:function(a,e){"string"!=typeof a&&(e=a,a="fx");return e===t?f.queue(this[0],a):this.each(function(){var b=f.queue(this,a,e);"fx"===a&&"inprogress"!==b[0]&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,e){a=f.fx?f.fx.speeds[a]||a:a;return this.queue(e||"fx",
function(e,b){var f=setTimeout(e,a);b.stop=function(){clearTimeout(f)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a){function e(){--h||b.resolveWith(j,[j])}"string"!=typeof a&&(a=t);for(var a=a||"fx",b=f.Deferred(),j=this,g=j.length,h=1,l=a+"defer",p=a+"queue",a=a+"mark",m;g--;)if(m=f.data(j[g],l,t,!0)||(f.data(j[g],p,t,!0)||f.data(j[g],a,t,!0))&&f.data(j[g],l,f.Callbacks("once memory"),!0))h++,m.add(e);e();return b.promise()}});var M=/[\n\t\r]/g,G=/\s+/,da=/\r/g,Pb=
/^(?:button|input)$/i,Qb=/^(?:button|input|object|select|textarea)$/i,Ac=/^a(?:rea)?$/i,Rb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ab=f.support.getSetAttribute,Y,Tb,db;f.fn.extend({attr:function(a,e){return f.access(this,a,e,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,e){return f.access(this,a,e,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=
t,delete this[a]}catch(e){}})},addClass:function(a){var e,b,j,g,h,l,p;if(f.isFunction(a))return this.each(function(e){f(this).addClass(a.call(this,e,this.className))});if(a&&"string"==typeof a){e=a.split(G);b=0;for(j=this.length;b<j;b++)if(g=this[b],1===g.nodeType)if(!g.className&&1===e.length)g.className=a;else{h=" "+g.className+" ";l=0;for(p=e.length;l<p;l++)~h.indexOf(" "+e[l]+" ")||(h+=e[l]+" ");g.className=f.trim(h)}}return this},removeClass:function(a){var e,b,j,g,h,l,p;if(f.isFunction(a))return this.each(function(e){f(this).removeClass(a.call(this,
e,this.className))});if(a&&"string"==typeof a||a===t){e=(a||"").split(G);b=0;for(j=this.length;b<j;b++)if(g=this[b],1===g.nodeType&&g.className)if(a){h=(" "+g.className+" ").replace(M," ");l=0;for(p=e.length;l<p;l++)h=h.replace(" "+e[l]+" "," ");g.className=f.trim(h)}else g.className=""}return this},toggleClass:function(a,e){var b=typeof a,j="boolean"==typeof e;return f.isFunction(a)?this.each(function(b){f(this).toggleClass(a.call(this,b,this.className,e),e)}):this.each(function(){if("string"===
b)for(var g,h=0,l=f(this),p=e,m=a.split(G);g=m[h++];)p=j?p:!l.hasClass(g),l[p?"addClass":"removeClass"](g);else if("undefined"===b||"boolean"===b)this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===a?"":f._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",e=0,b=this.length;e<b;e++)if(1===this[e].nodeType&&-1<(" "+this[e].className+" ").replace(M," ").indexOf(a))return!0;return!1},val:function(a){var e,b,j,g=this[0];if(arguments.length)return j=
f.isFunction(a),this.each(function(b){var k=f(this),g;if(1===this.nodeType&&(j?g=a.call(this,b,k.val()):g=a,null==g?g="":"number"==typeof g?g+="":f.isArray(g)&&(g=f.map(g,function(a){return a==null?"":a+""})),e=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type],!e||!("set"in e)||e.set(this,g,"value")===t))this.value=g});if(g){if((e=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type])&&"get"in e&&(b=e.get(g,"value"))!==t)return b;b=g.value;return"string"==typeof b?b.replace(da,""):
null==b?"":b}}});f.extend({valHooks:{option:{get:function(a){var e=a.attributes.value;return!e||e.specified?a.value:a.text}},select:{get:function(a){var e,b,j=a.selectedIndex,g=[],h=a.options,l="select-one"===a.type;if(0>j)return null;a=l?j:0;for(b=l?j+1:h.length;a<b;a++)if(e=h[a],e.selected&&(f.support.optDisabled?!e.disabled:null===e.getAttribute("disabled"))&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){e=f(e).val();if(l)return e;g.push(e)}return l&&!g.length&&h.length?f(h[j]).val():
g},set:function(a,e){var b=f.makeArray(e);f(a).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),b)});b.length||(a.selectedIndex=-1);return b}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,e,b,j){var g,h,l=a.nodeType;if(a&&3!==l&&8!==l&&2!==l){if(j&&e in f.attrFn)return f(a)[e](b);if("undefined"==typeof a.getAttribute)return f.prop(a,e,b);(j=1!==l||!f.isXMLDoc(a))&&(e=e.toLowerCase(),h=f.attrHooks[e]||(Rb.test(e)?Tb:Y));if(b!==
t){if(null===b){f.removeAttr(a,e);return}if(h&&"set"in h&&j&&(g=h.set(a,b,e))!==t)return g;a.setAttribute(e,""+b);return b}if(h&&"get"in h&&j&&null!==(g=h.get(a,e)))return g;g=a.getAttribute(e);return null===g?t:g}},removeAttr:function(a,e){var b,j,g,h,l=0;if(e&&1===a.nodeType){j=e.toLowerCase().split(G);for(h=j.length;l<h;l++)(g=j[l])&&(b=f.propFix[g]||g,f.attr(a,g,""),a.removeAttribute(ab?g:b),Rb.test(g)&&b in a&&(a[b]=!1))}},attrHooks:{type:{set:function(a,e){if(Pb.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");
else if(!f.support.radioValue&&"radio"===e&&f.nodeName(a,"input")){var b=a.value;a.setAttribute("type",e);b&&(a.value=b);return e}}},value:{get:function(a,e){return Y&&f.nodeName(a,"button")?Y.get(a,e):e in a?a.value:null},set:function(a,e,b){if(Y&&f.nodeName(a,"button"))return Y.set(a,e,b);a.value=e}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,e,b){var j,g,h;h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return(h=1!==h||!f.isXMLDoc(a))&&(e=f.propFix[e]||e,g=f.propHooks[e]),b!==t?g&&"set"in g&&(j=g.set(a,b,e))!==t?j:a[e]=b:g&&"get"in g&&null!==(j=g.get(a,e))?j:a[e]},propHooks:{tabIndex:{get:function(a){var e=a.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):Qb.test(a.nodeName)||Ac.test(a.nodeName)&&a.href?0:t}}}});f.attrHooks.tabindex=f.propHooks.tabIndex;
Tb={get:function(a,e){var b,j=f.prop(a,e);return!0===j||"boolean"!=typeof j&&(b=a.getAttributeNode(e))&&!1!==b.nodeValue?e.toLowerCase():t},set:function(a,e,b){var j;!1===e?f.removeAttr(a,b):(j=f.propFix[b]||b,j in a&&(a[j]=!0),a.setAttribute(b,b.toLowerCase()));return b}};ab||(db={name:!0,id:!0},Y=f.valHooks.button={get:function(a,e){var b;return(b=a.getAttributeNode(e))&&(db[e]?""!==b.nodeValue:b.specified)?b.nodeValue:t},set:function(a,e,b){var f=a.getAttributeNode(b);f||(f=z.createAttribute(b),
a.setAttributeNode(f));return f.nodeValue=e+""}},f.attrHooks.tabindex.set=Y.set,f.each(["width","height"],function(a,e){f.attrHooks[e]=f.extend(f.attrHooks[e],{set:function(a,b){if(""===b)return a.setAttribute(e,"auto"),b}})}),f.attrHooks.contenteditable={get:Y.get,set:function(a,e,b){""===e&&(e="false");Y.set(a,e,b)}});f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,e){f.attrHooks[e]=f.extend(f.attrHooks[e],{get:function(a){a=a.getAttribute(e,2);return null===a?t:a}})});
f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||t},set:function(a,e){return a.style.cssText=""+e}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex);return null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return null===a.getAttribute("value")?
"on":a.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,e){if(f.isArray(e))return a.checked=0<=f.inArray(f(a).val(),e)}})});var bb=/^(?:textarea|input|select)$/i,La=/^([^\.]*)?(?:\.(.+))?$/,Wb=/\bhover(\.\S+)?\b/,Zb=/^key/,$b=/^(?:mouse|contextmenu)|click/,eb=/^(?:focusinfocus|focusoutblur)$/,Ea=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,Ma=function(a){(a=Ea.exec(a))&&(a[1]=(a[1]||"").toLowerCase(),a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)"));
return a},Na=function(a){return f.event.special.hover?a:a.replace(Wb,"mouseenter$1 mouseleave$1")};f.event={add:function(a,e,b,j,g){var h,l,p,m,r,v,q,x,D;if(!(3===a.nodeType||8===a.nodeType||!e||!b||!(h=f._data(a)))){b.handler&&(q=b,b=q.handler);b.guid||(b.guid=f.guid++);(p=h.events)||(h.events=p={});(l=h.handle)||(h.handle=l=function(a){return"undefined"!=typeof f&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(l.elem,arguments):t},l.elem=a);e=f.trim(Na(e)).split(" ");for(h=0;h<e.length;h++){m=
La.exec(e[h])||[];r=m[1];v=(m[2]||"").split(".").sort();D=f.event.special[r]||{};r=(g?D.delegateType:D.bindType)||r;D=f.event.special[r]||{};m=f.extend({type:r,origType:m[1],data:j,handler:b,guid:b.guid,selector:g,quick:Ma(g),namespace:v.join(".")},q);x=p[r];if(!x&&(x=p[r]=[],x.delegateCount=0,!D.setup||!1===D.setup.call(a,j,v,l)))a.addEventListener?a.addEventListener(r,l,!1):a.attachEvent&&a.attachEvent("on"+r,l);D.add&&(D.add.call(a,m),m.handler.guid||(m.handler.guid=b.guid));g?x.splice(x.delegateCount++,
0,m):x.push(m);f.event.global[r]=!0}a=null}},global:{},remove:function(a,e,b,j,g){var h=f.hasData(a)&&f._data(a),l,p,m,r,v,q,x,D,s,t,N;if(h&&(x=h.events)){e=f.trim(Na(e||"")).split(" ");for(l=0;l<e.length;l++)if(p=La.exec(e[l])||[],m=r=p[1],p=p[2],m){D=f.event.special[m]||{};m=(j?D.delegateType:D.bindType)||m;t=x[m]||[];v=t.length;p=p?RegExp("(^|\\.)"+p.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(q=0;q<t.length;q++)N=t[q],(g||r===N.origType)&&(!b||b.guid===N.guid)&&(!p||p.test(N.namespace))&&
(!j||j===N.selector||"**"===j&&N.selector)&&(t.splice(q--,1),N.selector&&t.delegateCount--,D.remove&&D.remove.call(a,N));0===t.length&&v!==t.length&&((!D.teardown||!1===D.teardown.call(a,p))&&f.removeEvent(a,m,h.handle),delete x[m])}else for(m in x)f.event.remove(a,m+e[l],b,j,!0);f.isEmptyObject(x)&&(s=h.handle,s&&(s.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,e,b,j){if(!b||3!==b.nodeType&&8!==b.nodeType){var g=a.type||
a,l=[],p,m,r,v,q,x;if(!eb.test(g+f.event.triggered)&&(0<=g.indexOf("!")&&(g=g.slice(0,-1),p=!0),0<=g.indexOf(".")&&(l=g.split("."),g=l.shift(),l.sort()),b&&!f.event.customEvent[g]||f.event.global[g]))if(a="object"==typeof a?a[f.expando]?a:new f.Event(g,a):new f.Event(g),a.type=g,a.isTrigger=!0,a.exclusive=p,a.namespace=l.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+l.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=0>g.indexOf(":")?"on"+g:"",b){if(a.result=t,a.target||(a.target=b),e=null!=e?f.makeArray(e):
[],e.unshift(a),v=f.event.special[g]||{},!(v.trigger&&!1===v.trigger.apply(b,e))){x=[[b,v.bindType||g]];if(!j&&!v.noBubble&&!f.isWindow(b)){m=v.delegateType||g;l=eb.test(m+g)?b:b.parentNode;for(r=null;l;l=l.parentNode)x.push([l,m]),r=l;r&&r===b.ownerDocument&&x.push([r.defaultView||r.parentWindow||h,m])}for(m=0;m<x.length&&!a.isPropagationStopped();m++)l=x[m][0],a.type=x[m][1],(q=(f._data(l,"events")||{})[a.type]&&f._data(l,"handle"))&&q.apply(l,e),(q=p&&l[p])&&f.acceptData(l)&&!1===q.apply(l,e)&&
a.preventDefault();a.type=g;!j&&!a.isDefaultPrevented()&&(!v._default||!1===v._default.apply(b.ownerDocument,e))&&("click"!==g||!f.nodeName(b,"a"))&&f.acceptData(b)&&p&&b[g]&&("focus"!==g&&"blur"!==g||0!==a.target.offsetWidth)&&!f.isWindow(b)&&(r=b[p],r&&(b[p]=null),f.event.triggered=g,b[g](),f.event.triggered=t,r&&(b[p]=r));return a.result}}else for(m in b=f.cache,b)b[m].events&&b[m].events[g]&&f.event.trigger(a,e,b[m].handle.elem,!0)}},dispatch:function(a){var a=f.event.fix(a||h.event),e=(f._data(this,
"events")||{})[a.type]||[],b=e.delegateCount,j=[].slice.call(arguments,0),g=!a.exclusive&&!a.namespace,l=[],p,m,r,v,q,x,D;j[0]=a;a.delegateTarget=this;if(b&&!a.target.disabled&&(!a.button||"click"!==a.type)){r=f(this);r.context=this.ownerDocument||this;for(m=a.target;m!=this;m=m.parentNode||this){q={};x=[];r[0]=m;for(p=0;p<b;p++){v=e[p];D=v.selector;if(q[D]===t){var s=q,N=D,H;if(v.quick){H=v.quick;var K=m.attributes||{};H=(!H[1]||m.nodeName.toLowerCase()===H[1])&&(!H[2]||(K.id||{}).value===H[2])&&
(!H[3]||H[3].test((K["class"]||{}).value))}else H=r.is(D);s[N]=H}q[D]&&x.push(v)}x.length&&l.push({elem:m,matches:x})}}e.length>b&&l.push({elem:this,matches:e.slice(b)});for(p=0;p<l.length&&!a.isPropagationStopped();p++){b=l[p];a.currentTarget=b.elem;for(e=0;e<b.matches.length&&!a.isImmediatePropagationStopped();e++)if(v=b.matches[e],g||!a.namespace&&!v.namespace||a.namespace_re&&a.namespace_re.test(v.namespace))a.data=v.data,a.handleObj=v,v=((f.event.special[v.origType]||{}).handle||v.handler).apply(b.elem,
j),v!==t&&(a.result=v,!1===v&&(a.preventDefault(),a.stopPropagation()))}return a.result},props:"attrChange,attrName,relatedNode,srcElement,altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,relatedTarget,shiftKey,target,timeStamp,view,which".split(","),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,e){null==a.which&&(a.which=null!=e.charCode?e.charCode:e.keyCode);return a}},mouseHooks:{props:"button,buttons,clientX,clientY,fromElement,offsetX,offsetY,pageX,pageY,screenX,screenY,toElement".split(","),
filter:function(a,e){var b,f,g,h=e.button,l=e.fromElement;null==a.pageX&&null!=e.clientX&&(b=a.target.ownerDocument||z,f=b.documentElement,g=b.body,a.pageX=e.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=e.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0));!a.relatedTarget&&l&&(a.relatedTarget=l===a.target?e.toElement:l);!a.which&&h!==t&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var e,
b,g=a,h=f.event.fixHooks[a.type]||{},l=h.props?this.props.concat(h.props):this.props,a=f.Event(g);for(e=l.length;e;)b=l[--e],a[b]=g[b];a.target||(a.target=g.srcElement||z);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey===t&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,e,b){f.isWindow(this)&&(this.onbeforeunload=b)},teardown:function(a,
e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(a,e,b,g){a=f.extend(new f.Event,b,{type:a,isSimulated:!0,originalEvent:{}});g?f.event.trigger(a,null,e):f.event.dispatch.call(e,a);a.isDefaultPrevented()&&b.preventDefault()}};f.event.handle=f.event.dispatch;f.removeEvent=z.removeEventListener?function(a,e,b){a.removeEventListener&&a.removeEventListener(e,b,!1)}:function(a,e,b){a.detachEvent&&a.detachEvent("on"+e,b)};f.Event=function(a,e){if(!(this instanceof f.Event))return new f.Event(a,
e);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?m:H):this.type=a;e&&f.extend(this,e);this.timeStamp=a&&a.timeStamp||f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=m;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=m;var a=this.originalEvent;!a||(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m;this.stopPropagation()},isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,e){f.event.special[a]={delegateType:e,bindType:e,handle:function(a){var b=a.relatedTarget,g=a.handleObj,h;if(!b||b!==this&&!f.contains(this,b))a.type=g.origType,h=g.handler.apply(this,arguments),a.type=e;return h}}});f.support.submitBubbles||
(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=f.nodeName(a,"input")||f.nodeName(a,"button")?a.form:t)&&!a._submit_attached&&(f.event.add(a,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),a._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change=
{setup:function(){if(bb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)f.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){a=a.target;bb.test(a.nodeName)&&!a._change_attached&&(f.event.add(a,"change._change",
function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),a._change_attached=!0)})},handle:function(a){var e=a.target;if(this!==e||a.isSimulated||a.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return bb.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,e){var b=0,g=function(a){f.event.simulate(e,
a.target,f.event.fix(a),!0)};f.event.special[e]={setup:function(){0===b++&&z.addEventListener(a,g,!0)},teardown:function(){0===--b&&z.removeEventListener(a,g,!0)}}});f.fn.extend({on:function(a,e,b,g,h){var l,p;if("object"==typeof a){"string"!=typeof e&&(b=e,e=t);for(p in a)this.on(p,e,b,a[p],h);return this}null==b&&null==g?(g=e,b=e=t):null==g&&("string"==typeof e?(g=b,b=t):(g=b,b=e,e=t));if(!1===g)g=H;else if(!g)return this;1===h&&(l=g,g=function(a){f().off(a);return l.apply(this,arguments)},g.guid=
l.guid||(l.guid=f.guid++));return this.each(function(){f.event.add(this,a,g,b,e)})},one:function(a,e,b,f){return this.on.call(this,a,e,b,f,1)},off:function(a,e,b){if(a&&a.preventDefault&&a.handleObj){var g=a.handleObj;f(a.delegateTarget).off(g.namespace?g.type+"."+g.namespace:g.type,g.selector,g.handler);return this}if("object"==typeof a){for(g in a)this.off(g,e,a[g]);return this}if(!1===e||"function"==typeof e)b=e,e=t;!1===b&&(b=H);return this.each(function(){f.event.remove(this,a,b,e)})},bind:function(a,
e,b){return this.on(a,null,e,b)},unbind:function(a,e){return this.off(a,null,e)},live:function(a,e,b){f(this.context).on(a,this.selector,e,b);return this},die:function(a,e){f(this.context).off(a,this.selector||"**",e);return this},delegate:function(a,e,b,f){return this.on(e,a,b,f)},undelegate:function(a,e,b){return 1==arguments.length?this.off(a,"**"):this.off(e,a,b)},trigger:function(a,e){return this.each(function(){f.event.trigger(a,e,this)})},triggerHandler:function(a,e){if(this[0])return f.event.trigger(a,
e,this[0],!0)},toggle:function(a){var e=arguments,b=a.guid||f.guid++,g=0,h=function(b){var k=(f._data(this,"lastToggle"+a.guid)||0)%g;f._data(this,"lastToggle"+a.guid,k+1);b.preventDefault();return e[k].apply(this,arguments)||!1};for(h.guid=b;g<e.length;)e[g++].guid=b;return this.click(h)},hover:function(a,e){return this.mouseenter(a).mouseleave(e||a)}});f.each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),
function(a,e){f.fn[e]=function(a,b){b==null&&(b=a,a=null);return arguments.length>0?this.on(e,null,a,b):this.trigger(e)};f.attrFn&&(f.attrFn[e]=true);Zb.test(e)&&(f.event.fixHooks[e]=f.event.keyHooks);$b.test(e)&&(f.event.fixHooks[e]=f.event.mouseHooks)});(function(){function a(a,e,b,f,k,h){for(var k=0,l=f.length;k<l;k++){var n=f[k];if(n){for(var p=!1,n=n[a];n;){if(n[g]===b){p=f[n.sizset];break}if(1===n.nodeType)if(h||(n[g]=b,n.sizset=k),"string"!=typeof e){if(n===e){p=!0;break}}else if(0<x.filter(e,
[n]).length){p=n;break}n=n[a]}f[k]=p}}}function e(a,e,b,f,k,h){for(var k=0,l=f.length;k<l;k++){var n=f[k];if(n){for(var p=!1,n=n[a];n;){if(n[g]===b){p=f[n.sizset];break}1===n.nodeType&&!h&&(n[g]=b,n.sizset=k);if(n.nodeName.toLowerCase()===e){p=n;break}n=n[a]}f[k]=p}}}var b=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,g="sizcache"+(Math.random()+"").replace(".",""),h=0,l=Object.prototype.toString,p=!1,m=!0,r=/\\/g,
v=/\r\n/g,q=/\W/;[0,0].sort(function(){m=!1;return 0});var x=function(a,e,f,g){var f=f||[],j=e=e||z;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!a||"string"!=typeof a)return f;var h,n,p,m,r,v,q=!0,A=x.isXML(e),D=[],t=a;do if(b.exec(""),h=b.exec(t))if(t=h[3],D.push(h[1]),h[2]){m=h[3];break}while(h);if(1<D.length&&N.exec(a))if(2===D.length&&s.relative[D[0]])n=da(D[0]+D[1],e,g);else for(n=s.relative[D[0]]?[e]:x(D.shift(),e);D.length;)a=D.shift(),s.relative[a]&&(a+=D.shift()),n=da(a,n,g);else if(!g&&
1<D.length&&9===e.nodeType&&!A&&s.match.ID.test(D[0])&&!s.match.ID.test(D[D.length-1])&&(r=x.find(D.shift(),e,A),e=r.expr?x.filter(r.expr,r.set)[0]:r.set[0]),e){r=g?{expr:D.pop(),set:M(g)}:x.find(D.pop(),1===D.length&&("~"===D[0]||"+"===D[0])&&e.parentNode?e.parentNode:e,A);n=r.expr?x.filter(r.expr,r.set):r.set;for(0<D.length?p=M(n):q=!1;D.length;)h=v=D.pop(),s.relative[v]?h=D.pop():v="",null==h&&(h=e),s.relative[v](p,h,A)}else p=[];p||(p=n);p||x.error(v||a);if("[object Array]"===l.call(p))if(q)if(e&&
1===e.nodeType)for(a=0;null!=p[a];a++)p[a]&&(!0===p[a]||1===p[a].nodeType&&x.contains(e,p[a]))&&f.push(n[a]);else for(a=0;null!=p[a];a++)p[a]&&1===p[a].nodeType&&f.push(n[a]);else f.push.apply(f,p);else M(p,f);m&&(x(m,j,f,g),x.uniqueSort(f));return f};x.uniqueSort=function(a){if(G&&(p=m,a.sort(G),p))for(var e=1;e<a.length;e++)a[e]===a[e-1]&&a.splice(e--,1);return a};x.matches=function(a,e){return x(a,null,null,e)};x.matchesSelector=function(a,e){return 0<x(e,null,null,[a]).length};x.find=function(a,
e,b){var f,g,k,j,h,l;if(!a)return[];g=0;for(k=s.order.length;g<k;g++)if(h=s.order[g],j=s.leftMatch[h].exec(a))if(l=j[1],j.splice(1,1),"\\"!==l.substr(l.length-1)&&(j[1]=(j[1]||"").replace(r,""),f=s.find[h](j,e,b),null!=f)){a=a.replace(s.match[h],"");break}f||(f="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):[]);return{set:f,expr:a}};x.filter=function(a,e,b,f){for(var g,k,j,h,l,n,p,m,r=a,v=[],w=e,q=e&&e[0]&&x.isXML(e[0]);a&&e.length;){for(j in s.filter)if(null!=(g=s.leftMatch[j].exec(a))&&
g[2])if(n=s.filter[j],l=g[1],k=!1,g.splice(1,1),"\\"!==l.substr(l.length-1)){w===v&&(v=[]);if(s.preFilter[j])if(g=s.preFilter[j](g,w,b,v,f,q)){if(!0===g)continue}else k=h=!0;if(g)for(p=0;null!=(l=w[p]);p++)l&&(h=n(l,g,p,w),m=f^h,b&&null!=h?m?k=!0:w[p]=!1:m&&(v.push(l),k=!0));if(h!==t){b||(w=v);a=a.replace(s.match[j],"");if(!k)return[];break}}if(a===r)if(null==k)x.error(a);else break;r=a}return w};x.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var D=x.getText=function(a){var e,
b;e=a.nodeType;var f="";if(e)if(1===e||9===e){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(v,"");for(a=a.firstChild;a;a=a.nextSibling)f+=D(a)}else{if(3===e||4===e)return a.nodeValue}else for(e=0;b=a[e];e++)8!==b.nodeType&&(f+=D(b));return f},s=x.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,e){var b=
"string"==typeof e,f=b&&!q.test(e),b=b&&!f;f&&(e=e.toLowerCase());for(var f=0,g=a.length,k;f<g;f++)if(k=a[f]){for(;(k=k.previousSibling)&&1!==k.nodeType;);a[f]=b||k&&k.nodeName.toLowerCase()===e?k||!1:k===e}b&&x.filter(e,a,!0)},">":function(a,e){var b,f="string"==typeof e,g=0,k=a.length;if(f&&!q.test(e))for(e=e.toLowerCase();g<k;g++){if(b=a[g])b=b.parentNode,a[g]=b.nodeName.toLowerCase()===e?b:!1}else{for(;g<k;g++)(b=a[g])&&(a[g]=f?b.parentNode:b.parentNode===e);f&&x.filter(e,a,!0)}},"":function(b,
f,g){var k,j=h++,l=a;"string"==typeof f&&!q.test(f)&&(f=f.toLowerCase(),k=f,l=e);l("parentNode",f,j,b,k,g)},"~":function(b,f,g){var k,j=h++,l=a;"string"==typeof f&&!q.test(f)&&(f=f.toLowerCase(),k=f,l=e);l("previousSibling",f,j,b,k,g)}},find:{ID:function(a,e,b){if("undefined"!=typeof e.getElementById&&!b)return(a=e.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,e){if("undefined"!=typeof e.getElementsByName){for(var b=[],f=e.getElementsByName(a[1]),g=0,k=f.length;g<k;g++)f[g].getAttribute("name")===
a[1]&&b.push(f[g]);return 0===b.length?null:b}},TAG:function(a,e){if("undefined"!=typeof e.getElementsByTagName)return e.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,e,b,f,g,k){a=" "+a[1].replace(r,"")+" ";if(k)return a;for(var k=0,j;null!=(j=e[k]);k++)j&&(g^(j.className&&0<=(" "+j.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?b||f.push(j):b&&(e[k]=!1));return!1},ID:function(a){return a[1].replace(r,"")},TAG:function(a){return a[1].replace(r,"").toLowerCase()},CHILD:function(a){if("nth"===
a[1]){a[2]||x.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=e[1]+(e[2]||1)-0;a[3]=e[3]-0}else a[2]&&x.error(a[0]);a[0]=h++;return a},ATTR:function(a,e,b,f,g,k){e=a[1]=a[1].replace(r,"");!k&&s.attrMap[e]&&(a[1]=s.attrMap[e]);a[4]=(a[4]||a[5]||"").replace(r,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,e,f,g,j){if("not"===a[1])if(1<(b.exec(a[3])||"").length||
/^\w/.test(a[3]))a[3]=x(a[3],null,null,e);else return a=x.filter(a[3],e,f,1^j),f||g.push.apply(g,a),!1;else if(s.match.POS.test(a[0])||s.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},
empty:function(a){return!a.firstChild},has:function(a,e,b){return!!x(b[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var e=a.getAttribute("type"),b=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===b&&(e===b||null===e)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},
password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var e=a.nodeName.toLowerCase();return("input"===e||"button"===e)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var e=a.nodeName.toLowerCase();return("input"===e||"button"===e)&&"reset"===a.type},button:function(a){var e=a.nodeName.toLowerCase();return"input"===e&&"button"===a.type||"button"===e},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},
focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,e){return 0===e},last:function(a,e,b,f){return e===f.length-1},even:function(a,e){return 0===e%2},odd:function(a,e){return 1===e%2},lt:function(a,e,b){return e<b[3]-0},gt:function(a,e,b){return e>b[3]-0},nth:function(a,e,b){return b[3]-0===e},eq:function(a,e,b){return b[3]-0===e}},filter:{PSEUDO:function(a,e,b,f){var g=e[1],k=s.filters[g];if(k)return k(a,b,e,f);if("contains"===g)return 0<=(a.textContent||a.innerText||
D([a])||"").indexOf(e[3]);if("not"===g){e=e[3];b=0;for(f=e.length;b<f;b++)if(e[b]===a)return!1;return!0}x.error(g)},CHILD:function(a,e){var b,f,k,h,l,n;b=e[1];n=a;switch(b){case "only":case "first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===b)return!0;n=a;case "last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0;case "nth":b=e[2];f=e[3];if(1===b&&0===f)return!0;k=e[0];if((h=a.parentNode)&&(h[g]!==k||!a.nodeIndex)){l=0;for(n=h.firstChild;n;n=n.nextSibling)1===n.nodeType&&
(n.nodeIndex=++l);h[g]=k}n=a.nodeIndex-f;return 0===b?0===n:0===n%b&&0<=n/b}},ID:function(a,e){return 1===a.nodeType&&a.getAttribute("id")===e},TAG:function(a,e){return"*"===e&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===e},CLASS:function(a,e){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(e)},ATTR:function(a,e){var b=e[1],b=x.attr?x.attr(a,b):s.attrHandle[b]?s.attrHandle[b](a):null!=a[b]?a[b]:a.getAttribute(b),f=b+"",g=e[2],k=e[4];return null==b?"!="===g:!g&&x.attr?
null!=b:"="===g?f===k:"*="===g?0<=f.indexOf(k):"~="===g?0<=(" "+f+" ").indexOf(k):k?"!="===g?f!==k:"^="===g?0===f.indexOf(k):"$="===g?f.substr(f.length-k.length)===k:"|="===g?f===k||f.substr(0,k.length+1)===k+"-":!1:f&&!1!==b},POS:function(a,e,b,f){var g=s.setFilters[e[2]];if(g)return g(a,b,e,f)}}},N=s.match.POS,H=function(a,e){return"\\"+(e-0+1)},K;for(K in s.match)s.match[K]=RegExp(s.match[K].source+/(?![^\[]*\])(?![^\(]*\))/.source),s.leftMatch[K]=RegExp(/(^(?:.|\r|\n)*?)/.source+s.match[K].source.replace(/\\(\d+)/g,
H));var M=function(a,e){a=Array.prototype.slice.call(a,0);return e?(e.push.apply(e,a),e):a};try{Array.prototype.slice.call(z.documentElement.childNodes,0)[0].nodeType}catch(C){M=function(a,e){var b=0,f=e||[];if("[object Array]"===l.call(a))Array.prototype.push.apply(f,a);else if("number"==typeof a.length)for(var g=a.length;b<g;b++)f.push(a[b]);else for(;a[b];b++)f.push(a[b]);return f}}var G,F;z.documentElement.compareDocumentPosition?G=function(a,e){return a===e?(p=!0,0):!a.compareDocumentPosition||
!e.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(e)&4?-1:1}:(G=function(a,e){if(a===e)return p=!0,0;if(a.sourceIndex&&e.sourceIndex)return a.sourceIndex-e.sourceIndex;var b,f,g=[],k=[];b=a.parentNode;f=e.parentNode;var j=b;if(b===f)return F(a,e);if(!b)return-1;if(!f)return 1;for(;j;)g.unshift(j),j=j.parentNode;for(j=f;j;)k.unshift(j),j=j.parentNode;b=g.length;f=k.length;for(j=0;j<b&&j<f;j++)if(g[j]!==k[j])return F(g[j],k[j]);return j===b?F(a,k[j],-1):F(g[j],e,1)},
F=function(a,e,b){if(a===e)return b;for(a=a.nextSibling;a;){if(a===e)return-1;a=a.nextSibling}return 1});(function(){var a=z.createElement("div"),e="script"+(new Date).getTime(),b=z.documentElement;a.innerHTML="<a name='"+e+"'/>";b.insertBefore(a,b.firstChild);z.getElementById(e)&&(s.find.ID=function(a,e,b){if("undefined"!=typeof e.getElementById&&!b)return(e=e.getElementById(a[1]))?e.id===a[1]||"undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id").nodeValue===a[1]?[e]:t:[]},s.filter.ID=
function(a,e){var b="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&b&&b.nodeValue===e});b.removeChild(a);b=a=null})();(function(){var a=z.createElement("div");a.appendChild(z.createComment(""));0<a.getElementsByTagName("*").length&&(s.find.TAG=function(a,e){var b=e.getElementsByTagName(a[1]);if("*"===a[1]){for(var f=[],g=0;b[g];g++)1===b[g].nodeType&&f.push(b[g]);b=f}return b});a.innerHTML="<a href='#'></a>";a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&
"#"!==a.firstChild.getAttribute("href")&&(s.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();z.querySelectorAll&&function(){var a=x,e=z.createElement("div");e.innerHTML="<p class='TEST'></p>";if(!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){x=function(e,b,f,g){b=b||z;if(!g&&!x.isXML(b)){var k=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(k&&(1===b.nodeType||9===b.nodeType)){if(k[1])return M(b.getElementsByTagName(e),f);if(k[2]&&s.find.CLASS&&b.getElementsByClassName)return M(b.getElementsByClassName(k[2]),
f)}if(9===b.nodeType){if("body"===e&&b.body)return M([b.body],f);if(k&&k[3]){var j=b.getElementById(k[3]);if(!j||!j.parentNode)return M([],f);if(j.id===k[3])return M([j],f)}try{return M(b.querySelectorAll(e),f)}catch(h){}}else if(1===b.nodeType&&"object"!==b.nodeName.toLowerCase()){var k=b,l=(j=b.getAttribute("id"))||"__sizzle__",n=b.parentNode,p=/^\s*[+~]/.test(e);j?l=l.replace(/'/g,"\\$&"):b.setAttribute("id",l);p&&n&&(b=b.parentNode);try{if(!p||n)return M(b.querySelectorAll("[id='"+l+"'] "+e),
f)}catch(m){}finally{j||k.removeAttribute("id")}}}return a(e,b,f,g)};for(var b in a)x[b]=a[b];e=null}}();(function(){var a=z.documentElement,e=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(e){var b=!e.call(z.createElement("div"),"div"),f=!1;try{e.call(z.documentElement,"[test!='']:sizzle")}catch(g){f=!0}x.matchesSelector=function(a,g){g=g.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!x.isXML(a))try{if(f||!s.match.PSEUDO.test(g)&&!/!=/.test(g)){var k=e.call(a,
g);if(k||!b||a.document&&11!==a.document.nodeType)return k}}catch(j){}return 0<x(g,null,null,[a]).length}}})();(function(){var a=z.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(s.order.splice(1,0,"CLASS"),s.find.CLASS=function(a,e,b){if("undefined"!=typeof e.getElementsByClassName&&!b)return e.getElementsByClassName(a[1])},
a=null))})();z.documentElement.contains?x.contains=function(a,e){return a!==e&&(a.contains?a.contains(e):!0)}:z.documentElement.compareDocumentPosition?x.contains=function(a,e){return!!(a.compareDocumentPosition(e)&16)}:x.contains=function(){return!1};x.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var da=function(a,e,b){for(var f,g=[],k="",e=e.nodeType?[e]:e;f=s.match.PSEUDO.exec(a);)k+=f[0],a=a.replace(s.match.PSEUDO,"");a=s.relative[a]?a+"*":a;f=0;
for(var j=e.length;f<j;f++)x(a,e[f],g,b);return x.filter(k,g)};x.attr=f.attr;x.selectors.attrMap={};f.find=x;f.expr=x.selectors;f.expr[":"]=f.expr.filters;f.unique=x.uniqueSort;f.text=x.getText;f.isXMLDoc=x.isXML;f.contains=x.contains})();var Cc=/Until$/,ac=/^(?:parents|prevUntil|prevAll)/,dc=/,/,cc=/^.[^:#\[\.,]*$/,ec=Array.prototype.slice,Oa=f.expr.match.POS,fb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var e=this,b,g;if("string"!=typeof a)return f(a).filter(function(){b=
0;for(g=e.length;b<g;b++)if(f.contains(e[b],this))return!0});var h=this.pushStack("","find",a),l,p,m;b=0;for(g=this.length;b<g;b++)if(l=h.length,f.find(a,this[b],h),0<b)for(p=l;p<h.length;p++)for(m=0;m<l;m++)if(h[m]===h[p]){h.splice(p--,1);break}return h},has:function(a){var e=f(a);return this.filter(function(){for(var a=0,b=e.length;a<b;a++)if(f.contains(this,e[a]))return!0})},not:function(a){return this.pushStack(x(this,a,!1),"not",a)},filter:function(a){return this.pushStack(x(this,a,!0),"filter",
a)},is:function(a){return!!a&&("string"==typeof a?Oa.test(a)?0<=f(a,this.context).index(this[0]):0<f.filter(a,this).length:0<this.filter(a).length)},closest:function(a,e){var b=[],g,h,l=this[0];if(f.isArray(a)){for(h=1;l&&l.ownerDocument&&l!==e;){for(g=0;g<a.length;g++)f(l).is(a[g])&&b.push({selector:a[g],elem:l,level:h});l=l.parentNode;h++}return b}var p=Oa.test(a)||"string"!=typeof a?f(a,e||this.context):0;g=0;for(h=this.length;g<h;g++)for(l=this[g];l;){if(p?-1<p.index(l):f.find.matchesSelector(l,
a)){b.push(l);break}l=l.parentNode;if(!l||!l.ownerDocument||l===e||11===l.nodeType)break}b=1<b.length?f.unique(b):b;return this.pushStack(b,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"==typeof a?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this)},add:function(a,e){var b="string"==typeof a?f(a,e):f.makeArray(a&&a.nodeType?[a]:a),g=f.merge(this.get(),b);return this.pushStack(!b[0]||!b[0].parentNode||11===b[0].parentNode.nodeType||!g[0]||
!g[0].parentNode||11===g[0].parentNode.nodeType?g:f.unique(g))},andSelf:function(){return this.add(this.prevObject)}});f.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,e,b){return f.dir(a,"parentNode",b)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},
nextUntil:function(a,e,b){return f.dir(a,"nextSibling",b)},prevUntil:function(a,e,b){return f.dir(a,"previousSibling",b)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,e){f.fn[a]=function(b,g){var h=f.map(this,e,b);Cc.test(a)||(g=b);g&&"string"==typeof g&&(h=f.filter(g,h));h=1<this.length&&!fb[a]?
f.unique(h):h;(1<this.length||dc.test(g))&&ac.test(a)&&(h=h.reverse());return this.pushStack(h,a,ec.call(arguments).join(","))}});f.extend({filter:function(a,e,b){b&&(a=":not("+a+")");return 1===e.length?f.find.matchesSelector(e[0],a)?[e[0]]:[]:f.find.matches(a,e)},dir:function(a,e,b){for(var g=[],a=a[e];a&&9!==a.nodeType&&(b===t||1!==a.nodeType||!f(a).is(b));)1===a.nodeType&&g.push(a),a=a[e];return g},nth:function(a,e,b){for(var e=e||1,f=0;a&&!(1===a.nodeType&&++f===e);a=a[b]);return a},sibling:function(a,
e){for(var b=[];a;a=a.nextSibling)1===a.nodeType&&a!==e&&b.push(a);return b}});var bc="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Dc=/ jQuery\d+="(?:\d+|null)"/g,Pa=/^\s+/,Qa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Fa=/<([\w:]+)/,fc=/<tbody/i,Ra=/<|&#?\w+;/,gc=/<(?:script|style)/i,hc=/<(?:script|object|embed|option|style)/i,gb=RegExp("<(?:"+bc+")","i"),hb=/checked\s*(?:[^=]|=\s*.checked.)/i,
Ec=/\/(java|ecma)script/i,Fc=/^\s*<!(?:\[CDATA\[|\-\-)/,S={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ib=r(z);S.optgroup=S.option;S.tbody=S.tfoot=S.colgroup=S.caption=S.thead;S.th=S.td;f.support.htmlSerialize||(S._default=
[1,"div<div>","</div>"]);f.fn.extend({text:function(a){return f.isFunction(a)?this.each(function(e){var b=f(this);b.text(a.call(this,e,b.text()))}):"object"!=typeof a&&a!==t?this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(e){f(this).wrapAll(a.call(this,e))});if(this[0]){var e=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]);e.map(function(){for(var a=this;a.firstChild&&
1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(e){f(this).wrapInner(a.call(this,e))}):this.each(function(){var e=f(this),b=e.contents();b.length?b.wrapAll(a):e.append(a)})},wrap:function(a){var e=f.isFunction(a);return this.each(function(b){f(this).wrapAll(e?a.call(this,b):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},
append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,e){for(var b=0,g;null!=(g=this[b]);b++)if(!a||f.filter(a,[g]).length)!e&&1===g.nodeType&&(f.cleanData(g.getElementsByTagName("*")),f.cleanData([g])),g.parentNode&&g.parentNode.removeChild(g);return this},empty:function(){for(var a=0,e;null!=(e=this[a]);a++)for(1===
e.nodeType&&f.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(a,e){a=null==a?!1:a;e=null==e?a:e;return this.map(function(){return f.clone(this,a,e)})},html:function(a){if(a===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(Dc,""):null;if("string"==typeof a&&!gc.test(a)&&(f.support.leadingWhitespace||!Pa.test(a))&&!S[(Fa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Qa,"<$1></$2>");try{for(var e=0,b=this.length;e<b;e++)1===
this[e].nodeType&&(f.cleanData(this[e].getElementsByTagName("*")),this[e].innerHTML=a)}catch(g){this.empty().append(a)}}else f.isFunction(a)?this.each(function(e){var b=f(this);b.html(a.call(this,e,b.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(e){var b=f(this),g=b.html();b.replaceWith(a.call(this,e,g))});"string"!=typeof a&&(a=f(a).detach());return this.each(function(){var e=this.nextSibling,b=
this.parentNode;f(this).remove();e?f(e).before(a):f(b).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,e,b){var g,h,l,p=a[0],m=[];if(!f.support.checkClone&&3===arguments.length&&"string"==typeof p&&hb.test(p))return this.each(function(){f(this).domManip(a,e,b,!0)});if(f.isFunction(p))return this.each(function(g){var j=f(this);a[0]=p.call(this,g,e?j.html():t);j.domManip(a,e,b)});if(this[0]){l=
p&&p.parentNode;f.support.parentNode&&l&&11===l.nodeType&&l.childNodes.length===this.length?g={fragment:l}:g=f.buildFragment(a,this,m);l=g.fragment;1===l.childNodes.length?h=l=l.firstChild:h=l.firstChild;if(h){e=e&&f.nodeName(h,"tr");h=0;for(var r=this.length,v=r-1;h<r;h++)b.call(e?f.nodeName(this[h],"table")?this[h].getElementsByTagName("tbody")[0]||this[h].appendChild(this[h].ownerDocument.createElement("tbody")):this[h]:this[h],g.cacheable||1<r&&h<v?f.clone(l,!0,!0):l)}m.length&&f.each(m,oa)}return this}});
f.buildFragment=function(a,e,b){var g,h,l,p,m=a[0];e&&e[0]&&(p=e[0].ownerDocument||e[0]);p.createDocumentFragment||(p=z);1===a.length&&"string"==typeof m&&512>m.length&&p===z&&"<"===m.charAt(0)&&!hc.test(m)&&(f.support.checkClone||!hb.test(m))&&(f.support.html5Clone||!gb.test(m))&&(h=!0,l=f.fragments[m],l&&1!==l&&(g=l));g||(g=p.createDocumentFragment(),f.clean(a,p,g,b));h&&(f.fragments[m]=l?g:1);return{fragment:g,cacheable:h}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(a,e){f.fn[a]=function(b){var g=[],b=f(b),h=1===this.length&&this[0].parentNode;if(h&&11===h.nodeType&&1===h.childNodes.length&&1===b.length)return b[e](this[0]),this;for(var h=0,l=b.length;h<l;h++){var p=(0<h?this.clone(!0):this).get();f(b[h])[e](p);g=g.concat(p)}return this.pushStack(g,a,b.selector)}});f.extend({clone:function(a,e,b){var g,h,l;f.support.html5Clone||!gb.test("<"+a.nodeName)?g=a.cloneNode(!0):(g=z.createElement("div"),ib.appendChild(g),
g.innerHTML=a.outerHTML,g=g.firstChild);var p=g;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!f.isXMLDoc(a)){V(a,p);g=ba(a);h=ba(p);for(l=0;g[l];++l)h[l]&&V(g[l],h[l])}if(e&&(ia(a,p),b)){g=ba(a);h=ba(p);for(l=0;g[l];++l)ia(g[l],h[l])}return p},clean:function(a,e,b,g){e=e||z;"undefined"==typeof e.createElement&&(e=e.ownerDocument||e[0]&&e[0].ownerDocument||z);for(var h=[],l,p=0,m;null!=(m=a[p]);p++)if("number"==typeof m&&(m+=""),m){if("string"==typeof m)if(Ra.test(m)){m=
m.replace(Qa,"<$1></$2>");l=(Fa.exec(m)||["",""])[1].toLowerCase();var v=S[l]||S._default,x=v[0],q=e.createElement("div");e===z?ib.appendChild(q):r(e).appendChild(q);for(q.innerHTML=v[1]+m+v[2];x--;)q=q.lastChild;if(!f.support.tbody){x=fc.test(m);v="table"===l&&!x?q.firstChild&&q.firstChild.childNodes:"<table>"===v[1]&&!x?q.childNodes:[];for(l=v.length-1;0<=l;--l)f.nodeName(v[l],"tbody")&&!v[l].childNodes.length&&v[l].parentNode.removeChild(v[l])}!f.support.leadingWhitespace&&Pa.test(m)&&q.insertBefore(e.createTextNode(Pa.exec(m)[0]),
q.firstChild);m=q.childNodes}else m=e.createTextNode(m);var D;if(!f.support.appendChecked)if(m[0]&&"number"==typeof(D=m.length))for(l=0;l<D;l++)la(m[l]);else la(m);m.nodeType?h.push(m):h=f.merge(h,m)}if(b){a=function(a){return!a.type||Ec.test(a.type)};for(p=0;h[p];p++)g&&f.nodeName(h[p],"script")&&(!h[p].type||"text/javascript"===h[p].type.toLowerCase())?g.push(h[p].parentNode?h[p].parentNode.removeChild(h[p]):h[p]):(1===h[p].nodeType&&(e=f.grep(h[p].getElementsByTagName("script"),a),h.splice.apply(h,
[p+1,0].concat(e))),b.appendChild(h[p]))}return h},cleanData:function(a){for(var e,b,g=f.cache,h=f.event.special,l=f.support.deleteExpando,p=0,m;null!=(m=a[p]);p++)if(!m.nodeName||!f.noData[m.nodeName.toLowerCase()])if(b=m[f.expando]){if((e=g[b])&&e.events){for(var r in e.events)h[r]?f.event.remove(m,r):f.removeEvent(m,r,e.handle);e.handle&&(e.handle.elem=null)}l?delete m[f.expando]:m.removeAttribute&&m.removeAttribute(f.expando);delete g[b]}}});var Sa=/alpha\([^)]*\)/i,jb=/opacity=([^)]*)/,kb=/([A-Z]|^ms)/g,
lb=/^-?\d+(?:px)?$/i,qa=/^-?\d/,nb=/^([\-+])=([\-+.\de]+)/,ob={position:"absolute",visibility:"hidden",display:"block"},Ta=["Left","Right"],pb=["Top","Bottom"],ua,ga,ya;f.fn.css=function(a,e){return 2===arguments.length&&e===t?this:f.access(this,a,e,!0,function(a,e,b){return b!==t?f.style(a,e,b):f.css(a,e)})};f.extend({cssHooks:{opacity:{get:function(a,e){if(e){var b=ua(a,"opacity","opacity");return""===b?"1":b}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,
orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,e,b,g){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var h,l=f.camelCase(e),p=a.style,m=f.cssHooks[l],e=f.cssProps[l]||l;if(b===t)return m&&"get"in m&&(h=m.get(a,!1,g))!==t?h:p[e];g=typeof b;"string"===g&&(h=nb.exec(b))&&(b=+(h[1]+1)*+h[2]+parseFloat(f.css(a,e)),g="number");if(!(null==b||"number"===g&&isNaN(b)))if("number"===g&&!f.cssNumber[l]&&(b+="px"),!m||!("set"in m)||(b=m.set(a,
b))!==t)try{p[e]=b}catch(r){}}},css:function(a,e,b){var g,h,e=f.camelCase(e);h=f.cssHooks[e];e=f.cssProps[e]||e;"cssFloat"===e&&(e="float");if(h&&"get"in h&&(g=h.get(a,!0,b))!==t)return g;if(ua)return ua(a,e)},swap:function(a,e,b){var f={},g;for(g in e)f[g]=a.style[g],a.style[g]=e[g];b.call(a);for(g in e)a.style[g]=f[g]}});f.curCSS=f.css;f.each(["height","width"],function(a,e){f.cssHooks[e]={get:function(a,b,g){var h;if(b){if(0!==a.offsetWidth)return X(a,e,g);f.swap(a,ob,function(){h=X(a,e,g)});return h}},
set:function(a,e){if(!lb.test(e))return e;e=parseFloat(e);if(0<=e)return e+"px"}}});f.support.opacity||(f.cssHooks.opacity={get:function(a,e){return jb.test((e&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(a,e){var b=a.style,g=a.currentStyle,h=f.isNumeric(e)?"alpha(opacity="+100*e+")":"",l=g&&g.filter||b.filter||"";b.zoom=1;if(1<=e&&""===f.trim(l.replace(Sa,""))&&(b.removeAttribute("filter"),g&&!g.filter))return;b.filter=Sa.test(l)?
l.replace(Sa,h):l+" "+h}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,e){var b;f.swap(a,{display:"inline-block"},function(){e?b=ua(a,"margin-right","marginRight"):b=a.style.marginRight});return b}})});z.defaultView&&z.defaultView.getComputedStyle&&(ga=function(a,e){var b,g,h,e=e.replace(kb,"-$1").toLowerCase();(g=a.ownerDocument.defaultView)&&(h=g.getComputedStyle(a,null))&&(b=h.getPropertyValue(e),""===b&&!f.contains(a.ownerDocument.documentElement,a)&&(b=
f.style(a,e)));return b});z.documentElement.currentStyle&&(ya=function(a,e){var b,f,g,h=a.currentStyle&&a.currentStyle[e],l=a.style;null===h&&l&&(g=l[e])&&(h=g);!lb.test(h)&&qa.test(h)&&(b=l.left,f=a.runtimeStyle&&a.runtimeStyle.left,f&&(a.runtimeStyle.left=a.currentStyle.left),l.left="fontSize"===e?"1em":h||0,h=l.pixelLeft+"px",l.left=b,f&&(a.runtimeStyle.left=f));return""===h?"auto":h});ua=ga||ya;f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var e=a.offsetHeight;return 0===a.offsetWidth&&
0===e||!f.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||f.css(a,"display"))},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var qb=/%20/g,ic=/\[\]$/,rb=/\r?\n/g,Hc=/#.*$/,Ic=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,jc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,kc=/^(?:GET|HEAD)$/,Jc=/^\/\//,sb=/\?/,Kc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Lc=/^(?:select|textarea)/i,lc=/\s+/,mc=
/([?&])_=[^&]*/,tb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,ub=f.fn.load,vb={},nc={},va,ra,xb=["*/"]+["*"];try{va=ja.href}catch(jd){va=z.createElement("a"),va.href="",va=va.href}ra=tb.exec(va.toLowerCase())||[];f.fn.extend({load:function(a,e,b){if("string"!=typeof a&&ub)return ub.apply(this,arguments);if(!this.length)return this;var g=a.indexOf(" ");if(0<=g)var h=a.slice(g,a.length),a=a.slice(0,g);g="GET";e&&(f.isFunction(e)?(b=e,e=t):"object"==typeof e&&(e=f.param(e,f.ajaxSettings.traditional),
g="POST"));var l=this;f.ajax({url:a,type:g,dataType:"html",data:e,complete:function(a,e,g){g=a.responseText;a.isResolved()&&(a.done(function(a){g=a}),l.html(h?f("<div>").append(g.replace(Kc,"")).find(h):g));b&&l.each(b,[g,e,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Lc.test(this.nodeName)||
jc.test(this.type))}).map(function(a,e){var b=f(this).val();return null==b?null:f.isArray(b)?f.map(b,function(a){return{name:e.name,value:a.replace(rb,"\r\n")}}):{name:e.name,value:b.replace(rb,"\r\n")}}).get()}});f.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(a,b){f.fn[b]=function(a){return this.on(b,a)}});f.each(["get","post"],function(a,b){f[b]=function(a,g,h,l){f.isFunction(g)&&(l=l||h,h=g,g=t);return f.ajax({type:b,url:a,data:g,success:h,dataType:l})}});
f.extend({getScript:function(a,b){return f.get(a,t,b,"script")},getJSON:function(a,b,g){return f.get(a,b,g,"json")},ajaxSetup:function(a,b){b?F(a,f.ajaxSettings):(b=a,a=f.ajaxSettings);F(a,b);return a},ajaxSettings:{url:va,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ra[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",
"*":xb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":h.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:W(vb),ajaxTransport:W(nc),ajax:function(a,b){function g(a,b,e,k){if(2!==M){M=2;H&&clearTimeout(H);N=t;D=k||"";G.readyState=0<a?4:0;var q,x,s,k=b;if(e){var u=j,K=G,C=u.contents,F=u.dataTypes,da=u.responseFields,J,Q,Z,Db;for(Q in da)Q in e&&(K[da[Q]]=e[Q]);
for(;"*"===F[0];)F.shift(),J===t&&(J=u.mimeType||K.getResponseHeader("content-type"));if(J)for(Q in C)if(C[Q]&&C[Q].test(J)){F.unshift(Q);break}if(F[0]in e)Z=F[0];else{for(Q in e){if(!F[0]||u.converters[Q+" "+F[0]]){Z=Q;break}Db||(Db=Q)}Z=Z||Db}Z?(Z!==F[0]&&F.unshift(Z),e=e[Z]):e=void 0}else e=t;if(200<=a&&300>a||304===a){if(j.ifModified){if(J=G.getResponseHeader("Last-Modified"))f.lastModified[v]=J;if(J=G.getResponseHeader("Etag"))f.etag[v]=J}if(304===a)k="notmodified",q=!0;else try{J=j;J.dataFilter&&
(e=J.dataFilter(e,J.dataType));var Eb=J.dataTypes;Q={};var W,ma,aa=Eb.length,Ia,S=Eb[0],X,ba,V,fa,Y;for(W=1;W<aa;W++){if(1===W)for(ma in J.converters)"string"==typeof ma&&(Q[ma.toLowerCase()]=J.converters[ma]);X=S;S=Eb[W];if("*"===S)S=X;else if("*"!==X&&X!==S){ba=X+" "+S;V=Q[ba]||Q["* "+S];if(!V)for(fa in Y=t,Q)if(Ia=fa.split(" "),Ia[0]===X||"*"===Ia[0])if(Y=Q[Ia[1]+" "+S]){fa=Q[fa];!0===fa?V=Y:!0===Y&&(V=fa);break}!V&&!Y&&f.error("No conversion from "+ba.replace(" "," to "));!0!==V&&(e=V?V(e):Y(fa(e)))}}x=
e;k="success";q=!0}catch(ga){k="parsererror",s=ga}}else if(s=k,!k||a)k="error",0>a&&(a=0);G.status=a;G.statusText=""+(b||k);q?p.resolveWith(h,[x,k,G]):p.rejectWith(h,[G,k,s]);G.statusCode(r);r=t;z&&l.trigger("ajax"+(q?"Success":"Error"),[G,j,q?x:s]);m.fireWith(h,[G,k]);z&&(l.trigger("ajaxComplete",[G,j]),--f.active||f.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=t);var b=b||{},j=f.ajaxSetup({},b),h=j.context||j,l=h!==j&&(h.nodeType||h instanceof f)?f(h):f.event,p=f.Deferred(),m=f.Callbacks("once memory"),
r=j.statusCode||{},v,q={},x={},D,s,N,H,K,M=0,z,C,G={readyState:0,setRequestHeader:function(a,b){if(!M){var e=a.toLowerCase(),a=x[e]=x[e]||a;q[a]=b}return this},getAllResponseHeaders:function(){return 2===M?D:null},getResponseHeader:function(a){var b;if(2===M){if(!s)for(s={};b=Ic.exec(D);)s[b[1].toLowerCase()]=b[2];b=s[a.toLowerCase()]}return b===t?null:b},overrideMimeType:function(a){M||(j.mimeType=a);return this},abort:function(a){a=a||"abort";N&&N.abort(a);g(0,a);return this}};p.promise(G);G.success=
G.done;G.error=G.fail;G.complete=m.add;G.statusCode=function(a){if(a){var b;if(2>M)for(b in a)r[b]=[r[b],a[b]];else b=a[G.status],G.then(b,b)}return this};j.url=((a||j.url)+"").replace(Hc,"").replace(Jc,ra[1]+"//");j.dataTypes=f.trim(j.dataType||"*").toLowerCase().split(lc);null==j.crossDomain&&(K=tb.exec(j.url.toLowerCase()),j.crossDomain=!(!K||K[1]==ra[1]&&K[2]==ra[2]&&(K[3]||("http:"===K[1]?80:443))==(ra[3]||("http:"===ra[1]?80:443))));j.data&&j.processData&&"string"!=typeof j.data&&(j.data=f.param(j.data,
j.traditional));J(vb,j,b,G);if(2===M)return!1;z=j.global;j.type=j.type.toUpperCase();j.hasContent=!kc.test(j.type);z&&0===f.active++&&f.event.trigger("ajaxStart");if(!j.hasContent&&(j.data&&(j.url+=(sb.test(j.url)?"&":"?")+j.data,delete j.data),v=j.url,!1===j.cache)){K=f.now();var F=j.url.replace(mc,"$1_="+K);j.url=F+(F===j.url?(sb.test(j.url)?"&":"?")+"_="+K:"")}(j.data&&j.hasContent&&!1!==j.contentType||b.contentType)&&G.setRequestHeader("Content-Type",j.contentType);j.ifModified&&(v=v||j.url,f.lastModified[v]&&
G.setRequestHeader("If-Modified-Since",f.lastModified[v]),f.etag[v]&&G.setRequestHeader("If-None-Match",f.etag[v]));G.setRequestHeader("Accept",j.dataTypes[0]&&j.accepts[j.dataTypes[0]]?j.accepts[j.dataTypes[0]]+("*"!==j.dataTypes[0]?", "+xb+"; q=0.01":""):j.accepts["*"]);for(C in j.headers)G.setRequestHeader(C,j.headers[C]);if(j.beforeSend&&(!1===j.beforeSend.call(h,G,j)||2===M))return G.abort(),!1;for(C in{success:1,error:1,complete:1})G[C](j[C]);if(N=J(nc,j,b,G)){G.readyState=1;z&&l.trigger("ajaxSend",
[G,j]);j.async&&0<j.timeout&&(H=setTimeout(function(){G.abort("timeout")},j.timeout));try{M=1,N.send(q,g)}catch(u){if(2>M)g(-1,u);else throw u;}}else g(-1,"No Transport");return G},param:function(a,b){var g=[],j=function(a,b){b=f.isFunction(b)?b():b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===t&&(b=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){j(this.name,this.value)});else for(var h in a)C(h,a[h],b,j);return g.join("&").replace(qb,
"+")}});f.extend({active:0,lastModified:{},etag:{}});var Mc=f.now(),Va=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+Mc++}});f.ajaxPrefilter("json jsonp",function(a,b,g){b="application/x-www-form-urlencoded"===a.contentType&&"string"==typeof a.data;if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(Va.test(a.url)||b&&Va.test(a.data))){var j,l=a.jsonpCallback=f.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,p=h[l],m=a.url,r=a.data,v="$1"+l+
"$2";!1!==a.jsonp&&(m=m.replace(Va,v),a.url===m&&(b&&(r=r.replace(Va,v)),a.data===r&&(m+=(/\?/.test(m)?"&":"?")+a.jsonp+"="+l)));a.url=m;a.data=r;h[l]=function(a){j=[a]};g.always(function(){h[l]=p;j&&f.isFunction(p)&&h[l](j[0])});a.converters["script json"]=function(){j||f.error(l+" was not called");return j[0]};a.dataTypes[0]="json";return"script"}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},
converters:{"text script":function(a){f.globalEval(a);return a}}});f.ajaxPrefilter("script",function(a){a.cache===t&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});f.ajaxTransport("script",function(a){if(a.crossDomain){var b,f=z.head||z.getElementsByTagName("head")[0]||z.documentElement;return{send:function(g,h){b=z.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,g){if(g||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=
b.onreadystatechange=null,f&&b.parentNode&&f.removeChild(b),b=t,g||h(200,"success")};f.insertBefore(b,f.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var Wa=h.ActiveXObject?function(){for(var a in za)za[a](0,1)}:!1,Oc=0,za;f.ajaxSettings.xhr=h.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&K()))a:{try{a=new h.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:K;(function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(f.ajaxSettings.xhr());f.support.ajax&&
f.ajaxTransport(function(a){if(!a.crossDomain||f.support.cors){var b;return{send:function(g,j){var l=a.xhr(),p,m;a.username?l.open(a.type,a.url,a.async,a.username,a.password):l.open(a.type,a.url,a.async);if(a.xhrFields)for(m in a.xhrFields)l[m]=a.xhrFields[m];a.mimeType&&l.overrideMimeType&&l.overrideMimeType(a.mimeType);!a.crossDomain&&!g["X-Requested-With"]&&(g["X-Requested-With"]="XMLHttpRequest");try{for(m in g)l.setRequestHeader(m,g[m])}catch(r){}l.send(a.hasContent&&a.data||null);b=function(g,
k){var h,m,r,v,q;try{if(b&&(k||4===l.readyState))if(b=t,p&&(l.onreadystatechange=f.noop,Wa&&delete za[p]),k)4!==l.readyState&&l.abort();else{h=l.status;r=l.getAllResponseHeaders();v={};(q=l.responseXML)&&q.documentElement&&(v.xml=q);v.text=l.responseText;try{m=l.statusText}catch(x){m=""}!h&&a.isLocal&&!a.crossDomain?h=v.text?200:404:1223===h&&(h=204)}}catch(D){k||j(-1,D)}v&&j(h,m,v,r)};!a.async||4===l.readyState?b():(p=++Oc,Wa&&(za||(za={},f(h).unload(Wa)),za[p]=b),l.onreadystatechange=b)},abort:function(){b&&
b(0,1)}}}});var yb={},ka,Aa,zb=/^(?:toggle|show|hide)$/,Ab=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Xa,oc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Ya;f.fn.extend({show:function(a,b,k){var j;if(a||0===a)return this.animate(l("show",3),a,b,k);b=0;for(k=this.length;b<k;b++)a=this[b],a.style&&(j=a.style.display,!f._data(a,"olddisplay")&&"none"===j&&(j=a.style.display=""),""===j&&"none"===f.css(a,"display")&&
f._data(a,"olddisplay",g(a.nodeName)));for(b=0;b<k;b++)if(a=this[b],a.style&&(j=a.style.display,""===j||"none"===j))a.style.display=f._data(a,"olddisplay")||"";return this},hide:function(a,b,g){if(a||0===a)return this.animate(l("hide",3),a,b,g);for(var j,b=0,g=this.length;b<g;b++)a=this[b],a.style&&(j=f.css(a,"display"),"none"!==j&&!f._data(a,"olddisplay")&&f._data(a,"olddisplay",j));for(b=0;b<g;b++)this[b].style&&(this[b].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,
g){var j="boolean"==typeof a;f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):null==a||j?this.each(function(){var b=j?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(l("toggle",3),a,b,g);return this},fadeTo:function(a,b,f,g){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,f,g)},animate:function(a,b,k,j){function h(){!1===l.queue&&f._mark(this);var b=f.extend({},l),e=1===this.nodeType,k=e&&f(this).is(":hidden"),j,p,m,n,r,v,q,x;
b.animatedProperties={};for(m in a){j=f.camelCase(m);m!==j&&(a[j]=a[m],delete a[m]);p=a[j];f.isArray(p)?(b.animatedProperties[j]=p[1],p=a[j]=p[0]):b.animatedProperties[j]=b.specialEasing&&b.specialEasing[j]||b.easing||"swing";if("hide"===p&&k||"show"===p&&!k)return b.complete.call(this);e&&("height"===j||"width"===j)&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===f.css(this,"display")&&"none"===f.css(this,"float")&&(!f.support.inlineBlockNeedsLayout||"inline"===
g(this.nodeName)?this.style.display="inline-block":this.style.zoom=1))}null!=b.overflow&&(this.style.overflow="hidden");for(m in a)e=new f.fx(this,b,m),p=a[m],zb.test(p)?(x=f._data(this,"toggle"+m)||("toggle"===p?k?"show":"hide":0),x?(f._data(this,"toggle"+m,"show"===x?"hide":"show"),e[x]()):e[p]()):(n=Ab.exec(p),r=e.cur(),n?(v=parseFloat(n[2]),q=n[3]||(f.cssNumber[m]?"":"px"),"px"!==q&&(f.style(this,m,(v||1)+q),r*=(v||1)/e.cur(),f.style(this,m,r+q)),n[1]&&(v=("-="===n[1]?-1:1)*v+r),e.custom(r,v,
q)):e.custom(r,p,""));return!0}var l=f.speed(b,k,j);if(f.isEmptyObject(a))return this.each(l.complete,[!1]);a=f.extend({},a);return!1===l.queue?this.each(h):this.queue(l.queue,h)},stop:function(a,b,g){"string"!=typeof a&&(g=b,b=a,a=t);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b,e=!1,h=f.timers,l=f._data(this);g||f._unmark(!0,this);if(null==a)for(b in l){if(l[b]&&l[b].stop&&b.indexOf(".run")===b.length-4){var p=l[b];f.removeData(this,b,!0);p.stop(g)}}else if(l[b=a+".run"]&&
l[b].stop)l=l[b],f.removeData(this,b,!0),l.stop(g);for(b=h.length;b--;)h[b].elem===this&&(null==a||h[b].queue===a)&&(g?h[b](!0):h[b].saveState(),e=!0,h.splice(b,1));(!g||!e)&&f.dequeue(this,a)})}});f.each({slideDown:l("show",1),slideUp:l("hide",1),slideToggle:l("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,f,g){return this.animate(b,a,f,g)}});f.extend({speed:function(a,b,g){var j=a&&"object"==typeof a?f.extend({},a):{complete:g||
!g&&b||f.isFunction(a)&&a,duration:a,easing:g&&b||b&&!f.isFunction(b)&&b};j.duration=f.fx.off?0:"number"==typeof j.duration?j.duration:j.duration in f.fx.speeds?f.fx.speeds[j.duration]:f.fx.speeds._default;if(null==j.queue||!0===j.queue)j.queue="fx";j.old=j.complete;j.complete=function(a){f.isFunction(j.old)&&j.old.call(this);j.queue?f.dequeue(this,j.queue):!1!==a&&f._unmark(this)};return j},easing:{linear:function(a,b,f,g){return f+g*a},swing:function(a,b,f,g){return(-Math.cos(a*Math.PI)/2+0.5)*
g+f}},timers:[],fx:function(a,b,f){this.options=b;this.elem=a;this.prop=f;b.orig=b.orig||{}}});f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||"auto"===b?0:b:a},custom:function(a,b,g){function j(a){return h.step(a)}
var h=this,l=f.fx;this.startTime=Ya||s();this.end=b;this.now=this.start=a;this.pos=this.state=0;this.unit=g||this.unit||(f.cssNumber[this.prop]?"":"px");j.queue=this.options.queue;j.elem=this.elem;j.saveState=function(){h.options.hide&&f._data(h.elem,"fxshow"+h.prop)===t&&f._data(h.elem,"fxshow"+h.prop,h.start)};j()&&f.timers.push(j)&&!Xa&&(Xa=setInterval(l.tick,l.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop);this.options.show=
!0;a!==t?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b,g,j=Ya||s(),h=!0,l=this.elem,p=this.options;if(a||j>=p.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();p.animatedProperties[this.prop]=!0;for(b in p.animatedProperties)!0!==
p.animatedProperties[b]&&(h=!1);if(h){null!=p.overflow&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){l.style["overflow"+b]=p.overflow[a]});p.hide&&f(l).hide();if(p.hide||p.show)for(b in p.animatedProperties)f.style(l,b,p.orig[b]),f.removeData(l,"fxshow"+b,!0),f.removeData(l,"toggle"+b,!0);(a=p.complete)&&(p.complete=!1,a.call(l))}return!1}Infinity==p.duration?this.now=j:(g=j-this.startTime,this.state=g/p.duration,this.pos=f.easing[p.animatedProperties[this.prop]](this.state,g,0,
1,p.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};f.extend(f.fx,{tick:function(){for(var a,b=f.timers,g=0;g<b.length;g++)a=b[g],!a()&&b[g]===a&&b.splice(g--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(Xa);Xa=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});f.each(["width",
"height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}});f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var Pc=/^t(?:able|d|h)$/i,Bb=/^(?:body|html)$/i;"getBoundingClientRect"in z.documentElement?f.fn.offset=function(a){var e=this[0],g;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return f.offset.bodyOffset(e);
try{g=e.getBoundingClientRect()}catch(j){}var h=e.ownerDocument,l=h.documentElement;if(!g||!f.contains(l,e))return g?{top:g.top,left:g.left}:{top:0,left:0};e=h.body;h=b(h);return{top:g.top+(h.pageYOffset||f.support.boxModel&&l.scrollTop||e.scrollTop)-(l.clientTop||e.clientTop||0),left:g.left+(h.pageXOffset||f.support.boxModel&&l.scrollLeft||e.scrollLeft)-(l.clientLeft||e.clientLeft||0)}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||
!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var g,j=b.offsetParent,h=b.ownerDocument,l=h.documentElement,p=h.body;g=(h=h.defaultView)?h.getComputedStyle(b,null):b.currentStyle;for(var m=b.offsetTop,r=b.offsetLeft;(b=b.parentNode)&&b!==p&&b!==l&&!(f.support.fixedPosition&&"fixed"===g.position);)g=h?h.getComputedStyle(b,null):b.currentStyle,m-=b.scrollTop,r-=b.scrollLeft,b===j&&(m+=b.offsetTop,r+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||
!Pc.test(b.nodeName))&&(m+=parseFloat(g.borderTopWidth)||0,r+=parseFloat(g.borderLeftWidth)||0),j=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&"visible"!==g.overflow&&(m+=parseFloat(g.borderTopWidth)||0,r+=parseFloat(g.borderLeftWidth)||0);if("relative"===g.position||"static"===g.position)m+=p.offsetTop,r+=p.offsetLeft;f.support.fixedPosition&&"fixed"===g.position&&(m+=Math.max(l.scrollTop,p.scrollTop),r+=Math.max(l.scrollLeft,p.scrollLeft));return{top:m,left:r}};f.offset={bodyOffset:function(a){var b=
a.offsetTop,g=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,g+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:g}},setOffset:function(a,b,g){var j=f.css(a,"position");"static"===j&&(a.style.position="relative");var h=f(a),l=h.offset(),p=f.css(a,"top"),m=f.css(a,"left"),r={},v={},q,x;("absolute"===j||"fixed"===j)&&-1<f.inArray("auto",[p,m])?(v=h.position(),q=v.top,x=v.left):(q=parseFloat(p)||0,x=parseFloat(m)||0);f.isFunction(b)&&(b=b.call(a,
g,l));null!=b.top&&(r.top=b.top-l.top+q);null!=b.left&&(r.left=b.left-l.left+x);"using"in b?b.using.call(a,r):h.css(r)}};f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),g=this.offset(),j=Bb.test(b[0].nodeName)?{top:0,left:0}:b.offset();g.top-=parseFloat(f.css(a,"marginTop"))||0;g.left-=parseFloat(f.css(a,"marginLeft"))||0;j.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0;j.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:g.top-j.top,left:g.left-
j.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||z.body;a&&!Bb.test(a.nodeName)&&"static"===f.css(a,"position");)a=a.offsetParent;return a})}});f.each(["Left","Top"],function(a,e){var g="scroll"+e;f.fn[g]=function(e){var h,l;return e===t?(h=this[0],!h?null:(l=b(h))?"pageXOffset"in l?l[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&l.document.documentElement[g]||l.document.body[g]:h[g]):this.each(function(){(l=b(this))?l.scrollTo(a?f(l).scrollLeft():e,a?
e:f(l).scrollTop()):this[g]=e})}});f.each(["Height","Width"],function(a,b){var g=b.toLowerCase();f.fn["inner"+b]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,g,"padding")):this[g]():null};f.fn["outer"+b]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,g,a?"margin":"border")):this[g]():null};f.fn[g]=function(a){var h=this[0];if(!h)return null==a?null:this;if(f.isFunction(a))return this.each(function(b){var e=f(this);e[g](a.call(this,b,e[g]()))});if(f.isWindow(h)){var l=
h.document.documentElement["client"+b],p=h.document.body;return"CSS1Compat"===h.document.compatMode&&l||p&&p["client"+b]||l}return 9===h.nodeType?Math.max(h.documentElement["client"+b],h.body["scroll"+b],h.documentElement["scroll"+b],h.body["offset"+b],h.documentElement["offset"+b]):a===t?(h=f.css(h,g),l=parseFloat(h),f.isNumeric(l)?l:h):this.css(g,"string"==typeof a?a:a+"px")}});h.jQuery=h.$=f;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);(function(){function h(b,f,g){if(b===f)return 0!==b||1/b==1/f;if(null==b||null==f)return b===f;b._chain&&(b=b._wrapped);f._chain&&(f=f._wrapped);if(b.isEqual&&m.isFunction(b.isEqual))return b.isEqual(f);if(f.isEqual&&m.isFunction(f.isEqual))return f.isEqual(b);var l=C.call(b);if(l!=C.call(f))return!1;switch(l){case "[object String]":return b==""+f;case "[object Number]":return b!=+b?f!=+f:0==b?1/b==1/f:b==+f;case "[object Date]":case "[object Boolean]":return+b==+f;case "[object RegExp]":return b.source==
f.source&&b.global==f.global&&b.multiline==f.multiline&&b.ignoreCase==f.ignoreCase}if("object"!=typeof b||"object"!=typeof f)return!1;for(var r=g.length;r--;)if(g[r]==b)return!0;g.push(b);var r=0,q=!0;if("[object Array]"==l){if(r=b.length,q=r==f.length)for(;r--&&(q=r in b==r in f&&h(b[r],f[r],g)););}else{if("constructor"in b!="constructor"in f||b.constructor!=f.constructor)return!1;for(var x in b)if(m.has(b,x)&&(r++,!(q=m.has(f,x)&&h(b[x],f[x],g))))break;if(q){for(x in f)if(m.has(f,x)&&!r--)break;
q=!r}}g.pop();return q}var t=this,b=t._,g={},l=Array.prototype,q=Object.prototype,s=l.slice,K=l.unshift,C=q.toString,F=q.hasOwnProperty,J=l.forEach,W=l.map,X=l.reduce,oa=l.reduceRight,la=l.filter,pa=l.every,ba=l.some,V=l.indexOf,ia=l.lastIndexOf,q=Array.isArray,r=Object.keys,x=Function.prototype.bind,m=function(b){return new aa(b)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=m),exports._=m):t._=m;m.VERSION="1.3.1";var H=m.each=m.forEach=function(b,
f,h){if(b!=null)if(J&&b.forEach===J)b.forEach(f,h);else if(b.length===+b.length)for(var l=0,r=b.length;l<r;l++){if(l in b&&f.call(h,b[l],l,b)===g)break}else for(l in b)if(m.has(b,l)&&f.call(h,b[l],l,b)===g)break};m.map=m.collect=function(b,f,g){var h=[];if(b==null)return h;if(W&&b.map===W)return b.map(f,g);H(b,function(b,l,p){h[h.length]=f.call(g,b,l,p)});if(b.length===+b.length)h.length=b.length;return h};m.reduce=m.foldl=m.inject=function(b,f,g,h){var l=arguments.length>2;b==null&&(b=[]);if(X&&
b.reduce===X)return h&&(f=m.bind(f,h)),l?b.reduce(f,g):b.reduce(f);H(b,function(b,m,p){l?g=f.call(h,g,b,m,p):(g=b,l=true)});if(!l)throw new TypeError("Reduce of empty array with no initial value");return g};m.reduceRight=m.foldr=function(b,f,g,h){var l=arguments.length>2;b==null&&(b=[]);if(oa&&b.reduceRight===oa)return h&&(f=m.bind(f,h)),l?b.reduceRight(f,g):b.reduceRight(f);var r=m.toArray(b).reverse();h&&!l&&(f=m.bind(f,h));return l?m.reduce(r,f,g,h):m.reduce(r,f)};m.find=m.detect=function(b,f,
g){var h;Q(b,function(b,l,m){if(f.call(g,b,l,m))return h=b,true});return h};m.filter=m.select=function(b,f,g){var h=[];if(b==null)return h;if(la&&b.filter===la)return b.filter(f,g);H(b,function(b,l,m){f.call(g,b,l,m)&&(h[h.length]=b)});return h};m.reject=function(b,f,g){var h=[];if(b==null)return h;H(b,function(b,l,m){f.call(g,b,l,m)||(h[h.length]=b)});return h};m.every=m.all=function(b,f,h){var l=true;if(b==null)return l;if(pa&&b.every===pa)return b.every(f,h);H(b,function(b,m,p){if(!(l=l&&f.call(h,
b,m,p)))return g});return l};var Q=m.some=m.any=function(b,f,h){f||(f=m.identity);var l=false;if(b==null)return l;if(ba&&b.some===ba)return b.some(f,h);H(b,function(b,m,p){if(l||(l=f.call(h,b,m,p)))return g});return!!l};m.include=m.contains=function(b,f){return b==null?false:V&&b.indexOf===V?b.indexOf(f)!=-1:Q(b,function(b){return b===f})};m.invoke=function(b,f){var g=s.call(arguments,2);return m.map(b,function(b){return(m.isFunction(f)?f||b:b[f]).apply(b,g)})};m.pluck=function(b,f){return m.map(b,
function(b){return b[f]})};m.max=function(b,f,g){if(!f&&m.isArray(b))return Math.max.apply(Math,b);if(!f&&m.isEmpty(b))return-Infinity;var h={computed:-Infinity};H(b,function(b,l,m){l=f?f.call(g,b,l,m):b;l>=h.computed&&(h={value:b,computed:l})});return h.value};m.min=function(b,f,g){if(!f&&m.isArray(b))return Math.min.apply(Math,b);if(!f&&m.isEmpty(b))return Infinity;var h={computed:Infinity};H(b,function(b,l,m){l=f?f.call(g,b,l,m):b;l<h.computed&&(h={value:b,computed:l})});return h.value};m.shuffle=
function(b){var f=[],g;H(b,function(b,h){h==0?f[0]=b:(g=Math.floor(Math.random()*(h+1)),f[h]=f[g],f[g]=b)});return f};m.sortBy=function(b,f,g){return m.pluck(m.map(b,function(b,h,l){return{value:b,criteria:f.call(g,b,h,l)}}).sort(function(b,f){var g=b.criteria,h=f.criteria;return g<h?-1:g>h?1:0}),"value")};m.groupBy=function(b,f){var g={},h=m.isFunction(f)?f:function(b){return b[f]};H(b,function(b,f){var l=h(b,f);(g[l]||(g[l]=[])).push(b)});return g};m.sortedIndex=function(b,f,g){g||(g=m.identity);
for(var h=0,l=b.length;h<l;){var r=h+l>>1;g(b[r])<g(f)?h=r+1:l=r}return h};m.toArray=function(b){return!b?[]:b.toArray?b.toArray():m.isArray(b)?s.call(b):m.isArguments(b)?s.call(b):m.values(b)};m.size=function(b){return m.toArray(b).length};m.first=m.head=function(b,f,g){return f!=null&&!g?s.call(b,0,f):b[0]};m.initial=function(b,f,g){return s.call(b,0,b.length-(f==null||g?1:f))};m.last=function(b,f,g){return f!=null&&!g?s.call(b,Math.max(b.length-f,0)):b[b.length-1]};m.rest=m.tail=function(b,f,g){return s.call(b,
f==null||g?1:f)};m.compact=function(b){return m.filter(b,function(b){return!!b})};m.flatten=function(b,f){return m.reduce(b,function(b,g){if(m.isArray(g))return b.concat(f?g:m.flatten(g));b[b.length]=g;return b},[])};m.without=function(b){return m.difference(b,s.call(arguments,1))};m.uniq=m.unique=function(b,f,g){var g=g?m.map(b,g):b,h=[];m.reduce(g,function(g,l,r){if(0==r||(f===true?m.last(g)!=l:!m.include(g,l))){g[g.length]=l;h[h.length]=b[r]}return g},[]);return h};m.union=function(){return m.uniq(m.flatten(arguments,
true))};m.intersection=m.intersect=function(b){var f=s.call(arguments,1);return m.filter(m.uniq(b),function(b){return m.every(f,function(f){return m.indexOf(f,b)>=0})})};m.difference=function(b){var f=m.flatten(s.call(arguments,1));return m.filter(b,function(b){return!m.include(f,b)})};m.zip=function(){for(var b=s.call(arguments),f=m.max(m.pluck(b,"length")),g=Array(f),h=0;h<f;h++)g[h]=m.pluck(b,""+h);return g};m.indexOf=function(b,f,g){if(b==null)return-1;var h;if(g)return g=m.sortedIndex(b,f),b[g]===
f?g:-1;if(V&&b.indexOf===V)return b.indexOf(f);g=0;for(h=b.length;g<h;g++)if(g in b&&b[g]===f)return g;return-1};m.lastIndexOf=function(b,f){if(b==null)return-1;if(ia&&b.lastIndexOf===ia)return b.lastIndexOf(f);for(var g=b.length;g--;)if(g in b&&b[g]===f)return g;return-1};m.range=function(b,f,g){arguments.length<=1&&(f=b||0,b=0);for(var g=arguments[2]||1,h=Math.max(Math.ceil((f-b)/g),0),l=0,m=Array(h);l<h;){m[l++]=b;b=b+g}return m};var Z=function(){};m.bind=function(b,f){var g,h;if(b.bind===x&&x)return x.apply(b,
s.call(arguments,1));if(!m.isFunction(b))throw new TypeError;h=s.call(arguments,2);return g=function(){if(!(this instanceof g))return b.apply(f,h.concat(s.call(arguments)));Z.prototype=b.prototype;var l=new Z,m=b.apply(l,h.concat(s.call(arguments)));return Object(m)===m?m:l}};m.bindAll=function(b){var f=s.call(arguments,1);f.length==0&&(f=m.functions(b));H(f,function(f){b[f]=m.bind(b[f],b)});return b};m.memoize=function(b,f){var g={};f||(f=m.identity);return function(){var h=f.apply(this,arguments);
return m.has(g,h)?g[h]:g[h]=b.apply(this,arguments)}};m.delay=function(b,f){var g=s.call(arguments,2);return setTimeout(function(){return b.apply(b,g)},f)};m.defer=function(b){return m.delay.apply(m,[b,1].concat(s.call(arguments,1)))};m.throttle=function(b,f){var g,h,l,r,q,x=m.debounce(function(){q=r=false},f);return function(){g=this;h=arguments;l||(l=setTimeout(function(){l=null;q&&b.apply(g,h);x()},f));r?q=true:b.apply(g,h);x();r=true}};m.debounce=function(b,f){var g;return function(){var h=this,
l=arguments;clearTimeout(g);g=setTimeout(function(){g=null;b.apply(h,l)},f)}};m.once=function(b){var f=false,g;return function(){if(f)return g;f=true;return g=b.apply(this,arguments)}};m.wrap=function(b,f){return function(){var g=[b].concat(s.call(arguments,0));return f.apply(this,g)}};m.compose=function(){var b=arguments;return function(){for(var f=arguments,g=b.length-1;g>=0;g--)f=[b[g].apply(this,f)];return f[0]}};m.after=function(b,f){return b<=0?f():function(){if(--b<1)return f.apply(this,arguments)}};
m.keys=r||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var f=[],g;for(g in b)m.has(b,g)&&(f[f.length]=g);return f};m.values=function(b){return m.map(b,m.identity)};m.functions=m.methods=function(b){var f=[],g;for(g in b)m.isFunction(b[g])&&f.push(g);return f.sort()};m.extend=function(b){H(s.call(arguments,1),function(f){for(var g in f)b[g]=f[g]});return b};m.defaults=function(b){H(s.call(arguments,1),function(f){for(var g in f)b[g]==null&&(b[g]=f[g])});return b};m.clone=function(b){return!m.isObject(b)?
b:m.isArray(b)?b.slice():m.extend({},b)};m.tap=function(b,f){f(b);return b};m.isEqual=function(b,f){return h(b,f,[])};m.isEmpty=function(b){if(m.isArray(b)||m.isString(b))return b.length===0;for(var f in b)if(m.has(b,f))return false;return true};m.isElement=function(b){return!!(b&&b.nodeType==1)};m.isArray=q||function(b){return C.call(b)=="[object Array]"};m.isObject=function(b){return b===Object(b)};m.isArguments=function(b){return C.call(b)=="[object Arguments]"};m.isArguments(arguments)||(m.isArguments=
function(b){return!(!b||!m.has(b,"callee"))});m.isFunction=function(b){return C.call(b)=="[object Function]"};m.isString=function(b){return C.call(b)=="[object String]"};m.isNumber=function(b){return C.call(b)=="[object Number]"};m.isNaN=function(b){return b!==b};m.isBoolean=function(b){return b===true||b===false||C.call(b)=="[object Boolean]"};m.isDate=function(b){return C.call(b)=="[object Date]"};m.isRegExp=function(b){return C.call(b)=="[object RegExp]"};m.isNull=function(b){return b===null};
m.isUndefined=function(b){return b===void 0};m.has=function(b,f){return F.call(b,f)};m.noConflict=function(){t._=b;return this};m.identity=function(b){return b};m.times=function(b,f,g){for(var h=0;h<b;h++)f.call(g,h)};m.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};m.mixin=function(b){H(m.functions(b),function(g){f(g,m[g]=b[g])})};var ma=0;m.uniqueId=function(b){var f=ma++;return b?
b+f:f};m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var fa=/.^/,z=function(b){return b.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};m.template=function(b,f){var g=m.templateSettings,g="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(g.escape||fa,function(b,f){return"',_.escape("+z(f)+"),'"}).replace(g.interpolate||fa,function(b,f){return"',"+z(f)+",'"}).replace(g.evaluate||
fa,function(b,f){return"');"+z(f).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",h=new Function("obj","_",g);return f?h(f,m):function(b){return h.call(this,b,m)}};m.chain=function(b){return m(b).chain()};var aa=function(b){this._wrapped=b};m.prototype=aa.prototype;var ja=function(b,f){return f?m(b).chain():b},f=function(b,f){aa.prototype[b]=function(){var b=s.call(arguments);K.call(b,this._wrapped);return ja(f.apply(m,
b),this._chain)}};m.mixin(m);H("pop,push,reverse,shift,sort,splice,unshift".split(","),function(b){var f=l[b];aa.prototype[b]=function(){var g=this._wrapped;f.apply(g,arguments);var h=g.length;(b=="shift"||b=="splice")&&h===0&&delete g[0];return ja(g,this._chain)}});H(["concat","join","slice"],function(b){var f=l[b];aa.prototype[b]=function(){return ja(f.apply(this._wrapped,arguments),this._chain)}});aa.prototype.chain=function(){this._chain=true;return this};aa.prototype.value=function(){return this._wrapped}}).call(this);(function(){var h=this,t=h.Backbone,b;b="undefined"!==typeof exports?exports:h.Backbone={};b.VERSION="0.5.3";var g=h._;!g&&"undefined"!==typeof require&&(g=require("underscore")._);var l=h.jQuery||h.Zepto;b.noConflict=function(){h.Backbone=t;return this};b.emulateHTTP=!1;b.emulateJSON=!1;b.Events={bind:function(b,g,h){var l=this._callbacks||(this._callbacks={});(l[b]||(l[b]=[])).push([g,h]);return this},unbind:function(b,g){var h;if(b){if(h=this._callbacks)if(g){h=h[b];if(!h)return this;for(var l=
0,q=h.length;l<q;l++)if(h[l]&&g===h[l][0]){h[l]=null;break}}else h[b]=[]}else this._callbacks={};return this},trigger:function(b){var g,h,l,q,s=2;if(!(h=this._callbacks))return this;for(;s--;)if(g=s?b:"all",g=h[g])for(var t=0,K=g.length;t<K;t++)(l=g[t])?(q=s?Array.prototype.slice.call(arguments,1):arguments,l[0].apply(l[1]||this,q)):(g.splice(t,1),t--,K--);return this}};b.Model=function(b,h){var l;b||(b={});if(l=this.defaults){g.isFunction(l)&&(l=l.call(this));b=g.extend({},l,b)}this.attributes={};
this._escapedAttributes={};this.cid=g.uniqueId("c");this.set(b,{silent:true});this._changed=false;this._previousAttributes=g.clone(this.attributes);if(h&&h.collection)this.collection=h.collection;this.initialize(b,h)};g.extend(b.Model.prototype,b.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return g.clone(this.attributes)},get:function(b){return this.attributes[b]},escape:function(b){var g;if(g=this._escapedAttributes[b])return g;g=this.attributes[b];
return this._escapedAttributes[b]=(g==null?"":""+g).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},has:function(b){return this.attributes[b]!=null},set:function(b,h){h||(h={});if(!b)return this;if(b.attributes)b=b.attributes;var l=this.attributes,q=this._escapedAttributes;if(!h.silent&&this.validate&&!this._performValidation(b,h))return false;if(this.idAttribute in b)this.id=b[this.idAttribute];
var s=this._changing;this._changing=true;for(var t in b){var K=b[t];if(!g.isEqual(l[t],K)){l[t]=K;delete q[t];this._changed=true;h.silent||this.trigger("change:"+t,this,K,h)}}!s&&!h.silent&&this._changed&&this.change(h);this._changing=false;return this},unset:function(b,g){if(!(b in this.attributes))return this;g||(g={});var h={};h[b]=void 0;if(!g.silent&&this.validate&&!this._performValidation(h,g))return false;delete this.attributes[b];delete this._escapedAttributes[b];b==this.idAttribute&&delete this.id;
this._changed=true;g.silent||(this.trigger("change:"+b,this,void 0,g),this.change(g));return this},clear:function(b){b||(b={});var g,h=this.attributes,l={};for(g in h)l[g]=void 0;if(!b.silent&&this.validate&&!this._performValidation(l,b))return false;this.attributes={};this._escapedAttributes={};this._changed=true;if(!b.silent){for(g in h)this.trigger("change:"+g,this,void 0,b);this.change(b)}return this},fetch:function(g){g||(g={});var h=this,l=g.success;g.success=function(b,q,s){if(!h.set(h.parse(b,
s),g))return false;l&&l(h,b)};g.error=ia(g.error,h,g);return(this.sync||b.sync).call(this,"read",this,g)},save:function(g,h){h||(h={});if(g&&!this.set(g,h))return false;var l=this,q=h.success;h.success=function(b,g,r){if(!l.set(l.parse(b,r),h))return false;q&&q(l,b,r)};h.error=ia(h.error,l,h);var s=this.isNew()?"create":"update";return(this.sync||b.sync).call(this,s,this,h)},destroy:function(g){g||(g={});if(this.isNew())return this.trigger("destroy",this,this.collection,g);var h=this,l=g.success;
g.success=function(b){h.trigger("destroy",h,h.collection,g);l&&l(h,b)};g.error=ia(g.error,h,g);return(this.sync||b.sync).call(this,"delete",this,g)},url:function(){var b=ba(this.collection)||this.urlRoot||V();return this.isNew()?b:b+(b.charAt(b.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(b){return b},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(b){this.trigger("change",this,b);this._previousAttributes=g.clone(this.attributes);
this._changed=false},hasChanged:function(b){return b?this._previousAttributes[b]!=this.attributes[b]:this._changed},changedAttributes:function(b){b||(b=this.attributes);var h=this._previousAttributes,l=false,q;for(q in b)g.isEqual(h[q],b[q])||(l=l||{},l[q]=b[q]);return l},previous:function(b){return!b||!this._previousAttributes?null:this._previousAttributes[b]},previousAttributes:function(){return g.clone(this._previousAttributes)},_performValidation:function(b,g){var h=this.validate(b);return h?
(g.error?g.error(this,h,g):this.trigger("error",this,h,g),false):true}});b.Collection=function(b,h){h||(h={});if(h.comparator)this.comparator=h.comparator;g.bindAll(this,"_onModelEvent","_removeReference");this._reset();b&&this.reset(b,{silent:true});this.initialize.apply(this,arguments)};g.extend(b.Collection.prototype,b.Events,{model:b.Model,initialize:function(){},toJSON:function(){return this.map(function(b){return b.toJSON()})},add:function(b,h){if(g.isArray(b))for(var l=0,q=b.length;l<q;l++)this._add(b[l],
h);else this._add(b,h);return this},remove:function(b,h){if(g.isArray(b))for(var l=0,q=b.length;l<q;l++)this._remove(b[l],h);else this._remove(b,h);return this},get:function(b){return b==null?null:this._byId[b.id!=null?b.id:b]},getByCid:function(b){return b&&this._byCid[b.cid||b]},at:function(b){return this.models[b]},sort:function(b){b||(b={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);b.silent||this.trigger("reset",this,b);
return this},pluck:function(b){return g.map(this.models,function(g){return g.get(b)})},reset:function(b,g){b||(b=[]);g||(g={});this.each(this._removeReference);this._reset();this.add(b,{silent:true});g.silent||this.trigger("reset",this,g);return this},fetch:function(g){g||(g={});var h=this,l=g.success;g.success=function(b,q,s){h[g.add?"add":"reset"](h.parse(b,s),g);l&&l(h,b)};g.error=ia(g.error,h,g);return(this.sync||b.sync).call(this,"read",this,g)},create:function(b,g){var h=this;g||(g={});b=this._prepareModel(b,
g);if(!b)return false;var l=g.success;g.success=function(b,r,q){h.add(b,g);l&&l(b,r,q)};b.save(null,g);return b},parse:function(b){return b},chain:function(){return g(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(g,h){if(g instanceof b.Model){if(!g.collection)g.collection=this}else{var l=g,g=new this.model(l,{collection:this});g.validate&&!g._performValidation(l,h)&&(g=false)}return g},_add:function(b,g){g||(g={});b=this._prepareModel(b,
g);if(!b)return false;var h=this.getByCid(b);if(h)throw Error(["Can't add the same model to a set twice",h.id]);this._byId[b.id]=b;this._byCid[b.cid]=b;this.models.splice(g.at!=null?g.at:this.comparator?this.sortedIndex(b,this.comparator):this.length,0,b);b.bind("all",this._onModelEvent);this.length++;g.silent||b.trigger("add",b,this,g);return b},_remove:function(b,g){g||(g={});b=this.getByCid(b)||this.get(b);if(!b)return null;delete this._byId[b.id];delete this._byCid[b.cid];this.models.splice(this.indexOf(b),
1);this.length--;g.silent||b.trigger("remove",b,this,g);this._removeReference(b);return b},_removeReference:function(b){this==b.collection&&delete b.collection;b.unbind("all",this._onModelEvent)},_onModelEvent:function(b,g,h,l){(b=="add"||b=="remove")&&h!=this||(b=="destroy"&&this._remove(g,l),g&&b==="change:"+g.idAttribute&&(delete this._byId[g.previous(g.idAttribute)],this._byId[g.id]=g),this.trigger.apply(this,arguments))}});g.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,rest,last,without,indexOf,lastIndexOf,isEmpty,groupBy".split(","),
function(h){b.Collection.prototype[h]=function(){return g[h].apply(g,[this.models].concat(g.toArray(arguments)))}});b.Router=function(b){b||(b={});if(b.routes)this.routes=b.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,s=/\*([\w\d]+)/g,K=/[-[\]{}()+?.,\\^$|#\s]/g;g.extend(b.Router.prototype,b.Events,{initialize:function(){},route:function(h,l,m){b.history||(b.history=new b.History);g.isRegExp(h)||(h=this._routeToRegExp(h));b.history.route(h,g.bind(function(b){b=
this._extractParameters(h,b);m.apply(this,b);this.trigger.apply(this,["route:"+l].concat(b))},this))},navigate:function(g,h){b.history.navigate(g,h)},_bindRoutes:function(){if(this.routes){var b=[],g;for(g in this.routes)b.unshift([g,this.routes[g]]);g=0;for(var h=b.length;g<h;g++)this.route(b[g][0],b[g][1],this[b[g][1]])}},_routeToRegExp:function(b){b=b.replace(K,"\\$&").replace(q,"([^/]*)").replace(s,"(.*?)");return RegExp("^"+b+"$")},_extractParameters:function(b,g){return b.exec(g).slice(1)}});
b.History=function(){this.handlers=[];g.bindAll(this,"checkUrl")};var C=/^#*/,F=/msie [\w.]+/,J=!1;g.extend(b.History.prototype,{interval:50,getFragment:function(b,g){if(b==null)if(this._hasPushState||g){var b=window.location.pathname,h=window.location.search;h&&(b=b+h);b.indexOf(this.options.root)==0&&(b=b.substr(this.options.root.length))}else b=window.location.hash;return decodeURIComponent(b.replace(C,""))},start:function(b){if(J)throw Error("Backbone.history has already been started");this.options=
g.extend({},{root:"/"},this.options,b);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var b=this.getFragment(),h=document.documentMode;if(h=F.exec(navigator.userAgent.toLowerCase())&&(!h||h<=7)){this.iframe=l('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(b)}this._hasPushState?l(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!h?l(window).bind("hashchange",
this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=b;J=true;b=window.location;h=b.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!h)return this.fragment=this.getFragment(null,true),window.location.replace(this.options.root+"#"+this.fragment),true;if(this._wantsPushState&&this._hasPushState&&h&&b.hash){this.fragment=b.hash.replace(C,"");window.history.replaceState({},document.title,b.protocol+"//"+b.host+this.options.root+this.fragment)}if(!this.options.silent)return this.loadUrl()},
route:function(b,g){this.handlers.unshift({route:b,callback:g})},checkUrl:function(){var b=this.getFragment();b==this.fragment&&this.iframe&&(b=this.getFragment(this.iframe.location.hash));if(b==this.fragment||b==decodeURIComponent(this.fragment))return false;this.iframe&&this.navigate(b);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(b){var h=this.fragment=this.getFragment(b);return g.any(this.handlers,function(b){if(b.route.test(h))return b.callback(h),true})},navigate:function(b,
g){var h=(b||"").replace(C,"");if(!(this.fragment==h||this.fragment==decodeURIComponent(h))){if(this._hasPushState){var l=window.location;h.indexOf(this.options.root)!=0&&(h=this.options.root+h);this.fragment=h;window.history.pushState({},document.title,l.protocol+"//"+l.host+h)}else if(window.location.hash=this.fragment=h,this.iframe&&h!=this.getFragment(this.iframe.location.hash)){this.iframe.document.open().close();this.iframe.location.hash=h}g&&this.loadUrl(b)}}});b.View=function(b){this.cid=
g.uniqueId("view");this._configure(b||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var W=/^(\S+)\s*(.*)$/,X="model,collection,el,id,attributes,className,tagName".split(",");g.extend(b.View.prototype,b.Events,{tagName:"div",$:function(b){return l(b,this.el)},initialize:function(){},render:function(){return this},remove:function(){l(this.el).remove();return this},make:function(b,g,h){b=document.createElement(b);g&&l(b).attr(g);h&&l(b).html(h);return b},delegateEvents:function(b){if(b||
(b=this.events))for(var h in g.isFunction(b)&&(b=b.call(this)),l(this.el).unbind(".delegateEvents"+this.cid),b){var m=this[b[h]];if(!m)throw Error('Event "'+b[h]+'" does not exist');var q=h.match(W),s=q[1],q=q[2],m=g.bind(m,this),s=s+(".delegateEvents"+this.cid);q===""?l(this.el).bind(s,m):l(this.el).delegate(q,s,m)}},_configure:function(b){this.options&&(b=g.extend({},this.options,b));for(var h=0,l=X.length;h<l;h++){var q=X[h];b[q]&&(this[q]=b[q])}this.options=b},_ensureElement:function(){if(this.el){if(g.isString(this.el))this.el=
l(this.el).get(0)}else{var b=this.attributes||{};if(this.id)b.id=this.id;if(this.className)b["class"]=this.className;this.el=this.make(this.tagName,b)}}});b.Model.extend=b.Collection.extend=b.Router.extend=b.View.extend=function(b,g){var h=pa(this,b,g);h.extend=this.extend;return h};var oa={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};b.sync=function(h,q,m){var s=oa[h],m=g.extend({type:s,dataType:"json"},m);if(!m.url)m.url=ba(q)||V();if(!m.data&&q&&(h=="create"||h=="update")){m.contentType=
"application/json";m.data=JSON.stringify(q.toJSON())}if(b.emulateJSON){m.contentType="application/x-www-form-urlencoded";m.data=m.data?{model:m.data}:{}}if(b.emulateHTTP&&(s==="PUT"||s==="DELETE")){if(b.emulateJSON)m.data._method=s;m.type="POST";m.beforeSend=function(b){b.setRequestHeader("X-HTTP-Method-Override",s)}}if(m.type!=="GET"&&!b.emulateJSON)m.processData=false;return l.ajax(m)};var la=function(){},pa=function(b,h,l){var q;q=h&&h.hasOwnProperty("constructor")?h.constructor:function(){return b.apply(this,
arguments)};g.extend(q,b);la.prototype=b.prototype;q.prototype=new la;h&&g.extend(q.prototype,h);l&&g.extend(q,l);q.prototype.constructor=q;q.__super__=b.prototype;return q},ba=function(b){return!b||!b.url?null:g.isFunction(b.url)?b.url():b.url},V=function(){throw Error('A "url" property or function must be specified');},ia=function(b,g,h){return function(l){b?b(g,l,h):g.trigger("error",g,l,h)}}}).call(this);Backbone.CartoDB=function(h,t,b){function g(b){this.sql=b}function l(b){return new g(b)}h=_.defaults(h,{USE_PROXY:!1,user:""});g.prototype.format=function(){var b=this.sql,g=arguments.length+1,h;for(i=0;i<g;h=arguments[i++])h="object"===typeof h?JSON.stringify(h):h,b=b.replace(RegExp("\\{"+(i-1)+"\\}","g"),h);return b};var q=h.path,t=t||function(b,g,h){var l=q,s=!0;h&&(l="api/v0/proxy/"+q,s=!1);1500<b.length?$.ajax({url:l,crossDomain:s,type:"POST",dataType:"json",data:"q="+encodeURIComponent(b),success:g,
error:function(){h?g():USE_PROXY&&t(b,g,true)}}):g(data)},h={setItem:function(){},getItem:function(){return null},removeItem:function(){}},b=b&&h,s=Backbone.Model.extend({_create_sql:function(){var b=l(" where {0} = '{1}'").format(this.columns[this.what],this.get(this.what).replace("'","''"));return"select "+this._sql_select().join(",")+" from "+this.table+b},_sql_select:function(){var b=[],g;for(g in this.columns){var h=this.columns[g];-1!==h.indexOf("ST_")||"the_geom"===h?b.push(l("ST_AsGeoJSON({1}) as {0}").format(g,
h)):b.push(l("{1} as {0}").format(g,h))}return b},_parse_columns:function(b){var g={},h;for(h in b){var l=b[h],q=this.columns[h];g[h]=-1!==q.indexOf("ST_")||"the_geom"===q?JSON.parse(l):b[h]}return g},fetch:function(){var b=this;t(this._create_sql(),function(g){b.set(b._parse_columns(g.rows[0]))})}}),h=Backbone.Collection.extend({_create_sql:function(){var b=this.table;_.isArray(this.table)||(b=[this.table]);b.join(",");b="select "+s.prototype._sql_select.call(this).join(",")+" from "+this.table;
this.where&&(b+=" WHERE "+this.where);this.order&&(b+=" order by "+this.order);return b},fetch:function(){var g=this,h=this.sql||this._create_sql();"function"===typeof h&&(h=h.call(this));var l=this.cache?b.getItem(h):!1;l?g.reset(JSON.parse(l)):t(h,function(l){if(this.cache)try{b.setItem(h,JSON.stringify(l.rows))}catch(q){}l=g.sql?l.rows:_.map(l.rows,function(b){return s.prototype._parse_columns.call(g,b)});g.reset(l)})}});return{query:t,CartoDBCollection:h,CartoDBModel:s,SQL:l}};(function(){var h=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=Class.implement=function(b){function g(){!h&&this.init&&this.init.apply(this,arguments)}var l=this.prototype;h=!0;var q=new this;h=!1;for(var s in b)q[s]="function"==typeof b[s]&&"function"==typeof l[s]&&t.test(b[s])?function(b,g){return function(){var h=this._super;this._super=l[b];var q=g.apply(this,arguments);this._super=h;return q}}(s,b[s]):b[s];g.prototype=q;g.constructor=g;g.extend=arguments.callee;
g.implement=arguments.callee;return g}})();var previousMM=MM;if(!com){var com={};com.modestmaps||(com.modestmaps={})}var MM=com.modestmaps={noConflict:function(){MM=previousMM;return this}};
(function(h){h.extend=function(b,g){for(var h in g.prototype)"undefined"==typeof b.prototype[h]&&(b.prototype[h]=g.prototype[h]);return b};h.getFrame=function(){return function(b){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(function(){b(+new Date)},10)})(b)}}();h.transformProperty=function(b){if(this.document){for(var g=document.documentElement.style,
h=0;h<b.length;h++)if(b[h]in g)return b[h];return!1}}(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]);h.matrixString=function(b){b.scale*b.width%1&&(b.scale+=(1-b.scale*b.width%1)/b.width);var g=b.scale||1;return h._browser.webkit3d?"scale3d("+g+","+g+", 1) translate3d("+b.x.toFixed(6)+"px,"+b.y.toFixed(6)+"px, 0px)":"scale("+g+","+g+") translate("+b.x.toFixed(6)+"px,"+b.y.toFixed(6)+"px)"};h._browser={webkit:"WebKitCSSMatrix"in this,webkit3d:"WebKitCSSMatrix"in
this&&"m11"in new WebKitCSSMatrix};h.moveElement=function(b,g){if(h.transformProperty){g.scale||(g.scale=1);g.width||(g.width=0);g.height||(g.height=0);var l=h.matrixString(g);b[h.transformProperty]!==l&&(b.style[h.transformProperty]=b[h.transformProperty]=l)}else b.style.left=g.x+"px",b.style.top=g.y+"px",g.width&&g.height&&g.scale&&(b.style.width=Math.ceil(g.width*g.scale)+"px",b.style.height=Math.ceil(g.height*g.scale)+"px")};h.cancelEvent=function(b){b.cancelBubble=!0;b.cancel=!0;b.returnValue=
!1;b.stopPropagation&&b.stopPropagation();b.preventDefault&&b.preventDefault();return!1};h.bind=function(b,g){var h=Array.prototype.slice,q=Function.prototype.bind;if(b.bind===q&&q)return q.apply(b,h.call(arguments,1));var s=h.call(arguments,2);return function(){return b.apply(g,s.concat(h.call(arguments)))}};h.coerceLayer=function(b){return"string"==typeof b?new h.Layer(new h.TemplatedMapProvider(b)):"draw"in b&&"function"==typeof b.draw?b:new h.Layer(b)};h.addEvent=function(b,g,h){b.addEventListener?
(b.addEventListener(g,h,!1),"mousewheel"==g&&b.addEventListener("DOMMouseScroll",h,!1)):b.attachEvent&&(b["e"+g+h]=h,b[g+h]=function(){b["e"+g+h](window.event)},b.attachEvent("on"+g,b[g+h]))};h.removeEvent=function(b,g,h){b.removeEventListener?(b.removeEventListener(g,h,!1),"mousewheel"==g&&b.removeEventListener("DOMMouseScroll",h,!1)):b.detachEvent&&(b.detachEvent("on"+g,b[g+h]),b[g+h]=null)};h.getStyle=function(b,g){if(b.currentStyle)return b.currentStyle[g];if(window.getComputedStyle)return document.defaultView.getComputedStyle(b,
null).getPropertyValue(g)};h.Point=function(b,g){this.x=parseFloat(b);this.y=parseFloat(g)};h.Point.prototype={x:0,y:0,toString:function(){return"("+this.x.toFixed(3)+", "+this.y.toFixed(3)+")"},copy:function(){return new h.Point(this.x,this.y)}};h.Point.distance=function(b,g){return Math.sqrt(Math.pow(g.x-b.x,2)+Math.pow(g.y-b.y,2))};h.Point.interpolate=function(b,g,l){return new h.Point(b.x+(g.x-b.x)*l,b.y+(g.y-b.y)*l)};h.Coordinate=function(b,g,h){this.row=b;this.column=g;this.zoom=h};h.Coordinate.prototype=
{row:0,column:0,zoom:0,toString:function(){return"("+this.row.toFixed(3)+", "+this.column.toFixed(3)+" @"+this.zoom.toFixed(3)+")"},toKey:function(){return this.zoom+","+this.row+","+this.column},copy:function(){return new h.Coordinate(this.row,this.column,this.zoom)},container:function(){return new h.Coordinate(Math.floor(this.row),Math.floor(this.column),Math.floor(this.zoom))},zoomTo:function(b){var g=Math.pow(2,b-this.zoom);return new h.Coordinate(this.row*g,this.column*g,b)},zoomBy:function(b){var g=
Math.pow(2,b);return new h.Coordinate(this.row*g,this.column*g,this.zoom+b)},up:function(b){void 0===b&&(b=1);return new h.Coordinate(this.row-b,this.column,this.zoom)},right:function(b){void 0===b&&(b=1);return new h.Coordinate(this.row,this.column+b,this.zoom)},down:function(b){void 0===b&&(b=1);return new h.Coordinate(this.row+b,this.column,this.zoom)},left:function(b){void 0===b&&(b=1);return new h.Coordinate(this.row,this.column-b,this.zoom)}};h.Location=function(b,g){this.lat=parseFloat(b);
this.lon=parseFloat(g)};h.Location.prototype={lat:0,lon:0,toString:function(){return"("+this.lat.toFixed(3)+", "+this.lon.toFixed(3)+")"},copy:function(){return new h.Location(this.lat,this.lon)}};h.Location.distance=function(b,g,h){h||(h=6378E3);var q=Math.PI/180,s=b.lat*q,t=b.lon*q,b=g.lat*q,q=g.lon*q,g=Math.cos(s)*Math.cos(t)*Math.cos(b)*Math.cos(q),t=Math.cos(s)*Math.sin(t)*Math.cos(b)*Math.sin(q),s=Math.sin(s)*Math.sin(b);return Math.acos(g+t+s)*h};h.Location.interpolate=function(b,g,l){if(b.lat===
g.lat&&b.lon===g.lon)return new h.Location(b.lat,b.lon);var q=Math.PI/180,s=b.lat*q,t=b.lon*q,b=g.lat*q,C=g.lon*q,F=2*Math.asin(Math.sqrt(Math.pow(Math.sin((s-b)/2),2)+Math.cos(s)*Math.cos(b)*Math.pow(Math.sin((t-C)/2),2)));Math.atan2(Math.sin(t-C)*Math.cos(b),Math.cos(s)*Math.sin(b)-Math.sin(s)*Math.cos(b)*Math.cos(t-C));g=Math.sin((1-l)*F)/Math.sin(F);F=Math.sin(l*F)/Math.sin(F);l=g*Math.cos(s)*Math.cos(t)+F*Math.cos(b)*Math.cos(C);t=g*Math.cos(s)*Math.sin(t)+F*Math.cos(b)*Math.sin(C);s=g*Math.sin(s)+
F*Math.sin(b);s=Math.atan2(s,Math.sqrt(Math.pow(l,2)+Math.pow(t,2)));b=Math.atan2(t,l);return new h.Location(s/q,b/q)};h.Extent=function(b,g,l,q){b instanceof h.Location&&g instanceof h.Location&&(l=b,q=g,b=l.lat,g=l.lon,l=q.lat,q=q.lon);isNaN(l)&&(l=b);isNaN(q)&&(q=g);this.north=Math.max(b,l);this.south=Math.min(b,l);this.east=Math.max(q,g);this.west=Math.min(q,g)};h.Extent.prototype={north:0,south:0,east:0,west:0,copy:function(){return new h.Extent(this.north,this.west,this.south,this.east)},toString:function(b){isNaN(b)&&
(b=3);return[this.north.toFixed(b),this.west.toFixed(b),this.south.toFixed(b),this.east.toFixed(b)].join(", ")},northWest:function(){return new h.Location(this.north,this.west)},southEast:function(){return new h.Location(this.south,this.east)},northEast:function(){return new h.Location(this.north,this.east)},southWest:function(){return new h.Location(this.south,this.west)},center:function(){return new h.Location(this.south+(this.north-this.south)/2,this.east+(this.west-this.east)/2)},encloseLocation:function(b){b.lat>
this.north&&(this.north=b.lat);b.lat<this.south&&(this.south=b.lat);b.lon>this.east&&(this.east=b.lon);b.lon<this.west&&(this.west=b.lon)},encloseLocations:function(b){for(var g=b.length,h=0;h<g;h++)this.encloseLocation(b[h])},setFromLocations:function(b){var g=b.length,h=b[0];this.north=this.south=h.lat;this.east=this.west=h.lon;for(h=1;h<g;h++)this.encloseLocation(b[h])},encloseExtent:function(b){b.north>this.north&&(this.north=b.north);b.south<this.south&&(this.south=b.south);b.east>this.east&&
(this.east=b.east);b.west<this.west&&(this.west=b.west)},containsLocation:function(b){return b.lat>=this.south&&b.lat<=this.north&&b.lon>=this.west&&b.lon<=this.east},toArray:function(){return[this.northWest(),this.southEast()]}};h.Extent.fromString=function(b){b=b.split(/\s*,\s*/);if(4!=b.length)throw"Invalid extent string (expecting 4 comma-separated numbers)";return new h.Extent(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]))};h.Extent.fromArray=function(b){var g=new h.Extent;
g.setFromLocations(b);return g};h.Transformation=function(b,g,h,q,s,t){this.ax=b;this.bx=g;this.cx=h;this.ay=q;this.by=s;this.cy=t};h.Transformation.prototype={ax:0,bx:0,cx:0,ay:0,by:0,cy:0,transform:function(b){return new h.Point(this.ax*b.x+this.bx*b.y+this.cx,this.ay*b.x+this.by*b.y+this.cy)},untransform:function(b){return new h.Point((b.x*this.by-b.y*this.bx-this.cx*this.by+this.cy*this.bx)/(this.ax*this.by-this.ay*this.bx),(b.x*this.ay-b.y*this.ax-this.cx*this.ay+this.cy*this.ax)/(this.bx*this.ay-
this.by*this.ax))}};h.deriveTransformation=function(b,g,l,q,s,t,C,F,J,W,X,oa){l=h.linearSolution(b,g,l,s,t,C,J,W,X);b=h.linearSolution(b,g,q,s,t,F,J,W,oa);return new h.Transformation(l[0],l[1],l[2],b[0],b[1],b[2])};h.linearSolution=function(b,g,h,q,s,t,C,F,J){var b=parseFloat(b),g=parseFloat(g),h=parseFloat(h),q=parseFloat(q),s=parseFloat(s),t=parseFloat(t),C=parseFloat(C),F=parseFloat(F),J=parseFloat(J),W=((t-J)*(g-s)-(h-t)*(s-F))/((q-C)*(g-s)-(b-q)*(s-F)),q=((t-J)*(b-q)-(h-t)*(q-C))/((s-F)*(b-q)-
(g-s)*(q-C));return[W,q,h-b*W-g*q]};h.Projection=function(b,g){g||(g=new h.Transformation(1,0,0,0,1,0));this.zoom=b;this.transformation=g};h.Projection.prototype={zoom:0,transformation:null,rawProject:function(){throw"Abstract method not implemented by subclass.";},rawUnproject:function(){throw"Abstract method not implemented by subclass.";},project:function(b){b=this.rawProject(b);this.transformation&&(b=this.transformation.transform(b));return b},unproject:function(b){this.transformation&&(b=this.transformation.untransform(b));
return b=this.rawUnproject(b)},locationCoordinate:function(b){b=new h.Point(Math.PI*b.lon/180,Math.PI*b.lat/180);b=this.project(b);return new h.Coordinate(b.y,b.x,this.zoom)},coordinateLocation:function(b){b=b.zoomTo(this.zoom);b=new h.Point(b.column,b.row);b=this.unproject(b);return new h.Location(180*b.y/Math.PI,180*b.x/Math.PI)}};h.LinearProjection=function(b,g){h.Projection.call(this,b,g)};h.LinearProjection.prototype={rawProject:function(b){return new h.Point(b.x,b.y)},rawUnproject:function(b){return new h.Point(b.x,
b.y)}};h.extend(h.LinearProjection,h.Projection);h.MercatorProjection=function(b,g){h.Projection.call(this,b,g)};h.MercatorProjection.prototype={rawProject:function(b){return new h.Point(b.x,Math.log(Math.tan(0.25*Math.PI+0.5*b.y)))},rawUnproject:function(b){return new h.Point(b.x,2*Math.atan(Math.pow(Math.E,b.y))-0.5*Math.PI)}};h.extend(h.MercatorProjection,h.Projection);h.MapProvider=function(b){b&&(this.getTile=b)};h.MapProvider.prototype={tileLimits:[new h.Coordinate(0,0,0),(new h.Coordinate(1,
1,0)).zoomTo(18)],getTileUrl:function(){throw"Abstract method not implemented by subclass.";},getTile:function(){throw"Abstract method not implemented by subclass.";},releaseTile:function(){},setZoomRange:function(b,g){this.tileLimits[0]=this.tileLimits[0].zoomTo(b);this.tileLimits[1]=this.tileLimits[1].zoomTo(g)},sourceCoordinate:function(b){var g=this.tileLimits[0].zoomTo(b.zoom),l=this.tileLimits[1].zoomTo(b.zoom),q=Math.pow(2,b.zoom),q=0>b.column?(b.column+q)%q:b.column%q;return b.row<g.row||
b.row>=l.row?null:q<g.column||q>=l.column?null:new h.Coordinate(b.row,q,b.zoom)}};h.TemplatedMapProvider=function(b,g){var l=b.match(/{(Q|quadkey)}/);l&&(b=b.replace("{subdomains}","{S}").replace("{zoom}","{Z}").replace("{quadkey}","{Q}"));var q=g&&g.length&&0<=b.indexOf("{S}");h.MapProvider.call(this,function(h){h=this.sourceCoordinate(h);if(!h)return null;var t=b;if(q)var C=parseInt(h.zoom+h.row+h.column,10)%g.length,t=t.replace("{S}",g[C]);return l?t.replace("{Z}",h.zoom.toFixed(0)).replace("{Q}",
this.quadKey(h.row,h.column,h.zoom)):t.replace("{Z}",h.zoom.toFixed(0)).replace("{X}",h.column.toFixed(0)).replace("{Y}",h.row.toFixed(0))})};h.TemplatedMapProvider.prototype={quadKey:function(b,g,h){for(var q="",s=1;s<=h;s++)q+=(b>>h-s&1)<<1|g>>h-s&1;return q||"0"},getTile:function(b){return this.getTileUrl(b)}};h.extend(h.TemplatedMapProvider,h.MapProvider);h.TemplatedLayer=function(b,g){return new h.Layer(new h.TemplatedMapProvider(b,g))};h.getMousePoint=function(b,g){var l=new h.Point(b.clientX,
b.clientY);l.x+=document.body.scrollLeft+document.documentElement.scrollLeft;l.y+=document.body.scrollTop+document.documentElement.scrollTop;for(var q=g.parent;q;q=q.offsetParent)l.x-=q.offsetLeft,l.y-=q.offsetTop;return l};h.MouseWheelHandler=function(b,g){b?this.init(b,g):1<arguments.length&&(this.precise=g?!0:!1)};h.MouseWheelHandler.prototype={precise:!1,init:function(b){this.map=b;this._mouseWheel=h.bind(this.mouseWheel,this);this._zoomDiv=document.body.appendChild(document.createElement("div"));
this._zoomDiv.style.cssText="visibility:hidden;top:0;height:0;width:0;overflow-y:scroll";this._zoomDiv.appendChild(document.createElement("div")).style.height="2000px";h.addEvent(b.parent,"mousewheel",this._mouseWheel)},remove:function(){h.removeEvent(this.map.parent,"mousewheel",this._mouseWheel);this._zoomDiv.parentNode.removeChild(this._zoomDiv)},mouseWheel:function(b){var g=0;this.prevTime=this.prevTime||(new Date).getTime();try{this._zoomDiv.scrollTop=1E3,this._zoomDiv.dispatchEvent(b),g=1E3-
this._zoomDiv.scrollTop}catch(l){g=b.wheelDelta||5*-b.detail}var q=(new Date).getTime()-this.prevTime;0<Math.abs(g)&&200<q&&!this.precise?(q=h.getMousePoint(b,this.map),this.map.zoomByAbout(0<g?1:-1,q),this.prevTime=(new Date).getTime()):this.precise&&(q=h.getMousePoint(b,this.map),this.map.zoomByAbout(0.0010*g,q));return h.cancelEvent(b)}};h.DoubleClickHandler=function(b){void 0!==b&&this.init(b)};h.DoubleClickHandler.prototype={init:function(b){this.map=b;this._doubleClick=h.bind(this.doubleClick,
this);h.addEvent(b.parent,"dblclick",this._doubleClick)},remove:function(){h.removeEvent(this.map.parent,"dblclick",this._doubleClick)},doubleClick:function(b){var g=h.getMousePoint(b,this.map);this.map.zoomByAbout(b.shiftKey?-1:1,g);return h.cancelEvent(b)}};h.DragHandler=function(b){void 0!==b&&this.init(b)};h.DragHandler.prototype={init:function(b){this.map=b;this._mouseDown=h.bind(this.mouseDown,this);h.addEvent(b.parent,"mousedown",this._mouseDown)},remove:function(){h.removeEvent(this.map.parent,
"mousedown",this._mouseDown)},mouseDown:function(b){h.addEvent(document,"mouseup",this._mouseUp=h.bind(this.mouseUp,this));h.addEvent(document,"mousemove",this._mouseMove=h.bind(this.mouseMove,this));this.prevMouse=new h.Point(b.clientX,b.clientY);this.map.parent.style.cursor="move";return h.cancelEvent(b)},mouseMove:function(b){this.prevMouse&&(this.map.panBy(b.clientX-this.prevMouse.x,b.clientY-this.prevMouse.y),this.prevMouse.x=b.clientX,this.prevMouse.y=b.clientY,this.prevMouse.t=+new Date);return h.cancelEvent(b)},
mouseUp:function(b){h.removeEvent(document,"mouseup",this._mouseUp);h.removeEvent(document,"mousemove",this._mouseMove);this.prevMouse=null;this.map.parent.style.cursor="";return h.cancelEvent(b)}};h.MouseHandler=function(b){void 0!==b&&this.init(b)};h.MouseHandler.prototype={init:function(b){this.map=b;this.handlers=[new h.DragHandler(b),new h.DoubleClickHandler(b),new h.MouseWheelHandler(b)]},remove:function(){for(var b=0;b<this.handlers.length;b++)this.handlers[b].remove()}};var t=function(){var b=
window.documentMode;return"onhashchange"in window&&(void 0===b||7<b)}();h.Hash=function(b){this.onMapMove=h.bind(this.onMapMove,this);this.onHashChange=h.bind(this.onHashChange,this);b&&this.init(b)};h.Hash.prototype={map:null,lastHash:null,parseHash:function(b){var g=b.split("/");if(3==g.length){var b=parseInt(g[0],10),l=parseFloat(g[1]),g=parseFloat(g[2]);return isNaN(b)||isNaN(l)||isNaN(g)?!1:{center:new h.Location(l,g),zoom:b}}return!1},formatHash:function(b){var g=b.getCenter(),b=b.getZoom(),
h=Math.max(0,Math.ceil(Math.log(b)/Math.LN2));return"#"+[b,g.lat.toFixed(h),g.lon.toFixed(h)].join("/")},init:function(b){this.map=b;this.map.addCallback("drawn",this.onMapMove);this.lastHash=null;this.onHashChange();this.isListening||this.startListening()},remove:function(){this.map=null;this.isListening&&this.stopListening()},onMapMove:function(b){if(this.movingMap||0===this.map.zoom)return!1;b=this.formatHash(b);this.lastHash!=b&&(location.replace(b),this.lastHash=b)},movingMap:!1,update:function(){var b=
location.hash;if(b!==this.lastHash)if(b=this.parseHash(b.substr(1)))this.movingMap=!0,this.map.setCenterZoom(b.center,b.zoom),this.movingMap=!1;else this.onMapMove(this.map)},changeDefer:100,changeTimeout:null,onHashChange:function(){if(!this.changeTimeout){var b=this;this.changeTimeout=setTimeout(function(){b.update();b.changeTimeout=null},this.changeDefer)}},isListening:!1,hashChangeInterval:null,startListening:function(){t?window.addEventListener("hashchange",this.onHashChange,!1):(clearInterval(this.hashChangeInterval),
this.hashChangeInterval=setInterval(this.onHashChange,50));this.isListening=!0},stopListening:function(){t?window.removeEventListener("hashchange",this.onHashChange):clearInterval(this.hashChangeInterval);this.isListening=!1}};h.TouchHandler=function(b,g){b&&this.init(b,g)};h.TouchHandler.prototype={maxTapTime:250,maxTapDistance:30,maxDoubleTapDelay:350,locations:{},taps:[],wasPinching:!1,lastPinchCenter:null,init:function(b,g){this.map=b;g=g||{};if(!this.isTouchable())return!1;this._touchStartMachine=
h.bind(this.touchStartMachine,this);this._touchMoveMachine=h.bind(this.touchMoveMachine,this);this._touchEndMachine=h.bind(this.touchEndMachine,this);h.addEvent(b.parent,"touchstart",this._touchStartMachine);h.addEvent(b.parent,"touchmove",this._touchMoveMachine);h.addEvent(b.parent,"touchend",this._touchEndMachine);this.options={};this.options.snapToZoom=g.snapToZoom||!0},isTouchable:function(){var b=document.createElement("div");b.setAttribute("ongesturestart","return;");return"function"===typeof b.ongesturestart},
remove:function(){if(!this.isTouchable())return!1;h.removeEvent(this.map.parent,"touchstart",this._touchStartMachine);h.removeEvent(this.map.parent,"touchmove",this._touchMoveMachine);h.removeEvent(this.map.parent,"touchend",this._touchEndMachine)},updateTouches:function(b){for(var g=0;g<b.touches.length;g+=1){var h=b.touches[g];if(h.identifier in this.locations){var q=this.locations[h.identifier];q.x=h.screenX;q.y=h.screenY;q.scale=b.scale}else this.locations[h.identifier]={scale:b.scale,startPos:{x:h.screenX,
y:h.screenY},x:h.screenX,y:h.screenY,time:(new Date).getTime()}}},sameTouch:function(b,g){return b&&b.touch&&g.identifier==b.touch.identifier},touchStartMachine:function(b){this.updateTouches(b);return h.cancelEvent(b)},touchMoveMachine:function(b){switch(b.touches.length){case 1:this.onPanning(b.touches[0]);break;case 2:this.onPinching(b)}this.updateTouches(b);return h.cancelEvent(b)},touchEndMachine:function(b){var g=(new Date).getTime();if(0===b.touches.length&&this.wasPinching)this.onPinched(this.lastPinchCenter);
for(var l=0;l<b.changedTouches.length;l+=1){var q=b.changedTouches[l],s=this.locations[q.identifier];if(s&&!s.wasPinch){var q={x:q.screenX,y:q.screenY},t=g-s.time;h.Point.distance(q,s.startPos)>this.maxTapDistance||(t>this.maxTapTime?(q.end=g,q.duration=t,this.onHold(q)):(q.time=g,this.onTap(q)))}}g={};for(l=0;l<b.touches.length;l++)g[b.touches[l].identifier]=!0;for(var C in this.locations)C in g||delete g[C];return h.cancelEvent(b)},onHold:function(){},onTap:function(b){this.taps.length&&b.time-
this.taps[0].time<this.maxDoubleTapDelay?(this.onDoubleTap(b),this.taps=[]):this.taps=[b]},onDoubleTap:function(b){var g=this.map.getZoom(),g=Math.round(g)+1-g,b=new h.Point(b.x,b.y);this.map.zoomByAbout(g,b)},onPanning:function(b){var g=this.locations[b.identifier];this.map.panBy(b.screenX-g.x,b.screenY-g.y)},onPinching:function(b){var g=b.touches[0],l=b.touches[1],q=new h.Point(g.screenX,g.screenY),s=new h.Point(l.screenX,l.screenY),g=this.locations[g.identifier],l=this.locations[l.identifier];
g.wasPinch=!0;l.wasPinch=!0;q=h.Point.interpolate(q,s,0.5);this.map.zoomByAbout(Math.log(b.scale)/Math.LN2-Math.log(g.scale)/Math.LN2,q);b=h.Point.interpolate(g,l,0.5);this.map.panBy(q.x-b.x,q.y-b.y);this.wasPinching=!0;this.lastPinchCenter=q},onPinched:function(b){if(this.options.snapToZoom){var g=this.map.getZoom();this.map.zoomByAbout(Math.round(g)-g,b)}this.wasPinching=!1}};h.CallbackManager=function(b,g){this.owner=b;this.callbacks={};for(var h=0;h<g.length;h++)this.callbacks[g[h]]=[]};h.CallbackManager.prototype=
{owner:null,callbacks:null,addCallback:function(b,g){"function"==typeof g&&this.callbacks[b]&&this.callbacks[b].push(g)},removeCallback:function(b,g){if("function"==typeof g&&this.callbacks[b])for(var h=this.callbacks[b],q=h.length,s=0;s<q;s++)if(h[s]===g){h.splice(s,1);break}},dispatchCallback:function(b,g){if(this.callbacks[b])for(var h=0;h<this.callbacks[b].length;h+=1)try{this.callbacks[b][h](this.owner,g)}catch(q){}}};h.RequestManager=function(){this.loadingBay=document.createDocumentFragment();
this.requestsById={};this.openRequestCount=0;this.maxOpenRequests=4;this.requestQueue=[];this.callbackManager=new h.CallbackManager(this,["requestcomplete","requesterror"])};h.RequestManager.prototype={loadingBay:null,requestsById:null,requestQueue:null,openRequestCount:null,maxOpenRequests:null,callbackManager:null,addCallback:function(b,g){this.callbackManager.addCallback(b,g)},removeCallback:function(b,g){this.callbackManager.removeCallback(b,g)},dispatchCallback:function(b,g){this.callbackManager.dispatchCallback(b,
g)},clear:function(){this.clearExcept({})},clearRequest:function(b){b in this.requestsById&&delete this.requestsById[b];for(var g=0;g<this.requestQueue.length;g++){var h=this.requestQueue[g];h&&h.id==b&&(this.requestQueue[g]=null)}},clearExcept:function(b){for(var g=0;g<this.requestQueue.length;g++){var h=this.requestQueue[g];h&&!(h.id in b)&&(this.requestQueue[g]=null)}g=this.loadingBay.childNodes;for(h=g.length-1;0<=h;h--){var q=g[h];q.id in b||(this.loadingBay.removeChild(q),this.openRequestCount--,
q.src=q.coord=q.onload=q.onerror=null)}for(var s in this.requestsById)!(s in b)&&this.requestsById.hasOwnProperty(s)&&(g=this.requestsById[s],delete this.requestsById[s],null!==g&&(g.id=g.coord=g.url=null))},hasRequest:function(b){return b in this.requestsById},requestTile:function(b,g,h){b in this.requestsById||(g={id:b,coord:g.copy(),url:h},this.requestsById[b]=g,h&&this.requestQueue.push(g))},getProcessQueue:function(){if(!this._processQueue){var b=this;this._processQueue=function(){b.processQueue()}}return this._processQueue},
processQueue:function(b){for(b&&8<this.requestQueue.length&&this.requestQueue.sort(b);this.openRequestCount<this.maxOpenRequests&&0<this.requestQueue.length;)if(b=this.requestQueue.pop()){this.openRequestCount++;var g=document.createElement("img");g.id=b.id;g.style.position="absolute";g.coord=b.coord;this.loadingBay.appendChild(g);g.onload=g.onerror=this.getLoadComplete();g.src=b.url;b.id=b.coord=b.url=null}},_loadComplete:null,getLoadComplete:function(){if(!this._loadComplete){var b=this;this._loadComplete=
function(g){var g=g||window.event,h=g.srcElement||g.target;h.onload=h.onerror=null;b.loadingBay.removeChild(h);b.openRequestCount--;delete b.requestsById[h.id];"load"===g.type&&(h.complete||h.readyState&&"complete"==h.readyState)?b.dispatchCallback("requestcomplete",h):(b.dispatchCallback("requesterror",h.src),h.src=null);setTimeout(b.getProcessQueue(),0)}}return this._loadComplete}};h.Layer=function(b,g){this.parent=g||document.createElement("div");this.parent.style.cssText="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; margin: 0; padding: 0; z-index: 0";
this.levels={};this.requestManager=new h.RequestManager;this.requestManager.addCallback("requestcomplete",this.getTileComplete());b&&this.setProvider(b)};h.Layer.prototype={map:null,parent:null,tiles:null,levels:null,requestManager:null,tileCacheSize:null,maxTileCacheSize:null,provider:null,recentTiles:null,recentTilesById:{},enablePyramidLoading:!1,_tileComplete:null,getTileComplete:function(){if(!this._tileComplete){var b=this;this._tileComplete=function(g,h){b.tiles[h.id]=h;b.tileCacheSize++;var q=
{id:h.id,lastTouchedTime:(new Date).getTime()};b.recentTilesById[h.id]=q;b.recentTiles.push(q);b.positionTile(h)}}return this._tileComplete},draw:function(){var b=Math.round(this.map.coordinate.zoom),g=this.map.pointCoordinate(new h.Point(0,0)).zoomTo(b).container(),l=this.map.pointCoordinate(this.map.dimensions).zoomTo(b).container().right().down(),b={},q=this.createOrGetLevel(g.zoom),s=g.copy();for(s.column=g.column;s.column<=l.column;s.column++)for(s.row=g.row;s.row<=l.row;s.row++)for(var t=this.inventoryVisibleTile(q,
s);t.length;)b[t.pop()]=!0;for(var C in this.levels)if(this.levels.hasOwnProperty(C)&&(l=parseInt(C,10),!(l>=g.zoom-5&&l<g.zoom+2))){l=this.levels[C];l.style.display="none";for(q=this.tileElementsInLevel(l);q.length;)this.provider.releaseTile(q[0].coord),this.requestManager.clearRequest(q[0].coord.toKey()),l.removeChild(q[0]),q.shift()}C=g.zoom+2;for(g=g.zoom-5;g<C;g++)this.adjustVisibleLevel(this.levels[g],g,b);this.requestManager.clearExcept(b);this.requestManager.processQueue(this.getCenterDistanceCompare());
this.checkCache()},inventoryVisibleTile:function(b,g){var h=g.toKey(),q=[h];if(h in this.tiles){var s=this.tiles[h];s.parentNode!=b&&(b.appendChild(s),"reAddTile"in this.provider&&this.provider.reAddTile(h,g,s));return q}this.requestManager.hasRequest(h)||(s=this.provider.getTile(g),"string"==typeof s?this.addTileImage(h,g,s):s&&this.addTileElement(h,g,s));for(var h=!1,s=g.zoom,t=1;t<=s;t++){var C=g.zoomBy(-t).container(),F=C.toKey();if(this.enablePyramidLoading){q.push(F);var J=this.createOrGetLevel(C.zoom);
F in this.tiles?(C=this.tiles[F],C.parentNode!=J&&J.appendChild(C)):this.requestManager.hasRequest(F)||(J=this.provider.getTile(C),"string"==typeof J?this.addTileImage(F,C,J):this.addTileElement(F,C,J))}else if(F in this.tiles){q.push(F);h=!0;break}}!h&&!this.enablePyramidLoading&&(h=g.zoomBy(1),q.push(h.toKey()),h.column+=1,q.push(h.toKey()),h.row+=1,q.push(h.toKey()),h.column-=1,q.push(h.toKey()));return q},tileElementsInLevel:function(b){for(var g=[],b=b.firstChild;b;b=b.nextSibling)1==b.nodeType&&
g.push(b);return g},adjustVisibleLevel:function(b,g,l){var q=(new Date).getTime();if(b){var s=1,t=this.map.coordinate.copy();0<b.childNodes.length?(b.style.display="block",s=Math.pow(2,this.map.coordinate.zoom-g),t=t.zoomTo(g)):b.style.display="none";for(var g=new h.Point(this.map.dimensions.x/2,this.map.dimensions.y/2),C=this.tileElementsInLevel(b);C.length;){var F=C.pop();l[F.id]?this.recentTilesById[F.id].lastTouchedTime=q:(this.provider.releaseTile(F.coord),this.requestManager.clearRequest(F.coord.toKey()),
b.removeChild(F))}h.moveElement(b,{x:-(256*t.column)+g.x,y:-(256*t.row)+g.y,scale:s})}},createOrGetLevel:function(b){if(b in this.levels)return this.levels[b];var g=document.createElement("div");g.id=this.parent.id+"-zoom-"+b;g.style.cssText=this.parent.style.cssText;g.style.zIndex=b;this.parent.appendChild(g);return this.levels[b]=g},addTileImage:function(b,g,h){this.requestManager.requestTile(b,g,h)},addTileElement:function(b,g,h){h.id=b;h.coord=g.copy();this.tiles[b]=h;this.tileCacheSize++;g={id:b,
lastTouchedTime:(new Date).getTime()};this.recentTilesById[b]=g;this.recentTiles.push(g);this.positionTile(h)},positionTile:function(b){this.map.coordinate.zoomTo(b.coord.zoom);b.style.cssText="position:absolute;-webkit-user-select: none;-webkit-user-drag: none;-moz-user-drag: none;";b.ondragstart=function(){return!1};var g=b.coord.row*this.map.tileSize.y;h.moveElement(b,{x:Math.round(b.coord.column*this.map.tileSize.x),y:Math.round(g),width:this.map.tileSize.x,height:this.map.tileSize.y});g=this.levels[b.coord.zoom];
g.appendChild(b);b.className="map-tile-loaded";Math.round(this.map.coordinate.zoom)==b.coord.zoom&&(g.style.display="block");this.requestRedraw()},_redrawTimer:void 0,requestRedraw:function(){this._redrawTimer||(this._redrawTimer=setTimeout(this.getRedraw(),1E3))},_redraw:null,getRedraw:function(){if(!this._redraw){var b=this;this._redraw=function(){b.draw();b._redrawTimer=0}}return this._redraw},numTilesOnScreen:function(){var b=0,g;for(g in this.levels)this.levels.hasOwnProperty(g)&&(b+=this.tileElementsInLevel(this.levels[g]).length);
return b},checkCache:function(){var b=Math.max(this.numTilesOnScreen(),this.maxTileCacheSize);for(this.tileCacheSize>b&&this.recentTiles.sort(function(b,g){return g.lastTouchedTime<b.lastTouchedTime?-1:g.lastTouchedTime>b.lastTouchedTime?1:0});this.recentTiles.length&&this.tileCacheSize>b;){var g=this.recentTiles.pop();(new Date).getTime();delete this.recentTilesById[g.id];this.tiles[g.id].parentNode?alert("Gah: trying to removing cached tile even though it's still in the DOM"):(delete this.tiles[g.id],
this.tileCacheSize--)}},setProvider:function(b){var g=null===this.provider;if(!g){this.requestManager.clear();for(var h in this.levels)if(this.levels.hasOwnProperty(h))for(var q=this.levels[h];q.firstChild;)this.provider.releaseTile(q.firstChild.coord),q.removeChild(q.firstChild)}this.tiles={};this.tileCacheSize=0;this.maxTileCacheSize=64;this.recentTilesById={};this.recentTiles=[];this.provider=b;g||this.draw()},getCenterDistanceCompare:function(){var b=this.map.coordinate.zoomTo(Math.round(this.map.coordinate.zoom));
return function(g,h){if(g&&h){var q=g.coord,s=h.coord;return q.zoom==s.zoom?(q=Math.abs(b.row-q.row-0.5)+Math.abs(b.column-q.column-0.5),s=Math.abs(b.row-s.row-0.5)+Math.abs(b.column-s.column-0.5),q<s?1:q>s?-1:0):q.zoom<s.zoom?1:q.zoom>s.zoom?-1:0}return g?1:h?-1:0}},destroy:function(){this.requestManager.clear();this.requestManager.removeCallback("requestcomplete",this.getTileComplete());this.provider=null;this.parent.parentNode&&this.parent.parentNode.removeChild(this.parent);this.map=null}};h.Map=
function(b,g,l,q){if("string"==typeof b&&(b=document.getElementById(b),!b))throw"The ID provided to modest maps could not be found.";this.parent=b;this.parent.style.padding="0";this.parent.style.overflow="hidden";b=h.getStyle(this.parent,"position");"relative"!=b&&"absolute"!=b&&(this.parent.style.position="relative");this.layers=[];g instanceof Array||(g=[g]);for(b=0;b<g.length;b++)this.addLayer(g[b]);this.projection=new h.MercatorProjection(0,h.deriveTransformation(-Math.PI,Math.PI,0,0,Math.PI,
Math.PI,1,0,-Math.PI,-Math.PI,0,1));this.tileSize=new h.Point(256,256);this.coordLimits=[new h.Coordinate(0,-Infinity,0),(new h.Coordinate(1,Infinity,0)).zoomTo(18)];this.coordinate=new h.Coordinate(0.5,0.5,0);l?(this.autoSize=!1,this.parent.style.width=Math.round(l.x)+"px",this.parent.style.height=Math.round(l.y)+"px"):(l=new h.Point(this.parent.offsetWidth,this.parent.offsetHeight),this.autoSize=!0,h.addEvent(window,"resize",this.windowResize()));this.dimensions=l;this.callbackManager=new h.CallbackManager(this,
"zoomed,panned,centered,extentset,resized,drawn".split(","));if(void 0===q)this.eventHandlers=[new h.MouseHandler(this),new h.TouchHandler(this)];else if(this.eventHandlers=q,q instanceof Array)for(g=0;g<q.length;g++)q[g].init(this)};h.Map.prototype={parent:null,dimensions:null,projection:null,coordinate:null,tileSize:null,coordLimits:null,layers:null,callbackManager:null,eventHandlers:null,autoSize:null,toString:function(){return"Map(#"+this.parent.id+")"},addCallback:function(b,g){this.callbackManager.addCallback(b,
g);return this},removeCallback:function(b,g){this.callbackManager.removeCallback(b,g);return this},dispatchCallback:function(b,g){this.callbackManager.dispatchCallback(b,g);return this},windowResize:function(){if(!this._windowResize){var b=this;this._windowResize=function(){b.dimensions=new h.Point(b.parent.offsetWidth,b.parent.offsetHeight);b.draw();b.dispatchCallback("resized",[b.dimensions])}}return this._windowResize},setZoomRange:function(b,g){this.coordLimits[0]=this.coordLimits[0].zoomTo(b);
this.coordLimits[1]=this.coordLimits[1].zoomTo(g)},zoomBy:function(b){this.coordinate=this.enforceLimits(this.coordinate.zoomBy(b));h.getFrame(this.getRedraw());this.dispatchCallback("zoomed",b);return this},zoomIn:function(){return this.zoomBy(1)},zoomOut:function(){return this.zoomBy(-1)},setZoom:function(b){return this.zoomBy(b-this.coordinate.zoom)},zoomByAbout:function(b,g){var h=this.pointLocation(g);this.coordinate=this.enforceLimits(this.coordinate.zoomBy(b));h=this.locationPoint(h);this.dispatchCallback("zoomed",
b);return this.panBy(g.x-h.x,g.y-h.y)},panBy:function(b,g){this.coordinate.column-=b/this.tileSize.x;this.coordinate.row-=g/this.tileSize.y;this.coordinate=this.enforceLimits(this.coordinate);h.getFrame(this.getRedraw());this.dispatchCallback("panned",[b,g]);return this},panLeft:function(){return this.panBy(100,0)},panRight:function(){return this.panBy(-100,0)},panDown:function(){return this.panBy(0,-100)},panUp:function(){return this.panBy(0,100)},setCenter:function(b){return this.setCenterZoom(b,
this.coordinate.zoom)},setCenterZoom:function(b,g){this.coordinate=this.projection.locationCoordinate(b).zoomTo(parseFloat(g)||0);h.getFrame(this.getRedraw());this.dispatchCallback("centered",[b,g]);return this},setExtent:function(b,g){b instanceof h.Extent&&(b=b.toArray());for(var l,q,s=0;s<b.length;s++){var t=this.projection.locationCoordinate(b[s]);l?(l.row=Math.min(l.row,t.row),l.column=Math.min(l.column,t.column),l.zoom=Math.min(l.zoom,t.zoom),q.row=Math.max(q.row,t.row),q.column=Math.max(q.column,
t.column),q.zoom=Math.max(q.zoom,t.zoom)):(l=t.copy(),q=t.copy())}t=this.dimensions.y+1;s=Math.log((q.column-l.column)/((this.dimensions.x+1)/this.tileSize.x))/Math.log(2);s=l.zoom-(g?s:Math.ceil(s));t=Math.log((q.row-l.row)/(t/this.tileSize.y))/Math.log(2);t=l.zoom-(g?t:Math.ceil(t));s=Math.min(s,t);s=Math.min(s,this.coordLimits[1].zoom);s=Math.max(s,this.coordLimits[0].zoom);this.coordinate=(new h.Coordinate((l.row+q.row)/2,(l.column+q.column)/2,l.zoom)).zoomTo(s);this.draw();this.dispatchCallback("extentset",
b);return this},setSize:function(b){this.dimensions=new h.Point(b.x,b.y);this.parent.style.width=Math.round(this.dimensions.x)+"px";this.parent.style.height=Math.round(this.dimensions.y)+"px";this.autoSize&&(h.removeEvent(window,"resize",this.windowResize()),this.autoSize=!1);this.draw();this.dispatchCallback("resized",this.dimensions);return this},coordinatePoint:function(b){b.zoom!=this.coordinate.zoom&&(b=b.zoomTo(this.coordinate.zoom));var g=new h.Point(this.dimensions.x/2,this.dimensions.y/2);
g.x+=this.tileSize.x*(b.column-this.coordinate.column);g.y+=this.tileSize.y*(b.row-this.coordinate.row);return g},pointCoordinate:function(b){var g=this.coordinate.copy();g.column+=(b.x-this.dimensions.x/2)/this.tileSize.x;g.row+=(b.y-this.dimensions.y/2)/this.tileSize.y;return g},locationCoordinate:function(b){return this.projection.locationCoordinate(b)},coordinateLocation:function(b){return this.projection.coordinateLocation(b)},locationPoint:function(b){return this.coordinatePoint(this.locationCoordinate(b))},
pointLocation:function(b){return this.coordinateLocation(this.pointCoordinate(b))},getExtent:function(){return new h.Extent(this.pointLocation(new h.Point(0,0)),this.pointLocation(this.dimensions))},extent:function(b,g){return b?this.setExtent(b,g):this.getExtent()},getCenter:function(){return this.projection.coordinateLocation(this.coordinate)},center:function(b){return b?this.setCenter(b):this.getCenter()},getZoom:function(){return this.coordinate.zoom},zoom:function(b){return void 0!==b?this.setZoom(b):
this.getZoom()},getLayers:function(){return this.layers.slice()},getLayerAt:function(b){return this.layers[b]},addLayer:function(b){this.layers.push(b);this.parent.appendChild(b.parent);b.map=this;return this},removeLayer:function(b){for(var g=0;g<this.layers.length;g++)if(b==this.layers[g]){this.removeLayerAt(g);break}return this},setLayerAt:function(b,g){if(0>b||b>=this.layers.length)throw Error("invalid index in setLayerAt(): "+b);this.layers[b]!=g&&(b<this.layers.length&&this.layers[b].destroy(),
this.layers[b]=g,this.parent.appendChild(g.parent),g.map=this,h.getFrame(this.getRedraw()));return this},insertLayerAt:function(b,g){if(0>b||b>this.layers.length)throw Error("invalid index in insertLayerAt(): "+b);b==this.layers.length?(this.layers.push(g),this.parent.appendChild(g.parent)):(this.parent.insertBefore(g.parent,this.layers[b].parent),this.layers.splice(b,0,g));g.map=this;h.getFrame(this.getRedraw());return this},removeLayerAt:function(b){if(0>b||b>=this.layers.length)throw Error("invalid index in removeLayer(): "+
b);var g=this.layers[b];this.layers.splice(b,1);g.destroy();return this},swapLayersAt:function(b,g){if(0>b||b>=this.layers.length||0>g||g>=this.layers.length)throw Error("invalid index in swapLayersAt(): "+index);var h=this.layers[b],q=this.layers[g],s=document.createElement("div");this.parent.replaceChild(s,q.parent);this.parent.replaceChild(q.parent,h.parent);this.parent.replaceChild(h.parent,s);this.layers[b]=q;this.layers[g]=h;return this},enforceZoomLimits:function(b){var g=this.coordLimits;
if(g){var h=g[0].zoom,g=g[1].zoom;b.zoom<h?b=b.zoomTo(h):b.zoom>g&&(b=b.zoomTo(g))}return b},enforcePanLimits:function(b){if(this.coordLimits){var b=b.copy(),g=this.coordLimits[0].zoomTo(b.zoom),l=this.coordLimits[1].zoomTo(b.zoom),q=this.pointCoordinate(new h.Point(0,0)).zoomTo(b.zoom),s=this.pointCoordinate(this.dimensions).zoomTo(b.zoom);l.row-g.row<s.row-q.row?b.row=(l.row+g.row)/2:q.row<g.row?b.row+=g.row-q.row:s.row>l.row&&(b.row-=s.row-l.row);l.column-g.column<s.column-q.column?b.column=(l.column+
g.column)/2:q.column<g.column?b.column+=g.column-q.column:s.column>l.column&&(b.column-=s.column-l.column)}return b},enforceLimits:function(b){return this.enforcePanLimits(this.enforceZoomLimits(b))},draw:function(){this.coordinate=this.enforceLimits(this.coordinate);if(0>=this.dimensions.x||0>=this.dimensions.y)if(this.autoSize){var b=this.parent.offsetWidth,g=this.parent.offsetHeight;this.dimensions=new h.Point(b,g);if(0>=b||0>=g)return}else return;for(b=0;b<this.layers.length;b++)this.layers[b].draw();
this.dispatchCallback("drawn")},_redrawTimer:void 0,requestRedraw:function(){this._redrawTimer||(this._redrawTimer=setTimeout(this.getRedraw(),1E3))},_redraw:null,getRedraw:function(){if(!this._redraw){var b=this;this._redraw=function(){b.draw();b._redrawTimer=0}}return this._redraw},destroy:function(){for(var b=0;b<this.layers.length;b++)this.layers[b].destroy();this.layers=[];this.projection=null;for(b=0;b<this.eventHandlers.length;b++)this.eventHandlers[b].remove();this.autoSize&&h.removeEvent(window,
"resize",this.windowResize())}};h.mapByCenterZoom=function(b,g,l,q){g=h.coerceLayer(g);b=new h.Map(b,g,!1);b.setCenterZoom(l,q).draw();return b};h.mapByExtent=function(b,g,l,q){g=h.coerceLayer(g);b=new h.Map(b,g,!1);b.setExtent([l,q]).draw();return b};"undefined"!==typeof module&&module.exports&&(module.exports={Point:h.Point,Projection:h.Projection,MercatorProjection:h.MercatorProjection,LinearProjection:h.LinearProjection,Transformation:h.Transformation,Location:h.Location,MapProvider:h.MapProvider,
TemplatedMapProvider:h.TemplatedMapProvider,Coordinate:h.Coordinate,deriveTransformation:h.deriveTransformation})})(MM);var lpad=function(h,t){for(var b="0",g=0;g<t;g++)b+="0";return(b+h).slice(-1*t)};
(function(){for(var h=0,t=["ms","moz","webkit","o"],b=0;b<t.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[t[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[b]+"CancelAnimationFrame"]||window[t[b]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var l=(new Date).getTime(),q=Math.max(0,16-(l-h)),s=window.setTimeout(function(){b(l+q)},q);h=l+q;return s});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(b){clearTimeout(b)})})();var play=!0,conflictmaps,removeLayers=!1,map=null,layers={},overlay=null,playButton=null,progressLine=null;counters={};totalChildren=totalCivilians=0;cloudFrontURL="http://d2c5ry9dy1ewvi.cloudfront.net";vizzURL="http://vizz2.cartodb.com";
var config={username:"viz2",query:"SELECT event at time zone 'EDT' AS timestamp, ST_AsGeoJson(the_geom) AS position, toll, toll_acc, cartodb_id AS id, child_deaths, child_deaths_acc FROM syrianspring ORDER BY event ASC",map:{id:"map",lat:34.6,lng:36.5,zoom:7,baseTemplate:"http://{S}tiles.mapbox.com/v3/cartodb.map-byl8dnag/{Z}/{X}/{Y}.png",intersectsTemplate:cloudFrontURL+"/tiles/syria_intersects/{Z}/{X}/{Y}.png",totalTemplate:cloudFrontURL+"/tiles/syrianspring_aggregated_toll_layer/{Z}/{X}/{Y}.png",
childTemplate:cloudFrontURL+"/tiles/syrianspring_aggregated_childs_layer/{Z}/{X}/{Y}.png"},graph:{width:164,height:120}},CartoDB=Backbone.CartoDB({path:""}),ConflictMap=CartoDB.CartoDBModel.extend({ANIMATION_TIME:144E7,getPos:function(){var h=$.parseJSON(this.get("position")).coordinates;return new MM.Location(h[1],h[0])},isActive:function(h){h-=this.time.getTime();return 0<h&&h<this.ANIMATION_TIME},scaleAt:function(h){var h=h-this.time.getTime(),t=this.ANIMATION_TIME;return 0<h&&h<t?1+10.5*Math.log(this.scale*
h/t+1):0},opacity:function(h){var h=h-this.time.getTime(),t=1.2*this.ANIMATION_TIME;return 0<h&&h<t?(h=1-h/t,0.5*Math.max(0,h*h)):0}}),ConflictMaps=CartoDB.CartoDBCollection.extend({initialize:function(){_.bindAll(this,"transform");this.bind("reset",this.transform)},transform:function(){this.each(function(h){h.time=new Date(h.get("timestamp"))});this.each(function(h){h.scale=parseFloat(h.get("toll"))})},getDeathToll:function(){var h=[];this.each(function(t){h.push([(new Date(t.get("timestamp"))).getTime(),
t.get("toll"),t.get("child_deaths")])});return h},getActiveStatus:function(h){for(var t=[],b=[],g=0;g<this.models.length;g++){var l=this.models[g];l.isActive(h)?t.push({id:l.id,data:l}):b.push({id:l.id,data:l})}return{active:t,inactive:b}},model:ConflictMap,sql:config.query});
function Overlay(h,t){this.conflictmaps=t;this.time=t.first().time.getTime();this.div=document.createElement("div");this.div.style.position="absolute";this.div.style.width=h.dimensions.x+"px";this.div.style.height=h.dimensions.y+"px";h.parent.appendChild(this.div);this.svg=d3.select(this.div).append("svg:svg").attr("width",h.dimensions.x).attr("height",h.dimensions.y);var b=this;this.setTime=function(g){b.time=b.conflictmaps.last().time.getTime()<b.time?b.conflictmaps.first().time.getTime():b.time+
g;clock.set(new Date(b.time))};h.addCallback("drawn",function(g){return b.draw(g)});this.draw(h)}
Overlay.prototype={graph:function(h){var t=this.conflictmaps.first().time.getTime(),b=this.conflictmaps.last().time.getTime(),g=this.conflictmaps.getDeathToll(b+1E4),l=[0,0,0,0],q=config.graph.width-l[1]-l[3],s=config.graph.height-l[0]-l[2],K=d3.time.scale().domain([t,b]).range([0,q]),C=d3.scale.linear().domain([0,d3.max(g,function(b){return b[1]})]).range([s,0]),t=d3.svg.line().x(function(b){return K(b[0])}).y(function(b){return C(b[1])}),b=d3.svg.line().x(function(b){return K(b[0])}).y(function(b){return C(b[2])}),
h=d3.select("#"+h).append("svg:svg").attr("width",q+l[1]+l[3]).attr("height",s+l[0]+l[2]).append("svg:g").attr("transform","translate("+l[3]+","+l[0]+")");h.append("svg:path").attr("d",t(g)).attr("class","data1");h.append("svg:path").attr("d",b(g)).attr("class","data2")},draw:function(h){var t=this,b=this.conflictmaps.getActiveStatus(this.time),g=this.svg.selectAll("g").remove(b.inactive),g=this.svg.selectAll("g").data(b.active,function(b){return b.id}).attr("transform",function(b){b=b.data.getPos(t.time);
b=h.coordinatePoint(h.locationCoordinate(b));return"translate("+b.x+","+b.y+")"}).enter().append("g").attr("transform",function(b){var g=b.data.getPos(t.time),g=h.coordinatePoint(h.locationCoordinate(g));updateCounters(b.data);return"translate("+g.x+","+g.y+")"});g.append("circle").attr("style","fill: #00f; fill-opacity: 0.5");this.svg.selectAll("g").selectAll("circle").attr("r",function(b){return b.data.scaleAt(t.time)}).attr("style",function(b){b=b.data.opacity(t.time);return"fill: #FF9900; fill-opacity: "+
b+"; stroke-opacity: "+b});b=this.conflictmaps.first().time.getTime();g=this.conflictmaps.last().time.getTime();b=Math.ceil(config.graph.width*(t.time-b)/(g-b));progressLine&&(progressLine.style.left=b+"px")}};
var Clock=Class.extend({init:function(){},setId:function(h){this.divid=h},clear:function(){},loading:function(){},setSecond:function(h){$("#"+this.divid+" .second").html(lpad(h,2))},setMinute:function(h){$("#"+this.divid+" .minute").html(lpad(h,2))},setHour:function(h){$("#"+this.divid+" .hour").html(lpad(h,2))},setDay:function(h){$("#"+this.divid+" .day").html(lpad(h,2))},setMonth:function(h){$("#"+this.divid+" .month").html(lpad(h+1,2))},setYear:function(h){h=(4>h.length?"0":"")+h;$("#"+this.divid+
" .year").html(lpad(h,4))},set:function(h){this._moveHand(h)},_moveHand:function(h){this.setDay(h.getDate());this.setMonth(h.getMonth());this.setYear(h.getFullYear())}});function toggleAnimation(){play=!play;removeLayers&&(map.removeLayerAt(2),map.removeLayerAt(2),removeLayers=!1);$("#play").toggleClass("pause");play&&loop()}function zoomIn(){map.setZoom(map.getZoom()+1)}function zoomOut(){map.setZoom(map.getZoom()-1)}
function updateCounters(h){var t=h.get("toll_acc");childrenCount=h.get("child_deaths_acc");counters.children.innerHTML=childrenCount;counters.civilians.innerHTML=t;counters.total.innerHTML=childrenCount+t}
function initMap(){document.getElementById("src");var h=new MM.Location(config.map.lat,config.map.lng);layers.baseLayer=new MM.TemplatedLayer(config.map.baseTemplate,["a.","b.","c."]);layers.intersectsLayer=new MM.Layer(new MM.TemplatedMapProvider(config.map.intersectsTemplate));layers.totalLayer=new MM.Layer(new MM.TemplatedMapProvider(config.map.totalTemplate));layers.childLayer=new MM.Layer(new MM.TemplatedMapProvider(config.map.childTemplate));map=new MM.Map(document.getElementById(config.map.id),
layers.baseLayer);map.setCenterZoom(h,config.map.zoom);map.insertLayerAt(1,layers.intersectsLayer);conflictmaps=new ConflictMaps;conflictmaps.bind("reset",onDataLoaded);conflictmaps.fetch()}
function onDataLoaded(){overlay=new Overlay(map,conflictmaps);overlay.graph("graph");graph=document.getElementById("graph");graph.className="fadeIn";counter=document.getElementById("counters");counter.className="fadeIn";playButton=document.getElementById("play");counters.civilians=document.getElementById("counter_civilians");counters.children=document.getElementById("counter_children");counters.total=document.getElementById("counter_total");document.getElementById("spinner").className="fadeOut"}
function renderLoop(){var h=overlay.time;overlay.setTime(35E6);overlay.time<h&&(play=!1,$("#play").removeClass("pause"),map.insertLayerAt(2,layers.totalLayer),map.insertLayerAt(3,layers.childLayer),removeLayers=!0,overlay.time=this.conflictmaps.first().time.getTime());overlay.draw(map)}function loop(){(function t(){play&&(requestAnimationFrame(t),renderLoop())})()}
function start(){clock=new Clock;clock.setId("clock");playButton=document.getElementById("play");playButton.onclick=function(){toggleAnimation()};$("#play").addClass("pause");$("aside").on("mouseenter",function(){$("#play").fadeIn(150)});$("aside").on("mouseleave",function(){play&&$("#play").fadeOut(150)});progressLine=document.getElementById("progress");progressLine.className="fadeIn";loop()};
